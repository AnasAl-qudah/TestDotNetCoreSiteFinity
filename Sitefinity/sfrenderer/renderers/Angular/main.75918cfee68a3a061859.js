(self.webpackChunkangular_renderer=self.webpackChunkangular_renderer||[]).push([[179],{255:mr=>{function ls(on){return Promise.resolve().then(()=>{var ai=new Error("Cannot find module '"+on+"'");throw ai.code="MODULE_NOT_FOUND",ai})}ls.keys=()=>[],ls.resolve=ls,ls.id=255,mr.exports=ls},524:(mr,ls,on)=>{var ai;!function(rn,Tl,Np,ft){"use strict";var ui,gr=["","webkit","Moz","MS","ms","o"],ju=Tl.createElement("div"),ci=Math.round,Ri=Math.abs,yr=Date.now;function Sl(y,_,C){return setTimeout(Dl(y,C),_)}function fa(y,_,C){return!!Array.isArray(y)&&(qn(y,C[_],C),!0)}function qn(y,_,C){var D;if(y)if(y.forEach)y.forEach(_,C);else if(y.length!==ft)for(D=0;D<y.length;)_.call(C,y[D],D,y),D++;else for(D in y)y.hasOwnProperty(D)&&_.call(C,y[D],D,y)}function at(y,_,C){var D="DEPRECATED METHOD: "+_+"\n"+C+" AT \n";return function(){var I=new Error("get-stack-trace"),G=I&&I.stack?I.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Me=rn.console&&(rn.console.warn||rn.console.log);return Me&&Me.call(rn.console,D,G),y.apply(this,arguments)}}ui="function"!=typeof Object.assign?function(_){if(_===ft||null===_)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(_),D=1;D<arguments.length;D++){var I=arguments[D];if(I!==ft&&null!==I)for(var G in I)I.hasOwnProperty(G)&&(C[G]=I[G])}return C}:Object.assign;var ma=at(function(_,C,D){for(var I=Object.keys(C),G=0;G<I.length;)(!D||D&&_[I[G]]===ft)&&(_[I[G]]=C[I[G]]),G++;return _},"extend","Use `assign`."),JS=at(function(_,C){return ma(_,C,!0)},"merge","Use `assign`.");function Xe(y,_,C){var I,D=_.prototype;(I=y.prototype=Object.create(D)).constructor=y,I._super=D,C&&ui(I,C)}function Dl(y,_){return function(){return y.apply(_,arguments)}}function Uu(y,_){return"function"==typeof y?y.apply(_&&_[0]||ft,_):y}function kp(y,_){return y===ft?_:y}function Gs(y,_,C){qn(lt(_),function(D){y.addEventListener(D,C,!1)})}function ga(y,_,C){qn(lt(_),function(D){y.removeEventListener(D,C,!1)})}function m_(y,_){for(;y;){if(y==_)return!0;y=y.parentNode}return!1}function Ws(y,_){return y.indexOf(_)>-1}function lt(y){return y.trim().split(/\s+/g)}function So(y,_,C){if(y.indexOf&&!C)return y.indexOf(_);for(var D=0;D<y.length;){if(C&&y[D][C]==_||!C&&y[D]===_)return D;D++}return-1}function $u(y){return Array.prototype.slice.call(y,0)}function qs(y,_,C){for(var D=[],I=[],G=0;G<y.length;){var Me=_?y[G][_]:y[G];So(I,Me)<0&&D.push(y[G]),I[G]=Me,G++}return C&&(D=_?D.sort(function(cn,me){return cn[_]>me[_]}):D.sort()),D}function ya(y,_){for(var C,D,I=_[0].toUpperCase()+_.slice(1),G=0;G<gr.length;){if((D=(C=gr[G])?C+I:_)in y)return D;G++}return ft}var Rp=1;function Gu(y){var _=y.ownerDocument||y;return _.defaultView||_.parentWindow||rn}var Wu="ontouchstart"in rn,Op=ya(rn,"PointerEvent")!==ft,g_=Wu&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),va="touch",Lp="mouse",Vp=["x","y"],Al=["clientX","clientY"];function Yn(y,_){var C=this;this.manager=y,this.callback=_,this.element=y.element,this.target=y.options.inputTarget,this.domHandler=function(D){Uu(y.options.enable,[y])&&C.handler(D)},this.init()}function Ku(y,_,C){var D=C.pointers.length,I=C.changedPointers.length,G=1&_&&D-I==0,Me=12&_&&D-I==0;C.isFirst=!!G,C.isFinal=!!Me,G&&(y.session={}),C.eventType=_,function(y,_){var C=y.session,D=_.pointers,I=D.length;C.firstInput||(C.firstInput=Bp(_)),I>1&&!C.firstMultiple?C.firstMultiple=Bp(_):1===I&&(C.firstMultiple=!1);var G=C.firstInput,Me=C.firstMultiple,Ut=Me?Me.center:G.center,cn=_.center=Ml(D);_.timeStamp=yr(),_.deltaTime=_.timeStamp-G.timeStamp,_.angle=Qu(Ut,cn),_.distance=Il(Ut,cn),function(y,_){var C=_.center,D=y.offsetDelta||{},I=y.prevDelta||{},G=y.prevInput||{};(1===_.eventType||4===G.eventType)&&(I=y.prevDelta={x:G.deltaX||0,y:G.deltaY||0},D=y.offsetDelta={x:C.x,y:C.y}),_.deltaX=I.x+(C.x-D.x),_.deltaY=I.y+(C.y-D.y)}(C,_),_.offsetDirection=Yu(_.deltaX,_.deltaY);var me=Pl(_.deltaTime,_.deltaX,_.deltaY);_.overallVelocityX=me.x,_.overallVelocityY=me.y,_.overallVelocity=Ri(me.x)>Ri(me.y)?me.x:me.y,_.scale=Me?function(y,_){return Il(_[0],_[1],Al)/Il(y[0],y[1],Al)}(Me.pointers,D):1,_.rotation=Me?function(y,_){return Qu(_[1],_[0],Al)+Qu(y[1],y[0],Al)}(Me.pointers,D):0,_.maxPointers=C.prevInput?_.pointers.length>C.prevInput.maxPointers?_.pointers.length:C.prevInput.maxPointers:_.pointers.length,function(y,_){var I,G,Me,Ut,C=y.lastInterval||_,D=_.timeStamp-C.timeStamp;if(8!=_.eventType&&(D>25||C.velocity===ft)){var cn=_.deltaX-C.deltaX,me=_.deltaY-C.deltaY,ds=Pl(D,cn,me);G=ds.x,Me=ds.y,I=Ri(ds.x)>Ri(ds.y)?ds.x:ds.y,Ut=Yu(cn,me),y.lastInterval=_}else I=C.velocity,G=C.velocityX,Me=C.velocityY,Ut=C.direction;_.velocity=I,_.velocityX=G,_.velocityY=Me,_.direction=Ut}(C,_);var ds=y.element;m_(_.srcEvent.target,ds)&&(ds=_.srcEvent.target),_.target=ds}(y,C),y.emit("hammer.input",C),y.recognize(C),y.session.prevInput=C}function Bp(y){for(var _=[],C=0;C<y.pointers.length;)_[C]={clientX:ci(y.pointers[C].clientX),clientY:ci(y.pointers[C].clientY)},C++;return{timeStamp:yr(),pointers:_,center:Ml(_),deltaX:y.deltaX,deltaY:y.deltaY}}function Ml(y){var _=y.length;if(1===_)return{x:ci(y[0].clientX),y:ci(y[0].clientY)};for(var C=0,D=0,I=0;I<_;)C+=y[I].clientX,D+=y[I].clientY,I++;return{x:ci(C/_),y:ci(D/_)}}function Pl(y,_,C){return{x:_/y||0,y:C/y||0}}function Yu(y,_){return y===_?1:Ri(y)>=Ri(_)?y<0?2:4:_<0?8:16}function Il(y,_,C){C||(C=Vp);var D=_[C[0]]-y[C[0]],I=_[C[1]]-y[C[1]];return Math.sqrt(D*D+I*I)}function Qu(y,_,C){return C||(C=Vp),180*Math.atan2(_[C[1]]-y[C[1]],_[C[0]]-y[C[0]])/Math.PI}Yn.prototype={handler:function(){},init:function(){this.evEl&&Gs(this.element,this.evEl,this.domHandler),this.evTarget&&Gs(this.target,this.evTarget,this.domHandler),this.evWin&&Gs(Gu(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ga(this.element,this.evEl,this.domHandler),this.evTarget&&ga(this.target,this.evTarget,this.domHandler),this.evWin&&ga(Gu(this.element),this.evWin,this.domHandler)}};var w_={mousedown:1,mousemove:2,mouseup:4},t1="mousedown",T_="mousemove mouseup";function Nl(){this.evEl=t1,this.evWin=T_,this.pressed=!1,Yn.apply(this,arguments)}Xe(Nl,Yn,{handler:function(_){var C=w_[_.type];1&C&&0===_.button&&(this.pressed=!0),2&C&&1!==_.which&&(C=4),this.pressed&&(4&C&&(this.pressed=!1),this.callback(this.manager,C,{pointers:[_],changedPointers:[_],pointerType:Lp,srcEvent:_}))}});var S_={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},D_={2:va,3:"pen",4:Lp,5:"kinect"},zp="pointerdown",Fe="pointermove pointerup pointercancel";function wa(){this.evEl=zp,this.evWin=Fe,Yn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}rn.MSPointerEvent&&!rn.PointerEvent&&(zp="MSPointerDown",Fe="MSPointerMove MSPointerUp MSPointerCancel"),Xe(wa,Yn,{handler:function(_){var C=this.store,D=!1,I=_.type.toLowerCase().replace("ms",""),G=S_[I],Me=D_[_.pointerType]||_.pointerType,Ut=Me==va,cn=So(C,_.pointerId,"pointerId");1&G&&(0===_.button||Ut)?cn<0&&(C.push(_),cn=C.length-1):12&G&&(D=!0),!(cn<0)&&(C[cn]=_,this.callback(this.manager,G,{pointers:C,changedPointers:[_],pointerType:Me,srcEvent:_}),D&&C.splice(cn,1))}});var Te={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Xu="touchstart",E_="touchstart touchmove touchend touchcancel";function kl(){this.evTarget=Xu,this.evWin=E_,this.started=!1,Yn.apply(this,arguments)}function te(y,_){var C=$u(y.touches),D=$u(y.changedTouches);return 12&_&&(C=qs(C.concat(D),"identifier",!0)),[C,D]}Xe(kl,Yn,{handler:function(_){var C=Te[_.type];if(1===C&&(this.started=!0),this.started){var D=te.call(this,_,C);12&C&&D[0].length-D[1].length==0&&(this.started=!1),this.callback(this.manager,C,{pointers:D[0],changedPointers:D[1],pointerType:va,srcEvent:_})}}});var Hp={touchstart:1,touchmove:2,touchend:4,touchcancel:8},n1="touchstart touchmove touchend touchcancel";function Li(){this.evTarget=n1,this.targetIds={},Yn.apply(this,arguments)}function i1(y,_){var C=$u(y.touches),D=this.targetIds;if(3&_&&1===C.length)return D[C[0].identifier]=!0,[C,C];var I,G,Me=$u(y.changedTouches),Ut=[],cn=this.target;if(G=C.filter(function(me){return m_(me.target,cn)}),1===_)for(I=0;I<G.length;)D[G[I].identifier]=!0,I++;for(I=0;I<Me.length;)D[Me[I].identifier]&&Ut.push(Me[I]),12&_&&delete D[Me[I].identifier],I++;return Ut.length?[qs(G.concat(Ut),"identifier",!0),Ut]:void 0}function Yt(){Yn.apply(this,arguments);var y=Dl(this.handler,this);this.touch=new Li(this.manager,y),this.mouse=new Nl(this.manager,y),this.primaryTouch=null,this.lastTouches=[]}function A_(y,_){1&y?(this.primaryTouch=_.changedPointers[0].identifier,M_.call(this,_)):12&y&&M_.call(this,_)}function M_(y){var _=y.changedPointers[0];if(_.identifier===this.primaryTouch){var C={x:_.clientX,y:_.clientY};this.lastTouches.push(C);var D=this.lastTouches;setTimeout(function(){var G=D.indexOf(C);G>-1&&D.splice(G,1)},2500)}}function s1(y){for(var _=y.srcEvent.clientX,C=y.srcEvent.clientY,D=0;D<this.lastTouches.length;D++){var I=this.lastTouches[D],G=Math.abs(_-I.x),Me=Math.abs(C-I.y);if(G<=25&&Me<=25)return!0}return!1}Xe(Li,Yn,{handler:function(_){var C=Hp[_.type],D=i1.call(this,_,C);!D||this.callback(this.manager,C,{pointers:D[0],changedPointers:D[1],pointerType:va,srcEvent:_})}}),Xe(Yt,Yn,{handler:function(_,C,D){var G=D.pointerType==Lp;if(!(G&&D.sourceCapabilities&&D.sourceCapabilities.firesTouchEvents)){if(D.pointerType==va)A_.call(this,C,D);else if(G&&s1.call(this,D))return;this.callback(_,C,D)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ta=ya(ju.style,"touchAction"),Tn=Ta!==ft,P_="compute",Up="manipulation",xn="none",Rl="pan-x",Ol="pan-y",Ju=function(){if(!Tn)return!1;var y={},_=rn.CSS&&rn.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(C){y[C]=!_||rn.CSS.supports("touch-action",C)}),y}();function $p(y,_){this.manager=y,this.set(_)}function H(y){this.options=ui({},this.defaults,y||{}),this.id=Rp++,this.manager=null,this.options.enable=kp(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function N_(y){return 16&y?"cancel":8&y?"end":4&y?"move":2&y?"start":""}function jt(y){return 16==y?"down":8==y?"up":2==y?"left":4==y?"right":""}function Qn(y,_){var C=_.manager;return C?C.get(y):y}function Xn(){H.apply(this,arguments)}function Vl(){Xn.apply(this,arguments),this.pX=null,this.pY=null}function eh(){Xn.apply(this,arguments)}function Bl(){H.apply(this,arguments),this._timer=null,this._input=null}function xr(){Xn.apply(this,arguments)}function Sa(){Xn.apply(this,arguments)}function Da(){H.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Do(y,_){return(_=_||{}).recognizers=kp(_.recognizers,Do.defaults.preset),new th(y,_)}function th(y,_){this.options=ui({},Do.defaults,_||{}),this.options.inputTarget=this.options.inputTarget||y,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=y,this.input=function(y){return new(y.options.inputClass||(Op?wa:g_?Li:Wu?Yt:Nl))(y,Ku)}(this),this.touchAction=new $p(this,this.options.touchAction),hs(this,!0),qn(this.options.recognizers,function(C){var D=this.add(new C[0](C[1]));C[2]&&D.recognizeWith(C[2]),C[3]&&D.requireFailure(C[3])},this)}function hs(y,_){var D,C=y.element;C.style&&(qn(y.options.cssProps,function(I,G){D=ya(C.style,G),_?(y.oldCssProps[D]=C.style[D],C.style[D]=I):C.style[D]=y.oldCssProps[D]||""}),_||(y.oldCssProps={}))}$p.prototype={set:function(y){y==P_&&(y=this.compute()),Tn&&this.manager.element.style&&Ju[y]&&(this.manager.element.style[Ta]=y),this.actions=y.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var y=[];return qn(this.manager.recognizers,function(_){Uu(_.options.enable,[_])&&(y=y.concat(_.getTouchAction()))}),function(y){if(Ws(y,xn))return xn;var _=Ws(y,Rl),C=Ws(y,Ol);return _&&C?xn:_||C?_?Rl:Ol:Ws(y,Up)?Up:"auto"}(y.join(" "))},preventDefaults:function(y){var _=y.srcEvent,C=y.offsetDirection;if(!this.manager.session.prevented){var D=this.actions,I=Ws(D,xn)&&!Ju[xn],G=Ws(D,Ol)&&!Ju[Ol],Me=Ws(D,Rl)&&!Ju[Rl];if(I&&1===y.pointers.length&&y.distance<2&&y.deltaTime<250)return;return Me&&G||!(I||G&&6&C||Me&&24&C)?void 0:this.preventSrc(_)}_.preventDefault()},preventSrc:function(y){this.manager.session.prevented=!0,y.preventDefault()}},H.prototype={defaults:{},set:function(y){return ui(this.options,y),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(y){if(fa(y,"recognizeWith",this))return this;var _=this.simultaneous;return _[(y=Qn(y,this)).id]||(_[y.id]=y,y.recognizeWith(this)),this},dropRecognizeWith:function(y){return fa(y,"dropRecognizeWith",this)||(y=Qn(y,this),delete this.simultaneous[y.id]),this},requireFailure:function(y){if(fa(y,"requireFailure",this))return this;var _=this.requireFail;return-1===So(_,y=Qn(y,this))&&(_.push(y),y.requireFailure(this)),this},dropRequireFailure:function(y){if(fa(y,"dropRequireFailure",this))return this;y=Qn(y,this);var _=So(this.requireFail,y);return _>-1&&this.requireFail.splice(_,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(y){return!!this.simultaneous[y.id]},emit:function(y){var _=this,C=this.state;function D(I){_.manager.emit(I,y)}C<8&&D(_.options.event+N_(C)),D(_.options.event),y.additionalEvent&&D(y.additionalEvent),C>=8&&D(_.options.event+N_(C))},tryEmit:function(y){if(this.canEmit())return this.emit(y);this.state=32},canEmit:function(){for(var y=0;y<this.requireFail.length;){if(!(33&this.requireFail[y].state))return!1;y++}return!0},recognize:function(y){var _=ui({},y);if(!Uu(this.options.enable,[this,_]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(_),30&this.state&&this.tryEmit(_)},process:function(y){},getTouchAction:function(){},reset:function(){}},Xe(Xn,H,{defaults:{pointers:1},attrTest:function(y){var _=this.options.pointers;return 0===_||y.pointers.length===_},process:function(y){var _=this.state,C=y.eventType,D=6&_,I=this.attrTest(y);return D&&(8&C||!I)?16|_:D||I?4&C?8|_:2&_?4|_:2:32}}),Xe(Vl,Xn,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var y=this.options.direction,_=[];return 6&y&&_.push(Ol),24&y&&_.push(Rl),_},directionTest:function(y){var _=this.options,C=!0,D=y.distance,I=y.direction,G=y.deltaX,Me=y.deltaY;return I&_.direction||(6&_.direction?(I=0===G?1:G<0?2:4,C=G!=this.pX,D=Math.abs(y.deltaX)):(I=0===Me?1:Me<0?8:16,C=Me!=this.pY,D=Math.abs(y.deltaY))),y.direction=I,C&&D>_.threshold&&I&_.direction},attrTest:function(y){return Xn.prototype.attrTest.call(this,y)&&(2&this.state||!(2&this.state)&&this.directionTest(y))},emit:function(y){this.pX=y.deltaX,this.pY=y.deltaY;var _=jt(y.direction);_&&(y.additionalEvent=this.options.event+_),this._super.emit.call(this,y)}}),Xe(eh,Xn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[xn]},attrTest:function(y){return this._super.attrTest.call(this,y)&&(Math.abs(y.scale-1)>this.options.threshold||2&this.state)},emit:function(y){1!==y.scale&&(y.additionalEvent=this.options.event+(y.scale<1?"in":"out")),this._super.emit.call(this,y)}}),Xe(Bl,H,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(y){var _=this.options,C=y.pointers.length===_.pointers,D=y.distance<_.threshold,I=y.deltaTime>_.time;if(this._input=y,!D||!C||12&y.eventType&&!I)this.reset();else if(1&y.eventType)this.reset(),this._timer=Sl(function(){this.state=8,this.tryEmit()},_.time,this);else if(4&y.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(y){8===this.state&&(y&&4&y.eventType?this.manager.emit(this.options.event+"up",y):(this._input.timeStamp=yr(),this.manager.emit(this.options.event,this._input)))}}),Xe(xr,Xn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[xn]},attrTest:function(y){return this._super.attrTest.call(this,y)&&(Math.abs(y.rotation)>this.options.threshold||2&this.state)}}),Xe(Sa,Xn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Vl.prototype.getTouchAction.call(this)},attrTest:function(y){var C,_=this.options.direction;return 30&_?C=y.overallVelocity:6&_?C=y.overallVelocityX:24&_&&(C=y.overallVelocityY),this._super.attrTest.call(this,y)&&_&y.offsetDirection&&y.distance>this.options.threshold&&y.maxPointers==this.options.pointers&&Ri(C)>this.options.velocity&&4&y.eventType},emit:function(y){var _=jt(y.offsetDirection);_&&this.manager.emit(this.options.event+_,y),this.manager.emit(this.options.event,y)}}),Xe(Da,H,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Up]},process:function(y){var _=this.options,C=y.pointers.length===_.pointers,D=y.distance<_.threshold,I=y.deltaTime<_.time;if(this.reset(),1&y.eventType&&0===this.count)return this.failTimeout();if(D&&I&&C){if(4!=y.eventType)return this.failTimeout();var G=!this.pTime||y.timeStamp-this.pTime<_.interval,Me=!this.pCenter||Il(this.pCenter,y.center)<_.posThreshold;if(this.pTime=y.timeStamp,this.pCenter=y.center,Me&&G?this.count+=1:this.count=1,this._input=y,0==this.count%_.taps)return this.hasRequireFailures()?(this._timer=Sl(function(){this.state=8,this.tryEmit()},_.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Sl(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Do.VERSION="2.0.7",Do.defaults={domEvents:!1,touchAction:P_,enable:!0,inputTarget:null,inputClass:null,preset:[[xr,{enable:!1}],[eh,{enable:!1},["rotate"]],[Sa,{direction:6}],[Vl,{direction:6},["swipe"]],[Da],[Da,{event:"doubletap",taps:2},["tap"]],[Bl]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},th.prototype={set:function(y){return ui(this.options,y),y.touchAction&&this.touchAction.update(),y.inputTarget&&(this.input.destroy(),this.input.target=y.inputTarget,this.input.init()),this},stop:function(y){this.session.stopped=y?2:1},recognize:function(y){var _=this.session;if(!_.stopped){this.touchAction.preventDefaults(y);var C,D=this.recognizers,I=_.curRecognizer;(!I||I&&8&I.state)&&(I=_.curRecognizer=null);for(var G=0;G<D.length;)C=D[G],2===_.stopped||I&&C!=I&&!C.canRecognizeWith(I)?C.reset():C.recognize(y),!I&&14&C.state&&(I=_.curRecognizer=C),G++}},get:function(y){if(y instanceof H)return y;for(var _=this.recognizers,C=0;C<_.length;C++)if(_[C].options.event==y)return _[C];return null},add:function(y){if(fa(y,"add",this))return this;var _=this.get(y.options.event);return _&&this.remove(_),this.recognizers.push(y),y.manager=this,this.touchAction.update(),y},remove:function(y){if(fa(y,"remove",this))return this;if(y=this.get(y)){var _=this.recognizers,C=So(_,y);-1!==C&&(_.splice(C,1),this.touchAction.update())}return this},on:function(y,_){if(y!==ft&&_!==ft){var C=this.handlers;return qn(lt(y),function(D){C[D]=C[D]||[],C[D].push(_)}),this}},off:function(y,_){if(y!==ft){var C=this.handlers;return qn(lt(y),function(D){_?C[D]&&C[D].splice(So(C[D],_),1):delete C[D]}),this}},emit:function(y,_){this.options.domEvents&&function(y,_){var C=Tl.createEvent("Event");C.initEvent(y,!0,!0),C.gesture=_,_.target.dispatchEvent(C)}(y,_);var C=this.handlers[y]&&this.handlers[y].slice();if(C&&C.length){_.type=y,_.preventDefault=function(){_.srcEvent.preventDefault()};for(var D=0;D<C.length;)C[D](_),D++}},destroy:function(){this.element&&hs(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ui(Do,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:th,Input:Yn,TouchAction:$p,TouchInput:Li,MouseInput:Nl,PointerEventInput:wa,TouchMouseInput:Yt,SingleTouchInput:kl,Recognizer:H,AttrRecognizer:Xn,Tap:Da,Pan:Vl,Swipe:Sa,Pinch:eh,Rotate:xr,Press:Bl,on:Gs,off:ga,each:qn,merge:JS,extend:ma,assign:ui,inherit:Xe,bindFn:Dl,prefixed:ya}),(void 0!==rn?rn:"undefined"!=typeof self?self:{}).Hammer=Do,(ai=function(){return Do}.call(ls,on,ls,mr))!==ft&&(mr.exports=ai)}(window,document)},442:(mr,ls,on)=>{"use strict";var ai={};on.r(ai),on.d(ai,{DEG_TO_RAD:()=>_C,LRUCache:()=>mk,MAX_NUM:()=>Yc,MIN_NUM:()=>Qc,TextMetrics:()=>vk,append:()=>fd,arabicToRoman:()=>QY,bindEvents:()=>bC,createPromise:()=>md,defined:()=>oe,definitionId:()=>Gm,deg:()=>Br,elementOffset:()=>uk,elementPadding:()=>dk,elementScale:()=>fk,elementSize:()=>yd,elementStyles:()=>Km,encodeBase64:()=>rk,eventCoordinates:()=>ak,eventElement:()=>lk,hashKey:()=>yk,isTransparent:()=>Ya,last:()=>mn,limitValue:()=>qm,measureText:()=>Ym,mergeSort:()=>JY,normalizeText:()=>wC,now:()=>gd,objectKey:()=>gk,promiseAll:()=>ck,rad:()=>co,round:()=>tt,unbindEvents:()=>CC,valueOrDefault:()=>xC});var rn={};on.r(rn),on.d(rn,{easeOutElastic:()=>cX,linear:()=>lX,swing:()=>aX});var Tl={};on.r(Tl),on.d(Tl,{ArcNode:()=>iO,CircleNode:()=>sO,ClipNode:()=>J2,DefinitionNode:()=>eO,GradientStopNode:()=>Y2,GroupNode:()=>oO,ImageNode:()=>rO,LinearGradientNode:()=>X2,MultiPathNode:()=>aO,Node:()=>Xr,PathNode:()=>Zr,RadialGradientNode:()=>Z2,RectNode:()=>lO,RootNode:()=>sw,Surface:()=>uO,TextNode:()=>cO,exportGroup:()=>CL});var Np={};on.r(Np),on.d(Np,{ArcNode:()=>mO,CircleNode:()=>gO,GroupNode:()=>uw,ImageNode:()=>yO,MultiPathNode:()=>_O,Node:()=>cw,PathNode:()=>Jr,RectNode:()=>vO,RootNode:()=>hO,Surface:()=>dw,TextNode:()=>xO});var ft={};function gr(i){return"function"==typeof i}on.r(ft),on.d(ft,{Animation:()=>Ti,AnimationFactory:()=>Ls,Arc:()=>Ene,BaseNode:()=>Qd,Circle:()=>Wo,Element:()=>ho,Gradient:()=>WC,GradientStop:()=>GC,Group:()=>st,HasObservers:()=>Ci,Image:()=>_L,Layout:()=>SO,LinearGradient:()=>fg,MultiPath:()=>po,OptionsStore:()=>NC,Path:()=>ne,PathParser:()=>Bne,QuadNode:()=>pO,RadialGradient:()=>mg,Rect:()=>Pne,ShapesQuadTree:()=>hw,Surface:()=>Zd,SurfaceFactory:()=>gw,Text:()=>pR,align:()=>Ine,canvas:()=>Np,exportImage:()=>wL,exportSVG:()=>TL,fit:()=>Vne,parsePath:()=>VC,stack:()=>kne,svg:()=>Tl,util:()=>ai,vAlign:()=>Nne,vStack:()=>Rne,vWrap:()=>Fne,wrap:()=>Lne});let ju=!1;const li={Promise:void 0,set useDeprecatedSynchronousErrorHandling(i){if(i){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ju&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ju=i},get useDeprecatedSynchronousErrorHandling(){return ju}};function ci(i){setTimeout(()=>{throw i},0)}const Ri={closed:!0,next(i){},error(i){if(li.useDeprecatedSynchronousErrorHandling)throw i;ci(i)},complete(){}},yr=Array.isArray||(i=>i&&"number"==typeof i.length);function Sl(i){return null!==i&&"object"==typeof i}const qn=(()=>{function i(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,n)=>`${n+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return i.prototype=Object.create(Error.prototype),i})();class at{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_unsubscribe:n,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof at)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(gr(n))try{n.call(this)}catch(o){e=o instanceof qn?ui(o.errors):[o]}if(yr(s)){let o=-1,r=s.length;for(;++o<r;){const a=s[o];if(Sl(a))try{a.unsubscribe()}catch(l){e=e||[],l instanceof qn?e=e.concat(ui(l.errors)):e.push(l)}}}if(e)throw new qn(e)}add(e){let t=e;if(!e)return at.EMPTY;switch(typeof e){case"function":t=new at(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof at)){const o=t;t=new at,t._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof at){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[t]:s.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var i;function ui(i){return i.reduce((e,t)=>e.concat(t instanceof qn?t.errors:t),[])}at.EMPTY=((i=new at).closed=!0,i);const ma="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Xe extends at{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ri;break;case 1:if(!e){this.destination=Ri;break}if("object"==typeof e){e instanceof Xe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Dl(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Dl(this,e,t,n)}}[ma](){return this}static create(e,t,n){const s=new Xe(e,t,n);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Dl extends Xe{constructor(e,t,n,s){super(),this._parentSubscriber=e;let o,r=this;gr(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==Ri&&(r=Object.create(t),gr(r.unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;li.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=li;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):ci(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;ci(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);li.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),li.useDeprecatedSynchronousErrorHandling)throw n;ci(n)}}__tryOrSetError(e,t,n){if(!li.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(s){return li.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(ci(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Gs="function"==typeof Symbol&&Symbol.observable||"@@observable";function ga(i){return i}let lt=(()=>{class i{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,s){const{operator:o}=this,r=function(i,e,t){if(i){if(i instanceof Xe)return i;if(i[ma])return i[ma]()}return i||e||t?new Xe(i,e,t):new Xe(Ri)}(t,n,s);if(r.add(o?o.call(r,this.source):this.source||li.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),li.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(n){li.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),function(i){for(;i;){const{closed:e,destination:t,isStopped:n}=i;if(e||n)return!1;i=t&&t instanceof Xe?t:null}return!0}(t)?t.error(n):console.warn(n)}}forEach(t,n){return new(n=So(n))((s,o)=>{let r;r=this.subscribe(a=>{try{t(a)}catch(l){o(l),r&&r.unsubscribe()}},o,s)})}_subscribe(t){const{source:n}=this;return n&&n.subscribe(t)}[Gs](){return this}pipe(...t){return 0===t.length?this:function(i){return 0===i.length?ga:1===i.length?i[0]:function(t){return i.reduce((n,s)=>s(n),t)}}(t)(this)}toPromise(t){return new(t=So(t))((n,s)=>{let o;this.subscribe(r=>o=r,r=>s(r),()=>n(o))})}}return i.create=e=>new i(e),i})();function So(i){if(i||(i=li.Promise||Promise),!i)throw new Error("no Promise impl found");return i}const qs=(()=>{function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return i.prototype=Object.create(Error.prototype),i})();class ya extends at{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class Rp extends Xe{constructor(e){super(e),this.destination=e}}let _r=(()=>{class i extends lt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ma](){return new Rp(this)}lift(t){const n=new Gu(this,this);return n.operator=t,n}next(t){if(this.closed)throw new qs;if(!this.isStopped){const{observers:n}=this,s=n.length,o=n.slice();for(let r=0;r<s;r++)o[r].next(t)}}error(t){if(this.closed)throw new qs;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:n}=this,s=n.length,o=n.slice();for(let r=0;r<s;r++)o[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new qs;this.isStopped=!0;const{observers:t}=this,n=t.length,s=t.slice();for(let o=0;o<n;o++)s[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new qs;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new qs;return this.hasError?(t.error(this.thrownError),at.EMPTY):this.isStopped?(t.complete(),at.EMPTY):(this.observers.push(t),new ya(this,t))}asObservable(){const t=new lt;return t.source=this,t}}return i.create=(e,t)=>new Gu(e,t),i})();class Gu extends _r{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):at.EMPTY}}function _a(i){return i&&"function"==typeof i.schedule}class Wu extends Xe{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const Op=i=>e=>{for(let t=0,n=i.length;t<n&&!e.closed;t++)e.next(i[t]);e.complete()},El="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",an=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function Ks(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}const vt=i=>{if(i&&"function"==typeof i[Gs])return(i=>e=>{const t=i[Gs]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(i);if(an(i))return Op(i);if(Ks(i))return(i=>e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ci),e))(i);if(i&&"function"==typeof i[El])return(i=>e=>{const t=i[El]();for(;;){let n;try{n=t.next()}catch(s){return e.error(s),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(i);{const t=`You provided ${Sl(i)?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function ln(i,e,t,n,s=new Wu(i,t,n)){if(!s.closed)return e instanceof lt?e.subscribe(s):vt(e)(s)}class vr extends Xe{notifyNext(e,t,n,s,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function Kn(i,e){return function(n){if("function"!=typeof i)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new xa(i,e))}}class xa{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new ba(e,this.project,this.thisArg))}}class ba extends Xe{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function cs(i,e){return new lt(t=>{const n=new at;let s=0;return n.add(e.schedule(function(){s!==i.length?(t.next(i[s++]),t.closed||n.add(this.schedule())):t.complete()})),n})}function qu(i,e){return e?function(i,e){if(null!=i){if(function(i){return i&&"function"==typeof i[Gs]}(i))return function(i,e){return new lt(t=>{const n=new at;return n.add(e.schedule(()=>{const s=i[Gs]();n.add(s.subscribe({next(o){n.add(e.schedule(()=>t.next(o)))},error(o){n.add(e.schedule(()=>t.error(o)))},complete(){n.add(e.schedule(()=>t.complete()))}}))})),n})}(i,e);if(Ks(i))return function(i,e){return new lt(t=>{const n=new at;return n.add(e.schedule(()=>i.then(s=>{n.add(e.schedule(()=>{t.next(s),n.add(e.schedule(()=>t.complete()))}))},s=>{n.add(e.schedule(()=>t.error(s)))}))),n})}(i,e);if(an(i))return cs(i,e);if(function(i){return i&&"function"==typeof i[El]}(i)||"string"==typeof i)return function(i,e){if(!i)throw new Error("Iterable cannot be null");return new lt(t=>{const n=new at;let s;return n.add(()=>{s&&"function"==typeof s.return&&s.return()}),n.add(e.schedule(()=>{s=i[El](),n.add(e.schedule(function(){if(t.closed)return;let o,r;try{const a=s.next();o=a.value,r=a.done}catch(a){return void t.error(a)}r?t.complete():(t.next(o),this.schedule())}))})),n})}(i,e)}throw new TypeError((null!==i&&typeof i||i)+" is not observable")}(i,e):i instanceof lt?i:new lt(vt(i))}function Ku(i,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(Ku((s,o)=>qu(i(s,o)).pipe(Kn((r,a)=>e(s,r,o,a))),t)):("number"==typeof e&&(t=e),n=>n.lift(new v_(i,t)))}class v_{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new x_(e,this.project,this.concurrent))}}class x_ extends vr{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const s=new Wu(this,t,n),o=this.destination;o.add(s);const r=ln(this,e,void 0,void 0,s);r!==s&&o.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,s,o){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Ml(i,e){return e?cs(i,e):new lt(Op(i))}function Pl(...i){let e=Number.POSITIVE_INFINITY,t=null,n=i[i.length-1];return _a(n)?(t=i.pop(),i.length>1&&"number"==typeof i[i.length-1]&&(e=i.pop())):"number"==typeof n&&(e=i.pop()),null===t&&1===i.length&&i[0]instanceof lt?i[0]:function(i=Number.POSITIVE_INFINITY){return Ku(ga,i)}(e)(Ml(i,t))}function Yu(){return function(e){return e.lift(new Il(e))}}class Il{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const s=new Qu(e,n),o=t.subscribe(s);return s.closed||(s.connection=n.connect()),o}}class Qu extends Xe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,s=e._connection;this.connection=null,s&&(!n||s===n)&&s.unsubscribe()}}class b_ extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new at,e.add(this.source.subscribe(new w_(this.getSubject(),this))),e.closed&&(this._connection=null,e=at.EMPTY)),e}refCount(){return Yu()(this)}}const C_=(()=>{const i=b_.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:i._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}}})();class w_ extends Rp{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function D_(){return new _r}function Fe(i){for(let e in i)if(i[e]===Fe)return e;throw Error("Could not find renamed property on target object.")}function wa(i,e){for(const t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function Te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const e=i.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Xu(i,e){return null==i||""===i?null===e?"":e:null==e||""===e?i:i+" "+e}const E_=Fe({__forward_ref__:Fe});function kl(i){return i.__forward_ref__=kl,i.toString=function(){return Te(this())},i}function te(i){return Hp(i)?i():i}function Hp(i){return"function"==typeof i&&i.hasOwnProperty(E_)&&i.__forward_ref__===kl}class Li extends Error{constructor(e,t){super(function(i,e){return`${i?`NG0${i}: `:""}${e}`}(e,t)),this.code=e}}function pe(i){return"string"==typeof i?i:null==i?"":String(i)}function Yt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pe(i)}function Ta(i,e){const t=e?` in ${e}`:"";throw new Li("201",`No provider for ${Yt(i)} found${t}`)}function Ht(i,e){null==i&&function(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}(e,i,null,"!=")}function H(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Qn(i){return Xn(i,xr)||Xn(i,Da)}function Xn(i,e){return i.hasOwnProperty(e)?i[e]:null}function Bl(i){return i&&(i.hasOwnProperty(Sa)||i.hasOwnProperty(Do))?i[Sa]:null}const xr=Fe({\u0275prov:Fe}),Sa=Fe({\u0275inj:Fe}),Da=Fe({ngInjectableDef:Fe}),Do=Fe({ngInjectorDef:Fe});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let zl;function hs(i){const e=zl;return zl=i,e}function Gp(i,e,t){const n=Qn(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:t&re.Optional?null:void 0!==e?e:void Ta(Te(i),"Injector")}function y(i){return{toString:i}.toString()}var _=(()=>((_=_||{})[_.OnPush=0]="OnPush",_[_.Default=1]="Default",_))(),I=(()=>((I=I||{})[I.Emulated=0]="Emulated",I[I.None=2]="None",I[I.ShadowDom=3]="ShadowDom",I))();const G="undefined"!=typeof globalThis&&globalThis,Me="undefined"!=typeof window&&window,Ut="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,me=G||"undefined"!=typeof global&&global||Me||Ut,Hl={},it=[],Wp=Fe({\u0275cmp:Fe}),k_=Fe({\u0275dir:Fe}),R_=Fe({\u0275pipe:Fe}),a1=Fe({\u0275mod:Fe}),Kz=Fe({\u0275loc:Fe}),Eo=Fe({\u0275fac:Fe}),nh=Fe({__NG_ELEMENT_ID__:Fe});let Yz=0;function E(i){return y(()=>{const t={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===_.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||it,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||I.Emulated,id:"c",styles:i.styles||it,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.directives,o=i.features,r=i.pipes;return n.id+=Yz++,n.inputs=d1(i.inputs,t),n.outputs=d1(i.outputs),o&&o.forEach(a=>a(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(c1):null,n.pipeDefs=r?()=>("function"==typeof r?r():r).map(u1):null,n})}function c1(i){return kn(i)||function(i){return i[k_]||null}(i)}function u1(i){return function(i){return i[R_]||null}(i)}const h1={};function Nn(i){return y(()=>{const e={type:i.type,bootstrap:i.bootstrap||it,declarations:i.declarations||it,imports:i.imports||it,exports:i.exports||it,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(h1[i.id]=i.type),e})}function d1(i,e){if(null==i)return Hl;const t={};for(const n in i)if(i.hasOwnProperty(n)){let s=i[n],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),t[s]=n,e&&(e[s]=o)}return t}const xt=E;function Sn(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function kn(i){return i[Wp]||null}function Fi(i,e){const t=i[a1]||null;if(!t&&!0===e)throw new Error(`Type ${Te(i)} does not have '\u0275mod' property.`);return t}function Qs(i){return Array.isArray(i)&&"object"==typeof i[1]}function fs(i){return Array.isArray(i)&&!0===i[1]}function F_(i){return 0!=(8&i.flags)}function Qp(i){return 2==(2&i.flags)}function Xp(i){return 1==(1&i.flags)}function ms(i){return null!==i.template}function tH(i){return 0!=(512&i[2])}function Ia(i,e){return i.hasOwnProperty(Eo)?i[Eo]:null}class B_{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Xs(){return f1}function f1(i){return i.type.prototype.ngOnChanges&&(i.setInput=oH),sH}function sH(){const i=g1(this),e=null==i?void 0:i.current;if(e){const t=i.previous;if(t===Hl)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function oH(i,e,t,n){const s=g1(i)||function(i,e){return i[m1]=e}(i,{previous:Hl,current:null}),o=s.current||(s.current={}),r=s.previous,a=this.declaredInputs[t],l=r[a];o[a]=new B_(l&&l.currentValue,e,r===Hl),i[n]=e}Xs.ngInherit=!0;const m1="__ngSimpleChanges__";function g1(i){return i[m1]||null}let H_;function j_(){return void 0!==H_?H_:"undefined"!=typeof document?document:void 0}function Mt(i){return!!i.listen}const v1={createRenderer:(i,e)=>j_()};function $t(i){for(;Array.isArray(i);)i=i[0];return i}function Zp(i,e){return $t(e[i])}function zi(i,e){return $t(e[i.index])}function U_(i,e){return i.data[e]}function pi(i,e){const t=e[i];return Qs(t)?t:t[0]}function x1(i){return 4==(4&i[2])}function $_(i){return 128==(128&i[2])}function Cr(i,e){return null==e?null:i[e]}function b1(i){i[18]=0}function G_(i,e){i[5]+=e;let t=i,n=i[3];for(;null!==n&&(1===e&&1===t[5]||-1===e&&0===t[5]);)n[5]+=e,t=n,n=n[3]}const ge={lFrame:M1(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function C1(){return ge.bindingsEnabled}function k(){return ge.lFrame.lView}function Be(){return ge.lFrame.tView}function wr(i){return ge.lFrame.contextLView=i,i[8]}function Qt(){let i=w1();for(;null!==i&&64===i.type;)i=i.parent;return i}function w1(){return ge.lFrame.currentTNode}function Zs(i,e){const t=ge.lFrame;t.currentTNode=i,t.isParent=e}function W_(){return ge.lFrame.isParent}function q_(){ge.lFrame.isParent=!1}function Jp(){return ge.isInCheckNoChangesMode}function ef(i){ge.isInCheckNoChangesMode=i}function ql(){return ge.lFrame.bindingIndex++}function Ao(i){const e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function xH(i,e){const t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=i,K_(e)}function K_(i){ge.lFrame.currentDirectiveIndex=i}function D1(){return ge.lFrame.currentQueryIndex}function Q_(i){ge.lFrame.currentQueryIndex=i}function CH(i){const e=i[1];return 2===e.type?e.declTNode:1===e.type?i[6]:null}function E1(i,e,t){if(t&re.SkipSelf){let s=e,o=i;for(;!(s=s.parent,null!==s||t&re.Host||(s=CH(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;e=s,i=o}const n=ge.lFrame=A1();return n.currentTNode=e,n.lView=i,!0}function tf(i){const e=A1(),t=i[1];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function A1(){const i=ge.lFrame,e=null===i?null:i.child;return null===e?M1(i):e}function M1(i){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=e),e}function P1(){const i=ge.lFrame;return ge.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const I1=P1;function nf(){const i=P1();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function On(){return ge.lFrame.selectedIndex}function Tr(i){ge.lFrame.selectedIndex=i}function Pt(){const i=ge.lFrame;return U_(i.tView,i.selectedIndex)}function sf(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){const o=i.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;r&&(i.contentHooks||(i.contentHooks=[])).push(-t,r),a&&((i.contentHooks||(i.contentHooks=[])).push(t,a),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(t,a)),l&&(i.viewHooks||(i.viewHooks=[])).push(-t,l),c&&((i.viewHooks||(i.viewHooks=[])).push(t,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(t,c)),null!=u&&(i.destroyHooks||(i.destroyHooks=[])).push(t,u)}}function of(i,e,t){N1(i,e,3,t)}function rf(i,e,t,n){(3&i[2])===t&&N1(i,e,t,n)}function X_(i,e){let t=i[2];(3&t)===e&&(t&=2047,t+=1,i[2]=t)}function N1(i,e,t,n){const o=null!=n?n:-1,r=e.length-1;let a=0;for(let l=void 0!==n?65535&i[18]:0;l<r;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=n&&a>=n)break}else e[l]<0&&(i[18]+=65536),(a<o||-1==o)&&(IH(i,t,e,l),i[18]=(4294901760&i[18])+l+2),l++}function IH(i,e,t,n){const s=t[n]<0,o=t[n+1],a=i[s?-t[n]:t[n]];if(s){if(i[2]>>11<i[18]>>16&&(3&i[2])===e){i[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ah{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function af(i,e,t){const n=Mt(i);let s=0;for(;s<t.length;){const o=t[s];if("number"==typeof o){if(0!==o)break;s++;const r=t[s++],a=t[s++],l=t[s++];n?i.setAttribute(e,a,l,r):e.setAttributeNS(r,a,l)}else{const r=o,a=t[++s];J_(r)?n&&i.setProperty(e,r,a):n?i.setAttribute(e,r,a):e.setAttribute(r,a),s++}}return s}function k1(i){return 3===i||4===i||6===i}function J_(i){return 64===i.charCodeAt(0)}function lf(i,e){if(null!==e&&0!==e.length)if(null===i||0===i.length)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){const s=e[n];"number"==typeof s?t=s:0===t||R1(i,t,s,null,-1===t||2===t?e[++n]:null)}}return i}function R1(i,e,t,n,s){let o=0,r=i.length;if(-1===e)r=-1;else for(;o<i.length;){const a=i[o++];if("number"==typeof a){if(a===e){r=-1;break}if(a>e){r=o-1;break}}}for(;o<i.length;){const a=i[o];if("number"==typeof a)break;if(a===t){if(null===n)return void(null!==s&&(i[o+1]=s));if(n===i[o+1])return void(i[o+2]=s)}o++,null!==n&&o++,null!==s&&o++}-1!==r&&(i.splice(r,0,e),o=r+1),i.splice(o++,0,t),null!==n&&i.splice(o++,0,n),null!==s&&i.splice(o++,0,s)}function O1(i){return-1!==i}function Kl(i){return 32767&i}function Yl(i,e){let t=function(i){return i>>16}(i),n=e;for(;t>0;)n=n[15],t--;return n}let ev=!0;function cf(i){const e=ev;return ev=i,e}let FH=0;function ch(i,e){const t=nv(i,e);if(-1!==t)return t;const n=e[1];n.firstCreatePass&&(i.injectorIndex=e.length,tv(n.data,i),tv(e,null),tv(n.blueprint,null));const s=uf(i,e),o=i.injectorIndex;if(O1(s)){const r=Kl(s),a=Yl(s,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[r+c]|l[r+c]}return e[o+8]=s,o}function tv(i,e){i.push(0,0,0,0,0,0,0,0,e)}function nv(i,e){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===e[i.injectorIndex+8]?-1:i.injectorIndex}function uf(i,e){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let t=0,n=null,s=e;for(;null!==s;){const o=s[1],r=o.type;if(n=2===r?o.declTNode:1===r?s[6]:null,null===n)return-1;if(t++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|t<<16}return-1}function hf(i,e,t){!function(i,e,t){let n;"string"==typeof t?n=t.charCodeAt(0)||0:t.hasOwnProperty(nh)&&(n=t[nh]),null==n&&(n=t[nh]=FH++);const s=255&n;e.data[i+(s>>5)]|=1<<s}(i,e,t)}function V1(i,e,t){if(t&re.Optional)return i;Ta(e,"NodeInjector")}function B1(i,e,t,n){if(t&re.Optional&&void 0===n&&(n=null),0==(t&(re.Self|re.Host))){const s=i[9],o=hs(void 0);try{return s?s.get(e,n,t&re.Optional):Gp(e,n,t&re.Optional)}finally{hs(o)}}return V1(n,e,t)}function z1(i,e,t,n=re.Default,s){if(null!==i){const o=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const e=i.hasOwnProperty(nh)?i[nh]:void 0;return"number"==typeof e?e>=0?255&e:zH:e}(t);if("function"==typeof o){if(!E1(e,i,n))return n&re.Host?V1(s,t,n):B1(e,t,n,s);try{const r=o(n);if(null!=r||n&re.Optional)return r;Ta(t)}finally{I1()}}else if("number"==typeof o){let r=null,a=nv(i,e),l=-1,c=n&re.Host?e[16][6]:null;for((-1===a||n&re.SkipSelf)&&(l=-1===a?uf(i,e):e[a+8],-1!==l&&U1(n,!1)?(r=e[1],a=Kl(l),e=Yl(l,e)):a=-1);-1!==a;){const u=e[1];if(j1(o,a,u.data)){const h=HH(a,e,t,r,n,c);if(h!==H1)return h}l=e[a+8],-1!==l&&U1(n,e[1].data[a+8]===c)&&j1(o,a,e)?(r=u,a=Kl(l),e=Yl(l,e)):a=-1}}}return B1(e,t,n,s)}const H1={};function zH(){return new Ql(Qt(),k())}function HH(i,e,t,n,s,o){const r=e[1],a=r.data[i+8],u=df(a,r,t,null==n?Qp(a)&&ev:n!=r&&0!=(3&a.type),s&re.Host&&o===a);return null!==u?uh(e,r,u,a):H1}function df(i,e,t,n,s){const o=i.providerIndexes,r=e.data,a=1048575&o,l=i.directiveStart,u=o>>20,d=s?a+u:i.directiveEnd;for(let p=n?a:a+u;p<d;p++){const f=r[p];if(p<l&&t===f||p>=l&&f.type===t)return p}if(s){const p=r[l];if(p&&ms(p)&&p.type===t)return l}return null}function uh(i,e,t,n){let s=i[t];const o=e.data;if(function(i){return i instanceof ah}(s)){const r=s;r.resolving&&function(i,e){throw new Li("200",`Circular dependency in DI detected for ${i}`)}(Yt(o[t]));const a=cf(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?hs(r.injectImpl):null;E1(i,n,re.Default);try{s=i[t]=r.factory(void 0,o,i,n),e.firstCreatePass&&t>=n.directiveStart&&function(i,e,t){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:o}=e.type.prototype;if(n){const r=f1(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(i,r),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,r)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-i,s),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i,o))}(t,o[t],e)}finally{null!==l&&hs(l),cf(a),r.resolving=!1,I1()}}return s}function j1(i,e,t){return!!(t[e+(i>>5)]&1<<i)}function U1(i,e){return!(i&re.Self||i&re.Host&&e)}class Ql{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return z1(this._tNode,this._lView,e,void 0,t)}}function Xl(i){return y(()=>{const e=i.prototype.constructor,t=e[Eo]||iv(e),n=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==n;){const o=s[Eo]||iv(s);if(o&&o!==t)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function iv(i){return Hp(i)?()=>{const e=iv(te(i));return e&&e()}:Ia(i)}const Jl="__parameters__";function Na(i,e,t){return y(()=>{const n=function(i){return function(...t){if(i){const n=i(...t);for(const s in n)this[s]=n[s]}}}(e);function s(...o){if(this instanceof s)return n.apply(this,o),this;const r=new s(...o);return a.annotation=r,a;function a(l,c,u){const h=l.hasOwnProperty(Jl)?l[Jl]:Object.defineProperty(l,Jl,{value:[]})[Jl];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(r),l}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}class Ne{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Hi(i,e){void 0===e&&(e=i);for(let t=0;t<i.length;t++){let n=i[t];Array.isArray(n)?(e===i&&(e=i.slice(0,t)),Hi(n,e)):e!==i&&e.push(n)}return e}function eo(i,e){i.forEach(t=>Array.isArray(t)?eo(t,e):e(t))}function ff(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function ka(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function Dr(i,e){const t=[];for(let n=0;n<i;n++)t.push(e);return t}function fi(i,e,t){let n=tc(i,e);return n>=0?i[1|n]=t:(n=~n,function(i,e,t,n){let s=i.length;if(s==e)i.push(t,n);else if(1===s)i.push(n,i[0]),i[0]=t;else{for(s--,i.push(i[s-1],i[s]);s>e;)i[s]=i[s-2],s--;i[e]=t,i[e+1]=n}}(i,n,e,t)),n}function av(i,e){const t=tc(i,e);if(t>=0)return i[1|t]}function tc(i,e){return function(i,e,t){let n=0,s=i.length>>t;for(;s!==n;){const o=n+(s-n>>1),r=i[o<<t];if(e===r)return o<<t;r>e?s=o:n=o+1}return~(s<<t)}(i,e,1)}const fh={},cv="__NG_DI_FLAG__",nc="ngTempTokenPath",ej=/\n/gm,uv="__source",hv=Fe({provide:String,useValue:Fe});let mh;function ic(i){const e=mh;return mh=i,e}function nj(i,e=re.Default){if(void 0===mh)throw new Error("inject() must be called from an injection context");return null===mh?Gp(i,void 0,e):mh.get(i,e&re.Optional?null:void 0,e)}function F(i,e=re.Default){return(zl||nj)(te(i),e)}function Ra(i){const e=[];for(let t=0;t<i.length;t++){const n=te(i[t]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let s,o=re.Default;for(let r=0;r<n.length;r++){const a=n[r],l=ij(a);"number"==typeof l?-1===l?s=a.token:o|=l:s=a}e.push(F(s,o))}else e.push(F(n))}return e}function gh(i,e){return i[cv]=e,i.prototype[cv]=e,i}function ij(i){return i[cv]}function Y1(i,e,t,n){const s=i[nc];throw e[uv]&&s.unshift(e[uv]),i.message=function(i,e,t,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let s=Te(e);if(Array.isArray(e))s=e.map(Te).join(" -> ");else if("object"==typeof e){let o=[];for(let r in e)if(e.hasOwnProperty(r)){let a=e[r];o.push(r+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}s=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${s}]: ${i.replace(ej,"\n  ")}`}("\n"+i.message,s,t,n),i.ngTokenPath=s,i[nc]=null,i}const yh=gh(Na("Inject",i=>({token:i})),-1),to=gh(Na("Optional"),8),Oa=gh(Na("SkipSelf"),4);let _f,vf;function oc(i){var e;return(null===(e=function(){if(void 0===_f&&(_f=null,me.trustedTypes))try{_f=me.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return _f}())||void 0===e?void 0:e.createHTML(i))||i}function eD(i){var e;return(null===(e=function(){if(void 0===vf&&(vf=null,me.trustedTypes))try{vf=me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return vf}())||void 0===e?void 0:e.createHTML(i))||i}class La{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function mi(i){return i instanceof La?i.changingThisBreaksApplicationSecurity:i}function no(i,e){const t=function(i){return i instanceof La&&i.getTypeName()||null}(i);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class Tj{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(oc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Sj{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const n=this.inertDocument.createElement("body");t.appendChild(n)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=oc(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=oc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const r=t.item(s).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ej=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Aj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vh(i){return(i=String(i)).match(Ej)||i.match(Aj)?i:"unsafe:"+i}function oD(i){return(i=String(i)).split(",").map(e=>vh(e.trim())).join(", ")}function io(i){const e={};for(const t of i.split(","))e[t]=!0;return e}function xh(...i){const e={};for(const t of i)for(const n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}const rD=io("area,br,col,hr,img,wbr"),aD=io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lD=io("rp,rt"),mv=xh(rD,xh(aD,io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xh(lD,io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xh(lD,aD)),gv=io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yv=io("srcset"),cD=xh(gv,yv,io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mj=io("script,style,template");class Pj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!mv.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const o=n.item(s),r=o.name,a=r.toLowerCase();if(!cD.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;gv[a]&&(l=vh(l)),yv[a]&&(l=oD(l)),this.buf.push(" ",r,'="',uD(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();mv.hasOwnProperty(t)&&!rD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(uD(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ij=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nj=/([^\#-~ |!])/g;function uD(i){return i.replace(/&/g,"&amp;").replace(Ij,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Nj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xf;function hD(i,e){let t=null;try{xf=xf||function(i){const e=new Sj(i);return function(){try{return!!(new window.DOMParser).parseFromString(oc(""),"text/html")}catch(i){return!1}}()?new Tj(e):e}(i);let n=e?String(e):"";t=xf.getInertBodyElement(n);let s=5,o=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=o,o=t.innerHTML,t=xf.getInertBodyElement(n)}while(n!==o);return oc((new Pj).sanitizeChildren(_v(t)||t))}finally{if(t){const n=_v(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function _v(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function bf(i){const e=Ch();return e?eD(e.sanitize(rt.HTML,i)||""):no(i,"HTML")?eD(mi(i)):hD(j_(),pe(i))}function bh(i){const e=Ch();return e?e.sanitize(rt.URL,i)||"":no(i,"URL")?mi(i):vh(pe(i))}function Ch(){const i=k();return i&&i[12]}const fD="__ngContext__";function En(i,e){i[fD]=e}function xv(i){const e=function(i){return i[fD]||null}(i);return e?Array.isArray(e)?e:e.lView:null}function Cf(i){return i.ngOriginalError}function Yj(i,...e){i.error(...e)}class Fa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),s=function(i){return i&&i.ngErrorLogger||Yj}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(i){return i.ngDebugContext}(e)||this._findContext(Cf(e)):null}_findOriginalError(e){let t=e&&Cf(e);for(;t&&Cf(t);)t=Cf(t);return t||null}}const wD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))();function so(i){return i instanceof Function?i():i}var gi=(()=>((gi=gi||{})[gi.Important=1]="Important",gi[gi.DashCase=2]="DashCase",gi))();function wv(i,e){return undefined(i,e)}function Th(i){const e=i[3];return fs(e)?e[3]:e}function Tv(i){return AD(i[13])}function Sv(i){return AD(i[4])}function AD(i){for(;null!==i&&!fs(i);)i=i[4];return i}function ac(i,e,t,n,s){if(null!=n){let o,r=!1;fs(n)?o=n:Qs(n)&&(r=!0,n=n[0]);const a=$t(n);0===i&&null!==t?null==s?RD(e,t,a):Va(e,t,a,s||null,!0):1===i&&null!==t?Va(e,t,a,s||null,!0):2===i?function(i,e,t){const n=Tf(i,e);n&&function(i,e,t,n){Mt(i)?i.removeChild(e,t,n):e.removeChild(t)}(i,n,e,t)}(e,a,r):3===i&&e.destroyNode(a),null!=o&&function(i,e,t,n,s){const o=t[7];o!==$t(t)&&ac(e,i,n,o,s);for(let a=10;a<t.length;a++){const l=t[a];Sh(l[1],l,i,e,n,o)}}(e,i,o,t,s)}}function Ev(i,e,t){return Mt(i)?i.createElement(e,t):null===t?i.createElement(e):i.createElementNS(t,e)}function PD(i,e){const t=i[9],n=t.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,G_(s,-1)),t.splice(n,1)}function Av(i,e){if(i.length<=10)return;const t=10+e,n=i[t];if(n){const s=n[17];null!==s&&s!==i&&PD(s,n),e>0&&(i[t-1][4]=n[4]);const o=ka(i,10+e);!function(i,e){Sh(i,e,e[11],2,null,null),e[0]=null,e[6]=null}(n[1],n);const r=o[19];null!==r&&r.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function ID(i,e){if(!(256&e[2])){const t=e[11];Mt(t)&&t.destroyNode&&Sh(i,e,t,3,null,null),function(i){let e=i[13];if(!e)return Mv(i[1],i);for(;e;){let t=null;if(Qs(e))t=e[13];else{const n=e[10];n&&(t=n)}if(!t){for(;e&&!e[4]&&e!==i;)Qs(e)&&Mv(e[1],e),e=e[3];null===e&&(e=i),Qs(e)&&Mv(e[1],e),t=e&&e[4]}e=t}}(e)}}function Mv(i,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(i,e){let t;if(null!=i&&null!=(t=i.destroyHooks))for(let n=0;n<t.length;n+=2){const s=e[t[n]];if(!(s instanceof ah)){const o=t[n+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){const a=s[o[r]],l=o[r+1];try{l.call(a)}finally{}}else try{o.call(s)}finally{}}}}(i,e),function(i,e){const t=i.cleanup,n=e[7];let s=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const r=t[o+1],a="function"==typeof r?r(e):$t(e[r]),l=n[s=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?n[s=c]():n[s=-c].unsubscribe(),o+=2}else{const r=n[s=t[o+1]];t[o].call(r)}if(null!==n){for(let o=s+1;o<n.length;o++)n[o]();e[7]=null}}(i,e),1===e[1].type&&Mt(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&fs(e[3])){t!==e[3]&&PD(t,e);const n=e[19];null!==n&&n.detachView(i)}}}function ND(i,e,t){return function(i,e,t){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return t[0];if(2&n.flags){const s=i.data[n.directiveStart].encapsulation;if(s===I.None||s===I.Emulated)return null}return zi(n,t)}(i,e.parent,t)}function Va(i,e,t,n,s){Mt(i)?i.insertBefore(e,t,n,s):e.insertBefore(t,n,s)}function RD(i,e,t){Mt(i)?i.appendChild(e,t):e.appendChild(t)}function OD(i,e,t,n,s){null!==n?Va(i,e,t,n,s):RD(i,e,t)}function Tf(i,e){return Mt(i)?i.parentNode(e):e.parentNode}function LD(i,e,t){return VD(i,e,t)}let VD=function(i,e,t){return 40&i.type?zi(i,t):null};function Sf(i,e,t,n){const s=ND(i,n,e),o=e[11],a=LD(n.parent||e[6],n,e);if(null!=s)if(Array.isArray(t))for(let l=0;l<t.length;l++)OD(o,s,t[l],a,!1);else OD(o,s,t,a,!1)}function Df(i,e){if(null!==e){const t=e.type;if(3&t)return zi(e,i);if(4&t)return Iv(-1,i[e.index]);if(8&t){const n=e.child;if(null!==n)return Df(i,n);{const s=i[e.index];return fs(s)?Iv(-1,s):$t(s)}}if(32&t)return wv(e,i)()||$t(i[e.index]);{const n=zD(i,e);return null!==n?Array.isArray(n)?n[0]:Df(Th(i[16]),n):Df(i,e.next)}}return null}function zD(i,e){return null!==e?i[16][6].projection[e.projection]:null}function Iv(i,e){const t=10+i+1;if(t<e.length){const n=e[t],s=n[1].firstChild;if(null!==s)return Df(n,s)}return e[7]}function Nv(i,e,t,n,s,o,r){for(;null!=t;){const a=n[t.index],l=t.type;if(r&&0===e&&(a&&En($t(a),n),t.flags|=4),64!=(64&t.flags))if(8&l)Nv(i,e,t.child,n,s,o,!1),ac(e,i,s,a,o);else if(32&l){const c=wv(t,n);let u;for(;u=c();)ac(e,i,s,u,o);ac(e,i,s,a,o)}else 16&l?jD(i,e,n,t,s,o):ac(e,i,s,a,o);t=r?t.projectionNext:t.next}}function Sh(i,e,t,n,s,o){Nv(t,n,i.firstChild,e,s,o,!1)}function jD(i,e,t,n,s,o){const r=t[16],l=r[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ac(e,i,s,l[c],o);else Nv(i,e,l,r[3],s,o,!0)}function UD(i,e,t){Mt(i)?i.setAttribute(e,"style",t):e.style.cssText=t}function kv(i,e,t){Mt(i)?""===t?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t):e.className=t}function $D(i,e,t){let n=i.length;for(;;){const s=i.indexOf(e,t);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const o=e.length;if(s+o===n||i.charCodeAt(s+o)<=32)return s}t=s+1}}const GD="ng-template";function bU(i,e,t){let n=0;for(;n<i.length;){let s=i[n++];if(t&&"class"===s){if(s=i[n],-1!==$D(s.toLowerCase(),e,0))return!0}else if(1===s){for(;n<i.length&&"string"==typeof(s=i[n++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function WD(i){return 4===i.type&&i.value!==GD}function CU(i,e,t){return e===(4!==i.type||t?i.value:GD)}function wU(i,e,t){let n=4;const s=i.attrs||[],o=function(i){for(let e=0;e<i.length;e++)if(k1(i[e]))return e;return i.length}(s);let r=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!r)if(4&n){if(n=2|1&n,""!==l&&!CU(i,l,t)||""===l&&1===e.length){if(gs(n))return!1;r=!0}}else{const c=8&n?l:e[++a];if(8&n&&null!==i.attrs){if(!bU(i.attrs,c,t)){if(gs(n))return!1;r=!0}continue}const h=TU(8&n?"class":l,s,WD(i),t);if(-1===h){if(gs(n))return!1;r=!0;continue}if(""!==c){let d;d=h>o?"":s[h+1].toLowerCase();const p=8&n?d:null;if(p&&-1!==$D(p,c,0)||2&n&&c!==d){if(gs(n))return!1;r=!0}}}}else{if(!r&&!gs(n)&&!gs(l))return!1;if(r&&gs(l))continue;r=!1,n=l|1&n}}return gs(n)||r}function gs(i){return 0==(1&i)}function TU(i,e,t,n){if(null===e)return-1;let s=0;if(n||!t){let o=!1;for(;s<e.length;){const r=e[s];if(r===i)return s;if(3===r||6===r)o=!0;else{if(1===r||2===r){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===r)break;if(0===r){s+=4;continue}}s+=o?1:2}return-1}return function(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){const n=i[t];if("number"==typeof n)return-1;if(n===e)return t;t++}return-1}(e,i)}function qD(i,e,t=!1){for(let n=0;n<e.length;n++)if(wU(i,e[n],t))return!0;return!1}function AU(i,e){e:for(let t=0;t<e.length;t++){const n=e[t];if(i.length===n.length){for(let s=0;s<i.length;s++)if(i[s]!==n[s])continue e;return!0}}return!1}function KD(i,e){return i?":not("+e.trim()+")":e}function MU(i){let e=i[0],t=1,n=2,s="",o=!1;for(;t<i.length;){let r=i[t];if("string"==typeof r)if(2&n){const a=i[++t];s+="["+r+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?s+="."+r:4&n&&(s+=" "+r);else""!==s&&!gs(r)&&(e+=KD(o,s),s=""),n=r,o=o||!gs(n);t++}return""!==s&&(e+=KD(o,s)),e}const xe={};function Q(i){YD(Be(),k(),On()+i,Jp())}function YD(i,e,t,n){if(!n)if(3==(3&e[2])){const o=i.preOrderCheckHooks;null!==o&&of(e,o,t)}else{const o=i.preOrderHooks;null!==o&&rf(e,o,0,t)}Tr(t)}function Ef(i,e){return i<<17|e<<2}function ys(i){return i>>17&32767}function Rv(i){return 2|i}function Mo(i){return(131068&i)>>2}function Ov(i,e){return-131069&i|e<<2}function Lv(i){return 1|i}function oE(i,e){const t=i.contentQueries;if(null!==t)for(let n=0;n<t.length;n+=2){const s=t[n],o=t[n+1];if(-1!==o){const r=i.data[o];Q_(s),r.contentQueries(2,e[o],o)}}}function Dh(i,e,t,n,s,o,r,a,l,c){const u=e.blueprint.slice();return u[0]=s,u[2]=140|n,b1(u),u[3]=u[15]=i,u[8]=t,u[10]=r||i&&i[10],u[11]=a||i&&i[11],u[12]=l||i&&i[12]||null,u[9]=c||i&&i[9]||null,u[6]=o,u[16]=2==e.type?i[16]:u,u}function lc(i,e,t,n,s){let o=i.data[e];if(null===o)o=function(i,e,t,n,s){const o=w1(),r=W_(),l=i.data[e]=function(i,e,t,n,s,o){return{type:t,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?o:o&&o.parent,t,e,n,s);return null===i.firstChild&&(i.firstChild=l),null!==o&&(r?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(i,e,t,n,s),ge.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=n,o.attrs=s;const r=function(){const i=ge.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}();o.injectorIndex=null===r?-1:r.injectorIndex}return Zs(o,!0),o}function cc(i,e,t,n){if(0===t)return-1;const s=e.length;for(let o=0;o<t;o++)e.push(n),i.blueprint.push(n),i.data.push(null);return s}function Eh(i,e,t){tf(e);try{const n=i.viewQuery;null!==n&&Zv(1,n,t);const s=i.template;null!==s&&rE(i,e,s,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&oE(i,e),i.staticViewQueries&&Zv(2,i.viewQuery,t);const o=i.components;null!==o&&function(i,e){for(let t=0;t<e.length;t++)l4(i,e[t])}(e,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[2]&=-5,nf()}}function uc(i,e,t,n){const s=e[2];if(256==(256&s))return;tf(e);const o=Jp();try{b1(e),function(i){ge.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==t&&rE(i,e,t,2,n);const r=3==(3&s);if(!o)if(r){const c=i.preOrderCheckHooks;null!==c&&of(e,c,null)}else{const c=i.preOrderHooks;null!==c&&rf(e,c,0,null),X_(e,0)}if(function(i){for(let e=Tv(i);null!==e;e=Sv(e)){if(!e[2])continue;const t=e[9];for(let n=0;n<t.length;n++){const s=t[n],o=s[3];0==(1024&s[2])&&G_(o,1),s[2]|=1024}}}(e),function(i){for(let e=Tv(i);null!==e;e=Sv(e))for(let t=10;t<e.length;t++){const n=e[t],s=n[1];$_(n)&&uc(s,n,s.template,n[8])}}(e),null!==i.contentQueries&&oE(i,e),!o)if(r){const c=i.contentCheckHooks;null!==c&&of(e,c)}else{const c=i.contentHooks;null!==c&&rf(e,c,1),X_(e,1)}!function(i,e){const t=i.hostBindingOpCodes;if(null!==t)try{for(let n=0;n<t.length;n++){const s=t[n];if(s<0)Tr(~s);else{const o=s,r=t[++n],a=t[++n];xH(r,o),a(2,e[o])}}}finally{Tr(-1)}}(i,e);const a=i.components;null!==a&&function(i,e){for(let t=0;t<e.length;t++)a4(i,e[t])}(e,a);const l=i.viewQuery;if(null!==l&&Zv(2,l,n),!o)if(r){const c=i.viewCheckHooks;null!==c&&of(e,c)}else{const c=i.viewHooks;null!==c&&rf(e,c,2),X_(e,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,G_(e[3],-1))}finally{nf()}}function jU(i,e,t,n){const s=e[10],o=!Jp(),r=x1(e);try{o&&!r&&s.begin&&s.begin(),r&&Eh(i,e,n),uc(i,e,t,n)}finally{o&&!r&&s.end&&s.end()}}function rE(i,e,t,n,s){const o=On(),r=2&n;try{Tr(-1),r&&e.length>20&&YD(i,e,20,Jp()),t(n,s)}finally{Tr(o)}}function aE(i,e,t){if(F_(e)){const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const r=i.data[o];r.contentQueries&&r.contentQueries(1,t[o],o)}}}function $v(i,e,t){!C1()||(function(i,e,t,n){const s=t.directiveStart,o=t.directiveEnd;i.firstCreatePass||ch(t,e),En(n,e);const r=t.initialInputs;for(let a=s;a<o;a++){const l=i.data[a],c=ms(l);c&&n4(e,t,l);const u=uh(e,i,a,t);En(u,e),null!==r&&i4(0,a-s,u,l,0,r),c&&(pi(t.index,e)[8]=u)}}(i,e,t,zi(t,e)),128==(128&t.flags)&&function(i,e,t){const n=t.directiveStart,s=t.directiveEnd,r=t.index,a=ge.lFrame.currentDirectiveIndex;try{Tr(r);for(let l=n;l<s;l++){const c=i.data[l],u=e[l];K_(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&mE(c,u)}}finally{Tr(-1),K_(a)}}(i,e,t))}function Gv(i,e,t=zi){const n=e.localNames;if(null!==n){let s=e.index+1;for(let o=0;o<n.length;o+=2){const r=n[o+1],a=-1===r?t(e,i):i[r];i[s++]=a}}}function lE(i){const e=i.tView;return null===e||e.incompleteFirstPass?i.tView=Pf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):e}function Pf(i,e,t,n,s,o,r,a,l,c){const u=20+n,h=u+s,d=function(i,e){const t=[];for(let n=0;n<e;n++)t.push(n<i?null:xe);return t}(u,h),p="function"==typeof c?c():c;return d[1]={type:i,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function hE(i,e,t,n){const s=bE(e);null===t?s.push(n):(s.push(t),i.firstCreatePass&&CE(i).push(n,s.length-1))}function dE(i,e,t){for(let n in i)if(i.hasOwnProperty(n)){const s=i[n];(t=null===t?{}:t).hasOwnProperty(n)?t[n].push(e,s):t[n]=[e,s]}return t}function yi(i,e,t,n,s,o,r,a){const l=zi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[n])?(SE(i,t,u,n,s),Qp(e)&&function(i,e){const t=pi(e,i);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(n=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),s=null!=r?r(s,e.value||"",n):s,Mt(o)?o.setProperty(l,n,s):J_(n)||(l.setProperty?l.setProperty(n,s):l[n]=s))}function Wv(i,e,t,n){let s=!1;if(C1()){const o=function(i,e,t){const n=i.directiveRegistry;let s=null;if(n)for(let o=0;o<n.length;o++){const r=n[o];qD(t,r.selectors,!1)&&(s||(s=[]),hf(ch(t,e),i,r.type),ms(r)?(gE(i,t),s.unshift(r)):s.push(r))}return s}(i,e,t),r=null===n?null:{"":-1};if(null!==o){s=!0,yE(t,i.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=cc(i,e,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];t.mergedAttrs=lf(t.mergedAttrs,h.hostAttrs),_E(i,t,e,c,h),t4(c,h,r),null!==h.contentQueries&&(t.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(i,e){const n=e.directiveEnd,s=i.data,o=e.attrs,r=[];let a=null,l=null;for(let c=e.directiveStart;c<n;c++){const u=s[c],h=u.inputs,d=null===o||WD(e)?null:s4(h,o);r.push(d),a=dE(h,c,a),l=dE(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=a,e.outputs=l}(i,t)}r&&function(i,e,t){if(e){const n=i.localNames=[];for(let s=0;s<e.length;s+=2){const o=t[e[s+1]];if(null==o)throw new Li("301",`Export of name '${e[s+1]}' not found!`);n.push(e[s],o)}}}(t,n,r)}return t.mergedAttrs=lf(t.mergedAttrs,t.attrs),s}function fE(i,e,t,n,s,o){const r=o.hostBindings;if(r){let a=i.hostBindingOpCodes;null===a&&(a=i.hostBindingOpCodes=[]);const l=~e.index;(function(i){let e=i.length;for(;e>0;){const t=i[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(n,s,r)}}function mE(i,e){null!==i.hostBindings&&i.hostBindings(1,e)}function gE(i,e){e.flags|=2,(i.components||(i.components=[])).push(e.index)}function t4(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;ms(e)&&(t[""]=i)}}function yE(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function _E(i,e,t,n,s){i.data[n]=s;const o=s.factory||(s.factory=Ia(s.type)),r=new ah(o,ms(s),null);i.blueprint[n]=r,t[n]=r,fE(i,e,0,n,cc(i,t,s.hostVars,xe),s)}function n4(i,e,t){const n=zi(e,i),s=lE(t),o=i[10],r=If(i,Dh(i,s,null,t.onPush?64:16,n,e,o,o.createRenderer(n,t),null,null));i[e.index]=r}function oo(i,e,t,n,s,o){const r=zi(i,e);!function(i,e,t,n,s,o,r){if(null==o)Mt(i)?i.removeAttribute(e,s,t):e.removeAttribute(s);else{const a=null==r?pe(o):r(o,n||"",s);Mt(i)?i.setAttribute(e,s,a,t):t?e.setAttributeNS(t,s,a):e.setAttribute(s,a)}}(e[11],r,o,i.value,t,n,s)}function i4(i,e,t,n,s,o){const r=o[e];if(null!==r){const a=n.setInput;for(let l=0;l<r.length;){const c=r[l++],u=r[l++],h=r[l++];null!==a?n.setInput(t,h,c,u):t[u]=h}}}function s4(i,e){let t=null,n=0;for(;n<e.length;){const s=e[n];if(0!==s)if(5!==s){if("number"==typeof s)break;i.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,i[s],e[n+1])),n+=2}else n+=2;else n+=4}return t}function vE(i,e,t,n){return new Array(i,!0,!1,e,null,0,n,t,null,null)}function a4(i,e){const t=pi(e,i);if($_(t)){const n=t[1];80&t[2]?uc(n,t,n.template,t[8]):t[5]>0&&Kv(t)}}function Kv(i){for(let n=Tv(i);null!==n;n=Sv(n))for(let s=10;s<n.length;s++){const o=n[s];if(1024&o[2]){const r=o[1];uc(r,o,r.template,o[8])}else o[5]>0&&Kv(o)}const t=i[1].components;if(null!==t)for(let n=0;n<t.length;n++){const s=pi(t[n],i);$_(s)&&s[5]>0&&Kv(s)}}function l4(i,e){const t=pi(e,i),n=t[1];(function(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])})(n,t),Eh(n,t,t[8])}function If(i,e){return i[13]?i[14][4]=e:i[13]=e,i[14]=e,e}function Yv(i){for(;i;){i[2]|=64;const e=Th(i);if(tH(i)&&!e)return i;i=e}return null}function Xv(i,e,t){const n=e[10];n.begin&&n.begin();try{uc(i,e,i.template,t)}catch(s){throw TE(e,s),s}finally{n.end&&n.end()}}function xE(i){!function(i){for(let e=0;e<i.components.length;e++){const t=i.components[e],n=xv(t),s=n[1];jU(s,n,s.template,t)}}(i[8])}function Zv(i,e,t){Q_(0),e(i,t)}const p4=(()=>Promise.resolve(null))();function bE(i){return i[7]||(i[7]=[])}function CE(i){return i.cleanup||(i.cleanup=[])}function TE(i,e){const t=i[9],n=t?t.get(Fa,null):null;n&&n.handleError(e)}function SE(i,e,t,n,s){for(let o=0;o<t.length;){const r=t[o++],a=t[o++],l=e[r],c=i.data[r];null!==c.setInput?c.setInput(l,s,n,a):l[a]=s}}function Io(i,e,t){const n=Zp(e,i);!function(i,e,t){Mt(i)?i.setValue(e,t):e.textContent=t}(i[11],n,t)}function Nf(i,e,t){let n=t?i.styles:null,s=t?i.classes:null,o=0;if(null!==e)for(let r=0;r<e.length;r++){const a=e[r];"number"==typeof a?o=a:1==o?s=Xu(s,a):2==o&&(n=Xu(n,a+": "+e[++r]+";"))}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=s:i.classesWithoutHost=s}const hc=new Ne("INJECTOR",-1);class DE{get(e,t=fh){if(t===fh){const n=new Error(`NullInjectorError: No provider for ${Te(e)}!`);throw n.name="NullInjectorError",n}return t}}const Ah=new Ne("Set Injector scope."),Mh={},g4={};let Jv;function EE(){return void 0===Jv&&(Jv=new DE),Jv}function AE(i,e=null,t=null,n){return new _4(i,t,e||EE(),n)}class _4{constructor(e,t,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&eo(t,a=>this.processProvider(a,e,t)),eo([e],a=>this.processInjectorType(a,[],o)),this.records.set(hc,dc(void 0,this));const r=this.records.get(Ah);this.scope=null!=r?r.value:null,this.source=s||("object"==typeof e?null:Te(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=fh,n=re.Default){this.assertNotDestroyed();const s=ic(this),o=hs(void 0);try{if(!(n&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ne}(e)&&Qn(e);a=l&&this.injectableDefInScope(l)?dc(ex(e),Mh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(n&re.Self?EE():this.parent).get(e,t=n&re.Optional&&t===fh?null:t)}catch(r){if("NullInjectorError"===r.name){if((r[nc]=r[nc]||[]).unshift(Te(e)),s)throw r;return Y1(r,e,"R3InjectorError",this.source)}throw r}finally{hs(o),ic(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((n,s)=>e.push(Te(s))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=te(e)))return!1;let s=Bl(e);const o=null==s&&e.ngModule||void 0,r=void 0===o?e:o,a=-1!==n.indexOf(r);if(void 0!==o&&(s=Bl(o)),null==s)return!1;if(null!=s.imports&&!a){let u;n.push(r);try{eo(s.imports,h=>{this.processInjectorType(h,t,n)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:d,providers:p}=u[h];eo(p,f=>this.processProvider(f,d,p||it))}}this.injectorDefTypes.add(r);const l=Ia(r)||(()=>new r);this.records.set(r,dc(l,Mh));const c=s.providers;if(null!=c&&!a){const u=e;eo(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,n){let s=pc(e=te(e))?e:te(e&&e.provide);const o=function(i,e,t){return PE(i)?dc(void 0,i.useValue):dc(ME(i),Mh)}(e);if(pc(e)||!0!==e.multi)this.records.get(s);else{let r=this.records.get(s);r||(r=dc(void 0,Mh,!0),r.factory=()=>Ra(r.multi),this.records.set(s,r)),s=e,r.multi.push(e)}this.records.set(s,o)}hydrate(e,t){return t.value===Mh&&(t.value=g4,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ex(i){const e=Qn(i),t=null!==e?e.factory:Ia(i);if(null!==t)return t;if(i instanceof Ne)throw new Error(`Token ${Te(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const e=i.length;if(e>0){const n=Dr(e,"?");throw new Error(`Can't resolve all parameters for ${Te(i)}: (${n.join(", ")}).`)}const t=function(i){const e=i&&(i[xr]||i[Da]);if(e){const t=function(i){if(i.hasOwnProperty("name"))return i.name;const e=(""+i).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(i);return null!==t?()=>t.factory(i):()=>new i}(i);throw new Error("unreachable")}function ME(i,e,t){let n;if(pc(i)){const s=te(i);return Ia(s)||ex(s)}if(PE(i))n=()=>te(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...Ra(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))n=()=>F(te(i.useExisting));else{const s=te(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ia(s)||ex(s);n=()=>new s(...Ra(i.deps))}return n}function dc(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function PE(i){return null!==i&&"object"==typeof i&&hv in i}function pc(i){return"function"==typeof i}const IE=function(i,e,t){return function(i,e=null,t=null,n){const s=AE(i,e,t,n);return s._resolveInjectorDefTypes(),s}({name:t},e,i,t)};class We{static create(e,t){return Array.isArray(e)?IE(e,t,""):IE(e.providers,e.parent,e.name||"")}}function B4(i,e){sf(xv(i)[1],Qt())}function P(i){let e=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),t=!0;const n=[i];for(;e;){let s;if(ms(i))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(t){n.push(s);const r=i;r.inputs=rx(i.inputs),r.declaredInputs=rx(i.declaredInputs),r.outputs=rx(i.outputs);const a=s.hostBindings;a&&U4(i,a);const l=s.viewQuery,c=s.contentQueries;if(l&&H4(i,l),c&&j4(i,c),wa(i.inputs,s.inputs),wa(i.declaredInputs,s.declaredInputs),wa(i.outputs,s.outputs),ms(s)&&s.data.animation){const u=i.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const o=s.features;if(o)for(let r=0;r<o.length;r++){const a=o[r];a&&a.ngInherit&&a(i),a===P&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){const s=i[n];s.hostVars=e+=s.hostVars,s.hostAttrs=lf(s.hostAttrs,t=lf(t,s.hostAttrs))}}(n)}function rx(i){return i===Hl?{}:i===it?[]:i}function H4(i,e){const t=i.viewQuery;i.viewQuery=t?(n,s)=>{e(n,s),t(n,s)}:e}function j4(i,e){const t=i.contentQueries;i.contentQueries=t?(n,s,o)=>{e(n,s,o),t(n,s,o)}:e}function U4(i,e){const t=i.hostBindings;i.hostBindings=t?(n,s)=>{e(n,s),t(n,s)}:e}We.THROW_IF_NOT_FOUND=fh,We.NULL=new DE,We.\u0275prov=H({token:We,providedIn:"any",factory:()=>F(hc)}),We.__NG_ELEMENT_ID__=-1;let kf=null;function fc(){if(!kf){const i=me.Symbol;if(i&&i.iterator)kf=i.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(kf=n)}}}return kf}class vs{constructor(e){this.wrapped=e}static wrap(e){return new vs(e)}static unwrap(e){return vs.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof vs}}function Ih(i){return!!ax(i)&&(Array.isArray(i)||!(i instanceof Map)&&fc()in i)}function ax(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function An(i,e,t){return!Object.is(i[e],t)&&(i[e]=t,!0)}function Mr(i,e,t,n){const s=k();return An(s,ql(),e)&&(Be(),oo(Pt(),s,i,e,t,n)),Mr}function gc(i,e,t,n){return An(i,ql(),t)?e+pe(t)+n:xe}function ae(i,e,t,n,s,o,r,a){const l=k(),c=Be(),u=i+20,h=c.firstCreatePass?function(i,e,t,n,s,o,r,a,l){const c=e.consts,u=lc(e,i,4,r||null,Cr(c,a));Wv(e,t,u,Cr(c,l)),sf(e,u);const h=u.tViews=Pf(2,u,n,s,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,n,s,o,r):c.data[u];Zs(h,!1);const d=l[11].createComment("");Sf(c,l,d,h),En(d,l),If(l,l[u]=vE(d,l,d,h)),Xp(h)&&$v(c,l,h),null!=r&&Gv(l,h,a)}function b(i,e=re.Default){const t=k();return null===t?F(i,e):z1(Qt(),t,te(i),e)}function Lf(){throw new Error("invalid")}function z(i,e,t){const n=k();return An(n,ql(),e)&&yi(Be(),Pt(),n,i,e,n[11],t,!1),z}function dx(i,e,t,n,s){const r=s?"class":"style";SE(i,t,e.inputs[r],r,n)}function ie(i,e,t,n){const s=k(),o=Be(),r=20+i,a=s[11],l=s[r]=Ev(a,e,ge.lFrame.currentNamespace),c=o.firstCreatePass?function(i,e,t,n,s,o,r){const a=e.consts,c=lc(e,i,2,s,Cr(a,o));return Wv(e,t,c,Cr(a,r)),null!==c.attrs&&Nf(c,c.attrs,!1),null!==c.mergedAttrs&&Nf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(r,o,s,0,e,t,n):o.data[r];Zs(c,!0);const u=c.mergedAttrs;null!==u&&af(a,l,u);const h=c.classes;null!==h&&kv(a,l,h);const d=c.styles;null!==d&&UD(a,l,d),64!=(64&c.flags)&&Sf(o,s,l,c),0===ge.lFrame.elementDepthCount&&En(l,s),ge.lFrame.elementDepthCount++,Xp(c)&&($v(o,s,c),aE(o,c,s)),null!==n&&Gv(s,c)}function se(){let i=Qt();W_()?q_():(i=i.parent,Zs(i,!1));const e=i;ge.lFrame.elementDepthCount--;const t=Be();t.firstCreatePass&&(sf(t,i),F_(i)&&t.queries.elementEnd(i)),null!=e.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(e)&&dx(t,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(e)&&dx(t,e,k(),e.stylesWithoutHost,!1)}function Zt(i,e,t,n){ie(i,e,t,n),se()}function Jn(i,e,t){const n=k(),s=Be(),o=i+20,r=s.firstCreatePass?function(i,e,t,n,s){const o=e.consts,r=Cr(o,n),a=lc(e,i,8,"ng-container",r);return null!==r&&Nf(a,r,!0),Wv(e,t,a,Cr(o,s)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,s,n,e,t):s.data[o];Zs(r,!0);const a=n[o]=n[11].createComment("");Sf(s,n,a,r),En(a,n),Xp(r)&&($v(s,n,r),aE(s,r,n)),null!=t&&Gv(n,r)}function ei(){let i=Qt();const e=Be();W_()?q_():(i=i.parent,Zs(i,!1)),e.firstCreatePass&&(sf(e,i),F_(i)&&e.queries.elementEnd(i))}function px(i,e,t){Jn(i,e,t),ei()}function Pr(){return k()}function fx(i){return!!i&&"function"==typeof i.then}function mA(i){return!!i&&"function"==typeof i.subscribe}const gA=mA;function Mn(i,e,t,n){const s=k(),o=Be(),r=Qt();return function(i,e,t,n,s,o,r,a){const l=Xp(n),u=i.firstCreatePass&&CE(i),h=e[8],d=bE(e);let p=!0;if(3&n.type||a){const g=zi(n,e),v=a?a(g):g,x=d.length,S=a?M=>a($t(M[n.index])):n.index;if(Mt(t)){let M=null;if(!a&&l&&(M=function(i,e,t,n){const s=i.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const r=s[o];if(r===t&&s[o+1]===n){const a=e[7],l=s[o+2];return a.length>l?a[l]:null}"string"==typeof r&&(o+=2)}return null}(i,e,s,n.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,p=!1;else{o=mx(n,e,h,o,!1);const L=t.listen(v,s,o);d.push(o,L),u&&u.push(s,S,x,x+1)}}else o=mx(n,e,h,o,!0),v.addEventListener(s,o,r),d.push(o),u&&u.push(s,S,x,r)}else o=mx(n,e,h,o,!1);const f=n.outputs;let m;if(p&&null!==f&&(m=f[s])){const g=m.length;if(g)for(let v=0;v<g;v+=2){const K=e[m[v]][m[v+1]].subscribe(o),J=d.length;d.push(o,K),u&&u.push(s,n.index,J,-(J+1))}}}(o,s,s[11],r,i,e,!!t,n),Mn}function vA(i,e,t,n){try{return!1!==t(n)}catch(s){return TE(i,s),!1}}function mx(i,e,t,n,s){return function o(r){if(r===Function)return n;const a=2&i.flags?pi(i.index,e):e;0==(32&e[2])&&Yv(a);let l=vA(e,0,n,r),c=o.__ngNextListenerFn__;for(;c;)l=vA(e,0,c,r)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function ye(i=1){return function(i){return(ge.lFrame.contextLView=function(i,e){for(;i>0;)e=e[15],i--;return e}(i,ge.lFrame.contextLView))[8]}(i)}function w8(i,e){let t=null;const n=function(i){const e=i.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(i);for(let s=0;s<e.length;s++){const o=e[s];if("*"!==o){if(null===n?qD(i,o,!0):AU(n,o))return s}else t=s}return t}function ko(i,e,t){return gx(i,"",e,"",t),ko}function gx(i,e,t,n,s){const o=k(),r=gc(o,e,t,n);return r!==xe&&yi(Be(),Pt(),o,i,r,o[11],s,!1),gx}function PA(i,e,t,n,s){const o=i[t+1],r=null===e;let a=n?ys(o):Mo(o),l=!1;for(;0!==a&&(!1===l||r);){const u=i[a+1];D8(i[a],e)&&(l=!0,i[a+1]=n?Lv(u):Rv(u)),a=n?ys(u):Mo(u)}l&&(i[t+1]=n?Rv(o):Lv(o))}function D8(i,e){return null===i||null==e||(Array.isArray(i)?i[1]:i)===e||!(!Array.isArray(i)||"string"!=typeof e)&&tc(i,e)>=0}const Jt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IA(i){return i.substring(Jt.key,Jt.keyEnd)}function NA(i,e){const t=Jt.textEnd;return t===e?-1:(e=Jt.keyEnd=function(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}(i,Jt.key=e,t),Sc(i,e,t))}function Sc(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function yx(i,e,t){return function(i,e,t,n){const s=k(),o=Be(),r=Ao(2);o.firstUpdatePass&&BA(o,i,r,n),e!==xe&&An(s,r,e)&&HA(o,o.data[On()],s,s[11],i,s[r+1]=function(i,e){return null==i||("string"==typeof e?i+=e:"object"==typeof i&&(i=Te(mi(i)))),i}(e,t),n,r)}(i,e,t,!1),yx}function Dc(i){!function(i,e,t,n){const s=Be(),o=Ao(2);s.firstUpdatePass&&BA(s,null,o,n);const r=k();if(t!==xe&&An(r,o,t)){const a=s.data[On()];if(UA(a,n)&&!VA(s,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Xu(l,t||"")),dx(s,a,r,t,n)}else!function(i,e,t,n,s,o,r,a){s===xe&&(s=it);let l=0,c=0,u=0<s.length?s[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=l<s.length?s[l+1]:void 0,p=c<o.length?o[c+1]:void 0;let m,f=null;u===h?(l+=2,c+=2,d!==p&&(f=h,m=p)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,m=p),null!==f&&HA(i,e,t,n,f,m,r,a),u=l<s.length?s[l]:null,h=c<o.length?o[c]:null}}(s,a,r,r[11],r[o+1],r[o+1]=function(i,e,t){if(null==t||""===t)return it;const n=[],s=mi(t);if(Array.isArray(s))for(let o=0;o<s.length;o++)i(n,s[o],!0);else if("object"==typeof s)for(const o in s)s.hasOwnProperty(o)&&i(n,o,s[o]);else"string"==typeof s&&e(n,s);return n}(i,e,t),n,o)}}(fi,lo,i,!0)}function lo(i,e){for(let t=function(i){return function(i){Jt.key=0,Jt.keyEnd=0,Jt.value=0,Jt.valueEnd=0,Jt.textEnd=i.length}(i),NA(i,Sc(i,0,Jt.textEnd))}(e);t>=0;t=NA(e,t))fi(i,IA(e),!0)}function VA(i,e){return e>=i.expandoStartIndex}function BA(i,e,t,n){const s=i.data;if(null===s[t+1]){const o=s[On()],r=VA(i,t);UA(o,n)&&null===e&&!r&&(e=!1),e=function(i,e,t,n){const s=function(i){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:i[e]}(i);let o=n?e.residualClasses:e.residualStyles;if(null===s)0===(n?e.classBindings:e.styleBindings)&&(t=kh(t=_x(null,i,e,t,n),e.attrs,n),o=null);else{const r=e.directiveStylingLast;if(-1===r||i[r]!==s)if(t=_x(s,i,e,t,n),null===o){let l=function(i,e,t){const n=t?e.classBindings:e.styleBindings;if(0!==Mo(n))return i[ys(n)]}(i,e,n);void 0!==l&&Array.isArray(l)&&(l=_x(null,i,e,l[1],n),l=kh(l,e.attrs,n),function(i,e,t,n){i[ys(t?e.classBindings:e.styleBindings)]=n}(i,e,n,l))}else o=function(i,e,t){let n;const s=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<s;o++)n=kh(n,i[o].hostAttrs,t);return kh(n,e.attrs,t)}(i,e,n)}return void 0!==o&&(n?e.residualClasses=o:e.residualStyles=o),t}(s,o,e,n),function(i,e,t,n,s,o){let r=o?e.classBindings:e.styleBindings,a=ys(r),l=Mo(r);i[n]=t;let u,c=!1;if(Array.isArray(t)){const h=t;u=h[1],(null===u||tc(h,u)>0)&&(c=!0)}else u=t;if(s)if(0!==l){const d=ys(i[a+1]);i[n+1]=Ef(d,a),0!==d&&(i[d+1]=Ov(i[d+1],n)),i[a+1]=function(i,e){return 131071&i|e<<17}(i[a+1],n)}else i[n+1]=Ef(a,0),0!==a&&(i[a+1]=Ov(i[a+1],n)),a=n;else i[n+1]=Ef(l,0),0===a?a=n:i[l+1]=Ov(i[l+1],n),l=n;c&&(i[n+1]=Rv(i[n+1])),PA(i,u,n,!0),PA(i,u,n,!1),function(i,e,t,n,s){const o=s?i.residualClasses:i.residualStyles;null!=o&&"string"==typeof e&&tc(o,e)>=0&&(t[n+1]=Lv(t[n+1]))}(e,u,i,n,o),r=Ef(a,l),o?e.classBindings=r:e.styleBindings=r}(s,o,e,t,r,n)}}function _x(i,e,t,n,s){let o=null;const r=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<r&&(o=e[a],n=kh(n,o.hostAttrs,s),o!==i);)a++;return null!==i&&(t.directiveStylingLast=a),n}function kh(i,e,t){const n=t?1:2;let s=-1;if(null!==e)for(let o=0;o<e.length;o++){const r=e[o];"number"==typeof r?s=r:s===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),fi(i,r,!!t||e[++o]))}return void 0===i?null:i}function HA(i,e,t,n,s,o,r,a){if(!(3&e.type))return;const l=i.data,c=l[a+1];Ff(function(i){return 1==(1&i)}(c)?jA(l,e,t,s,Mo(c),r):void 0)||(Ff(o)||function(i){return 2==(2&i)}(c)&&(o=jA(l,null,t,s,a,r)),function(i,e,t,n,s){const o=Mt(i);if(e)s?o?i.addClass(t,n):t.classList.add(n):o?i.removeClass(t,n):t.classList.remove(n);else{let r=-1===n.indexOf("-")?void 0:gi.DashCase;if(null==s)o?i.removeStyle(t,n,r):t.style.removeProperty(n);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),r|=gi.Important),o?i.setStyle(t,n,s,r):t.style.setProperty(n,s,a?"important":"")}}}(n,r,Zp(On(),t),s,o))}function jA(i,e,t,n,s,o){const r=null===e;let a;for(;s>0;){const l=i[s],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=t[s+1];d===xe&&(d=h?it:void 0);let p=h?av(d,n):u===n?d:void 0;if(c&&!Ff(p)&&(p=av(l,n)),Ff(p)&&(a=p,r))return a;const f=i[s+1];s=r?ys(f):Mo(f)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=av(l,n))}return a}function Ff(i){return void 0!==i}function UA(i,e){return 0!=(i.flags&(e?16:32))}function bn(i,e=""){const t=k(),n=Be(),s=i+20,o=n.firstCreatePass?lc(n,s,1,e,null):n.data[s],r=t[s]=function(i,e){return Mt(i)?i.createText(e):i.createTextNode(e)}(t[11],e);Sf(n,t,r,o),Zs(o,!1)}function Cs(i){return za("",i,""),Cs}function za(i,e,t){const n=k(),s=gc(n,i,e,t);return s!==xe&&Io(n,On(),s),za}const Ha=void 0;var r5=["en",[["a","p"],["AM","PM"],Ha],[["AM","PM"],Ha,Ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ha,"{1} 'at' {0}",Ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let Ec={};function uM(i){return i in Ec||(Ec[i]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[i]),Ec[i]}var $=(()=>(($=$||{})[$.LocaleId=0]="LocaleId",$[$.DayPeriodsFormat=1]="DayPeriodsFormat",$[$.DayPeriodsStandalone=2]="DayPeriodsStandalone",$[$.DaysFormat=3]="DaysFormat",$[$.DaysStandalone=4]="DaysStandalone",$[$.MonthsFormat=5]="MonthsFormat",$[$.MonthsStandalone=6]="MonthsStandalone",$[$.Eras=7]="Eras",$[$.FirstDayOfWeek=8]="FirstDayOfWeek",$[$.WeekendRange=9]="WeekendRange",$[$.DateFormat=10]="DateFormat",$[$.TimeFormat=11]="TimeFormat",$[$.DateTimeFormat=12]="DateTimeFormat",$[$.NumberSymbols=13]="NumberSymbols",$[$.NumberFormats=14]="NumberFormats",$[$.CurrencyCode=15]="CurrencyCode",$[$.CurrencySymbol=16]="CurrencySymbol",$[$.CurrencyName=17]="CurrencyName",$[$.Currencies=18]="Currencies",$[$.Directionality=19]="Directionality",$[$.PluralCase=20]="PluralCase",$[$.ExtraData=21]="ExtraData",$))();const Vf="en-US";let hM=Vf;function vx(i){Ht(i,"Expected localeId to be defined"),"string"==typeof i&&(hM=i.toLowerCase().replace(/_/g,"-"))}function Cx(i,e,t,n,s){if(i=te(i),Array.isArray(i))for(let o=0;o<i.length;o++)Cx(i[o],e,t,n,s);else{const o=Be(),r=k();let a=pc(i)?i:te(i.provide),l=ME(i);const c=Qt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(pc(i)||!i.multi){const p=new ah(l,s,b),f=Tx(a,e,s?u:u+d,h);-1===f?(hf(ch(c,r),o,a),wx(o,i,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(p),r.push(p)):(t[f]=p,r[f]=p)}else{const p=Tx(a,e,u+d,h),f=Tx(a,e,u,u+d),m=p>=0&&t[p],g=f>=0&&t[f];if(s&&!g||!s&&!m){hf(ch(c,r),o,a);const v=function(i,e,t,n,s){const o=new ah(i,t,b);return o.multi=[],o.index=e,o.componentProviders=0,OM(o,s,n&&!t),o}(s?i$:n$,t.length,s,n,l);!s&&g&&(t[f].providerFactory=v),wx(o,i,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),t.push(v),r.push(v)}else wx(o,i,p>-1?p:f,OM(t[s?f:p],l,!s&&n));!s&&n&&g&&t[f].componentProviders++}}}function wx(i,e,t,n){const s=pc(e);if(s||function(i){return!!i.useClass}(e)){const r=(e.useClass||e).prototype.ngOnDestroy;if(r){const a=i.destroyHooks||(i.destroyHooks=[]);if(!s&&e.multi){const l=a.indexOf(t);-1===l?a.push(t,[n,r]):a[l+1].push(n,r)}else a.push(t,r)}}}function OM(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function Tx(i,e,t,n){for(let s=t;s<n;s++)if(e[s]===i)return s;return-1}function n$(i,e,t,n){return Sx(this.multi,[])}function i$(i,e,t,n){const s=this.multi;let o;if(this.providerFactory){const r=this.providerFactory.componentProviders,a=uh(t,t[1],this.providerFactory.index,n);o=a.slice(0,r),Sx(s,o);for(let l=r;l<a.length;l++)o.push(a[l])}else o=[],Sx(s,o);return o}function Sx(i,e){for(let t=0;t<i.length;t++)e.push((0,i[t])());return e}function gt(i,e=[]){return t=>{t.providersResolver=(n,s)=>function(i,e,t){const n=Be();if(n.firstCreatePass){const s=ms(i);Cx(t,n.data,n.blueprint,s,!0),Cx(e,n.data,n.blueprint,s,!1)}}(n,s?s(i):i,e)}}class LM{}const VM="ngComponent";class r${resolveComponentFactory(e){throw function(i){const e=Error(`No component factory found for ${Te(i)}. Did you add it to @NgModule.entryComponents?`);return e[VM]=i,e}(e)}}class Ro{}function Uf(...i){}function Mc(i,e){return new hn(zi(i,e))}Ro.NULL=new r$;const c$=function(){return Mc(Qt(),k())};let hn=(()=>{class i{constructor(t){this.nativeElement=t}}return i.__NG_ELEMENT_ID__=c$,i})();function BM(i){return i instanceof hn?i.nativeElement:i}class Oo{}let Pc=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>h$(),i})();const h$=function(){const i=k(),t=pi(Qt().index,i);return function(i){return i[11]}(Qs(t)?t:i)};let Ex=(()=>{class i{}return i.\u0275prov=H({token:i,providedIn:"root",factory:()=>null}),i})();class Ax{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zM=new Ax("12.2.0");class HM{constructor(){}supports(e){return Ih(e)}create(e){return new m$(e)}}const f$=(i,e)=>e;class m${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||f$}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,s=0,o=null;for(;t||n;){const r=!n||t&&t.currentIndex<UM(n,s,o)?t:n,a=UM(r,s,o),l=r.currentIndex;if(r===n)s--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)s++;else{o||(o=[]);const c=a-s,u=l-s;if(c!=u){for(let d=0;d<c;d++){const p=d<o.length?o[d]:o[d]=0,f=p+d;u<=f&&f<c&&(o[d]=p+1)}o[r.previousIndex]=u-c}}a!==l&&e(r,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ih(e))throw new Error(`Error trying to diff '${Te(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,o,r,t=this._itHead,n=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],r=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,o,r,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,r,a),n=!0),t=t._next}else s=0,function(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{const t=i[fc()]();let n;for(;!(n=t.next()).done;)e(n.value)}}(e,a=>{r=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,r)?(n&&(t=this._verifyReinsertion(t,a,r,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,r,s),n=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,s){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,s)):e=this._addAfter(new g$(t,n),o,s),e}_verifyReinsertion(e,t,n,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?e=this._reinsertAfter(o,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,o=e._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new jM),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class g${constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class jM{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new y$,this.map.set(t,n)),n.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UM(i,e,t){const n=i.previousIndex;if(null===n)return n;let s=0;return t&&n<t.length&&(s=t[n]),n+e+s}class $M{constructor(){}supports(e){return e instanceof Map||ax(e)}create(){return new _$}}class _${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ax(e)))throw new Error(`Error trying to diff '${Te(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(s,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const o=s._prev,r=s._next;return o&&(o._next=r),r&&(r._prev=o),s._next=null,s._prev=null,s}const n=new v$(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class v${constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GM(){return new Vh([new HM])}let Vh=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(null!=n){const s=n.factories.slice();t=t.concat(s)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||GM()),deps:[[i,new Oa,new to]]}}find(t){const n=this.factories.find(s=>s.supports(t));if(null!=n)return n;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'`)}}return i.\u0275prov=H({token:i,providedIn:"root",factory:GM}),i})();function WM(){return new Ic([new $M])}let Ic=(()=>{class i{constructor(t){this.factories=t}static create(t,n){if(n){const s=n.factories.slice();t=t.concat(s)}return new i(t)}static extend(t){return{provide:i,useFactory:n=>i.create(t,n||WM()),deps:[[i,new Oa,new to]]}}find(t){const n=this.factories.find(s=>s.supports(t));if(n)return n;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return i.\u0275prov=H({token:i,providedIn:"root",factory:WM}),i})();function $f(i,e,t,n,s=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&n.push($t(o)),fs(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&$f(l[1],l,c,n)}const r=t.type;if(8&r)$f(i,e,t.child,n);else if(32&r){const a=wv(t,e);let l;for(;l=a();)n.push(l)}else if(16&r){const a=zD(e,t);if(Array.isArray(a))n.push(...a);else{const l=Th(e[16]);$f(l[1],l,a,n,!0)}}t=s?t.projectionNext:t.next}return n}class Bh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return $f(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fs(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Av(e,n),ka(t,n))}this._attachedToViewContainer=!1}ID(this._lView[1],this._lView)}onDestroy(e){hE(this._lView[1],this._lView,null,e)}markForCheck(){Yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,e,t){ef(!0);try{Xv(i,e,t)}finally{ef(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(i,e){Sh(i,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class b$ extends Bh{constructor(e){super(e),this._view=e}detectChanges(){xE(this._view)}checkNoChanges(){!function(i){ef(!0);try{xE(i)}finally{ef(!1)}}(this._view)}get context(){return null}}const w$=function(i){return function(i,e,t){if(Qp(i)&&!t){const n=pi(i.index,e);return new Bh(n,n)}return 47&i.type?new Bh(e[16],e):null}(Qt(),k(),16==(16&i))};let Gf=(()=>{class i{}return i.__NG_ELEMENT_ID__=w$,i})();const D$=[new $M],A$=new Vh([new HM]),M$=new Ic(D$),I$=function(){return Wf(Qt(),k())};let Vn=(()=>{class i{}return i.__NG_ELEMENT_ID__=I$,i})();const N$=Vn,k$=class extends N${constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Dh(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(n[19]=o.createEmbeddedView(t)),Eh(t,n,e),new Bh(n)}};function Wf(i,e){return 4&i.type?new k$(e,i,Mc(i,e)):null}class ja{}const F$=function(){return YM(Qt(),k())};let ws=(()=>{class i{}return i.__NG_ELEMENT_ID__=F$,i})();const B$=ws,qM=class extends B${constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new Ql(this._hostTNode,this._hostLView)}get parentInjector(){const e=uf(this._hostTNode,this._hostLView);if(O1(e)){const t=Yl(e,this._hostLView),n=Kl(e);return new Ql(t[1].data[n+8],t)}return new Ql(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=KM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const s=e.createEmbeddedView(t||{});return this.insert(s,n),s}createComponent(e,t,n,s,o){const r=n||this.parentInjector;if(!o&&null==e.ngModule&&r){const l=r.get(ja,null);l&&(o=l)}const a=e.create(r,s,void 0,o);return this.insert(a.hostView,t),a}insert(e,t){const n=e._lView,s=n[1];if(function(i){return fs(i[3])}(n)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const h=n[3],d=new qM(h,h[6],h[3]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),r=this._lContainer;!function(i,e,t,n){const s=10+n,o=t.length;n>0&&(t[s-1][4]=e),n<o-10?(e[4]=t[s],ff(t,10+n,e)):(t.push(e),e[4]=null),e[3]=t;const r=e[17];null!==r&&t!==r&&function(i,e){const t=i[9];e[16]!==e[3][3][16]&&(i[2]=!0),null===t?i[9]=[e]:t.push(e)}(r,e);const a=e[19];null!==a&&a.insertView(i),e[2]|=128}(s,n,r,o);const a=Iv(o,r),l=n[11],c=Tf(l,r[7]);return null!==c&&function(i,e,t,n,s,o){n[0]=s,n[6]=e,Sh(i,n,t,1,s,o)}(s,r[6],l,n,c,a),e.attachToViewContainerRef(),ff(Mx(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=KM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Av(this._lContainer,t);n&&(ka(Mx(this._lContainer),t),ID(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Av(this._lContainer,t);return n&&null!=ka(Mx(this._lContainer),t)?new Bh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function KM(i){return i[8]}function Mx(i){return i[8]||(i[8]=[])}function YM(i,e){let t;const n=e[i.index];if(fs(n))t=n;else{let s;if(8&i.type)s=$t(n);else{const o=e[11];s=o.createComment("");const r=zi(i,e);Va(o,Tf(o,r),s,function(i,e){return Mt(i)?i.nextSibling(e):e.nextSibling}(o,r),!1)}e[i.index]=t=vE(n,e,s,i),If(e,t)}return new qM(t,i,e)}const Oc={};class mP extends Ro{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kn(e);return new yP(t,this.ngModule)}}function gP(i){const e=[];for(let t in i)i.hasOwnProperty(t)&&e.push({propName:i[t],templateName:t});return e}const O6=new Ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wD});class yP extends LM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(i){return i.map(MU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return gP(this.componentDef.inputs)}get outputs(){return gP(this.componentDef.outputs)}create(e,t,n,s){const o=(s=s||this.ngModule)?function(i,e){return{get:(t,n,s)=>{const o=i.get(t,Oc,s);return o!==Oc||n===Oc?o:e.get(t,n,s)}}}(e,s.injector):e,r=o.get(Oo,v1),a=o.get(Ex,null),l=r.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(i,e,t){if(Mt(i))return i.selectRootElement(e,t===I.ShadowDom);let n="string"==typeof e?i.querySelector(e):e;return n.textContent="",n}(l,n,this.componentDef.encapsulation):Ev(r.createRenderer(null,this.componentDef),c,function(i){const e=i.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),h=this.componentDef.onPush?576:528,d=function(i,e){return{components:[],scheduler:i||wD,clean:p4,playerHandler:e||null,flags:0}}(),p=Pf(0,null,null,1,0,null,null,null,null,null),f=Dh(null,p,d,h,null,null,r,l,a,o);let m,g;tf(f);try{const v=function(i,e,t,n,s,o){const r=t[1];t[20]=i;const l=lc(r,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Nf(l,c,!0),null!==i&&(af(s,i,c),null!==l.classes&&kv(s,i,l.classes),null!==l.styles&&UD(s,i,l.styles)));const u=n.createRenderer(i,e),h=Dh(t,lE(e),null,e.onPush?64:16,t[20],l,n,u,o||null,null);return r.firstCreatePass&&(hf(ch(l,t),r,e.type),gE(r,l),yE(l,t.length,1)),If(t,h),t[20]=h}(u,this.componentDef,f,r,l);if(u)if(n)af(l,u,["ng-version",zM.full]);else{const{attrs:x,classes:S}=function(i){const e=[],t=[];let n=1,s=2;for(;n<i.length;){let o=i[n];if("string"==typeof o)2===s?""!==o&&e.push(o,i[++n]):8===s&&t.push(o);else{if(!gs(s))break;s=o}n++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);x&&af(l,u,x),S&&S.length>0&&kv(l,u,S.join(" "))}if(g=U_(p,20),void 0!==t){const x=g.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const M=t[S];x.push(null!=M?Array.from(M):null)}}m=function(i,e,t,n,s){const o=t[1],r=function(i,e,t){const n=Qt();i.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),_E(i,n,e,cc(i,e,1,null),t));const s=uh(e,i,n.directiveStart,n);En(s,e);const o=zi(n,e);return o&&En(o,e),s}(o,t,e);if(n.components.push(r),i[8]=r,s&&s.forEach(l=>l(r,e)),e.contentQueries){const l=Qt();e.contentQueries(1,r,l.directiveStart)}const a=Qt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Tr(a.index),fE(t[1],a,0,a.directiveStart,a.directiveEnd,e),mE(e,r)),r}(v,this.componentDef,f,d,[B4]),Eh(p,f,null)}finally{nf()}return new V6(this.componentType,m,Mc(g,f),f,g)}}class V6 extends class{}{constructor(e,t,n,s,o){super(),this.location=n,this._rootLView=s,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new b$(s),this.componentType=e}get injector(){return new Ql(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Lc=new Map;class H6 extends ja{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mP(this);const n=Fi(e),s=function(i){return i[Kz]||null}(e);s&&vx(s),this._bootstrapComponents=so(n.bootstrap),this._r3Injector=AE(e,t,[{provide:ja,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],Te(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=We.THROW_IF_NOT_FOUND,n=re.Default){return e===We||e===ja||e===hc?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jx extends class{}{constructor(e){super(),this.moduleType=e,null!==Fi(e)&&function(i){const e=new Set;!function t(n){const s=Fi(n,!0),o=s.id;null!==o&&(function(i,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${i} - ${Te(e)} vs ${Te(e.name)}`)}(o,Lc.get(o),n),Lc.set(o,n));const r=so(s.imports);for(const a of r)e.has(a)||(e.add(a),t(a))}(i)}(e)}create(e){return new H6(this.moduleType,e)}}function xP(i,e,t,n,s,o){const r=e+t;return An(i,r,s)?function(i,e,t){return i[e]=t}(i,r+1,o?n.call(o,s):n(s)):function(i,e){const t=i[e];return t===xe?void 0:t}(i,r+1)}function Ux(i,e){const t=Be();let n;const s=i+20;t.firstCreatePass?(n=function(i,e){if(e)for(let t=e.length-1;t>=0;t--){const n=e[t];if(i===n.name)return n}throw new Li("302",`The pipe '${i}' could not be found!`)}(e,t.pipeRegistry),t.data[s]=n,n.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(s,n.onDestroy)):n=t.data[s];const o=n.factory||(n.factory=Ia(n.type)),r=hs(b);try{const a=cf(!1),l=o();return cf(a),function(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}(t,k(),s,l),l}finally{hs(r)}}function $x(i,e,t){const n=i+20,s=k(),o=function(i,e){return i[e]}(s,n);return function(i,e){vs.isWrapped(e)&&(e=vs.unwrap(e),i[ge.lFrame.bindingIndex]=xe);return e}(s,function(i,e){return i[1].data[e].pure}(s,n)?xP(s,function(){const i=ge.lFrame;let e=i.bindingRootIndex;return-1===e&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}(),e,o.transform,t,o):o.transform(t))}function Gx(i){return e=>{setTimeout(i,void 0,e)}}const ue=class extends _r{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var s,o,r;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const h=e;a=null===(s=h.next)||void 0===s?void 0:s.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}this.__isAsync&&(l=Gx(l),a&&(a=Gx(a)),c&&(c=Gx(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof at&&e.add(u),u}};function sG(){return this._results[fc()]()}class Xf{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=fc(),n=Xf.prototype;n[t]||(n[t]=sG)}get changes(){return this._changes||(this._changes=new ue)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const s=Hi(e);(this._changesDetected=!function(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let s=i[n],o=e[n];if(t&&(s=t(s),o=t(o)),o!==s)return!1}return!0}(n._results,s,t))&&(n._results=s,n.length=s.length,n.last=s[this.length-1],n.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Wx{constructor(e){this.queryList=e,this.matches=null}clone(){return new Wx(this.queryList)}setDirty(){this.queryList.setDirty()}}class qx{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let o=0;o<n;o++){const r=t.getByIndex(o);s.push(this.queries[r.indexInDeclarationView].clone())}return new qx(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==MP(e,t).matches&&this.queries[t].setDirty()}}class SP{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Kx{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const s=null!==t?t.length:0,o=this.getByIndex(n).embeddedTView(e,s);o&&(o.indexInDeclarationView=n,null!==t?t.push(o):t=[o])}return null!==t?new Kx(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Yx{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Yx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const o=n[s];this.matchTNodeWithReadOption(e,t,aG(t,o)),this.matchTNodeWithReadOption(e,t,df(t,e,o,!1,!1))}else n===Vn?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,df(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===hn||s===ws||s===Vn&&4&t.type)this.addMatch(t.index,-2);else{const o=df(t,e,s,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function aG(i,e){const t=i.localNames;if(null!==t)for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1];return null}function cG(i,e,t,n){return-1===t?function(i,e){return 11&i.type?Mc(i,e):4&i.type?Wf(i,e):null}(e,i):-2===t?function(i,e,t){return t===hn?Mc(e,i):t===Vn?Wf(e,i):t===ws?YM(e,i):void 0}(i,e,n):uh(i,i[1],t,e)}function DP(i,e,t,n){const s=e[19].queries[n];if(null===s.matches){const o=i.data,r=t.matches,a=[];for(let l=0;l<r.length;l+=2){const c=r[l];a.push(c<0?null:cG(e,o[c],r[l+1],t.metadata.read))}s.matches=a}return s.matches}function Qx(i,e,t,n){const s=i.queries.getByIndex(t),o=s.matches;if(null!==o){const r=DP(i,e,s,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)n.push(r[a/2]);else{const c=o[a+1],u=e[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&Qx(d[1],d,c,n)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const p=h[d];Qx(p[1],p,c,n)}}}}}return n}function yt(i){const e=k(),t=Be(),n=D1();Q_(n+1);const s=MP(t,n);if(i.dirty&&x1(e)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const o=s.crossesNgTemplate?Qx(t,e,n,[]):DP(t,e,s,n);i.reset(o,BM),i.notifyOnChanges()}return!0}return!1}function Ds(i,e,t){const n=Be();n.firstCreatePass&&(AP(n,new SP(i,e,t),-1),2==(2&e)&&(n.staticViewQueries=!0)),EP(n,k(),e)}function ti(i,e,t,n){const s=Be();if(s.firstCreatePass){const o=Qt();AP(s,new SP(e,t,n),o.index),function(i,e){const t=i.contentQueries||(i.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(i.queries.length-1,e)}(s,i),2==(2&t)&&(s.staticContentQueries=!0)}EP(s,k(),t)}function _t(){return function(i,e){return i[19].queries[e].queryList}(k(),D1())}function EP(i,e,t){const n=new Xf(4==(4&t));hE(i,e,n,n.destroy),null===e[19]&&(e[19]=new qx),e[19].queries.push(new Wx(n))}function AP(i,e,t){null===i.queries&&(i.queries=new Kx),i.queries.track(new Yx(e,t))}function MP(i,e){return i.queries.getByIndex(e)}function Xx(i,e){return Wf(i,e)}const em=new Ne("Application Initializer");let Vc=(()=>{class i{constructor(t){this.appInits=t,this.resolve=Uf,this.reject=Uf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(fx(o))t.push(o);else if(gA(o)){const r=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(r)}}Promise.all(t).then(()=>{n()}).catch(s=>{this.reject(s)}),0===t.length&&n(),this.initialized=!0}}return i.\u0275fac=function(t){return new(t||i)(F(em,8))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const Xh=new Ne("AppId"),BG={provide:Xh,useFactory:function(){return`${ib()}${ib()}${ib()}`},deps:[]};function ib(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qP=new Ne("Platform Initializer"),tm=new Ne("Platform ID"),zG=new Ne("appBootstrapListener");let sb=(()=>{class i{log(t){console.log(t)}warn(t){console.warn(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const _i=new Ne("LocaleId"),KP=new Ne("DefaultCurrencyCode");class jG{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const ob=function(i){return new jx(i)},UG=ob,$G=function(i){return Promise.resolve(ob(i))},YP=function(i){const e=ob(i),n=so(Fi(i).declarations).reduce((s,o)=>{const r=kn(o);return r&&s.push(new yP(r)),s},[]);return new jG(e,n)},GG=YP,WG=function(i){return Promise.resolve(YP(i))};let im=(()=>{class i{constructor(){this.compileModuleSync=UG,this.compileModuleAsync=$G,this.compileModuleAndAllComponentsSync=GG,this.compileModuleAndAllComponentsAsync=WG}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const YG=(()=>Promise.resolve(0))();function rb(i){"undefined"==typeof Zone?YG.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ue(!1),this.onMicrotaskEmpty=new ue(!1),this.onStable=new ue(!1),this.onError=new ue(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&t,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let i=me.requestAnimationFrame,e=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&e){const t=i[Zone.__symbol__("OriginalDelegate")];t&&(i=t);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(i){const e=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(me,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,lb(i),i.isCheckStableRunning=!0,ab(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),lb(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,s,o,r,a)=>{try{return QP(i),t.invokeTask(s,o,r,a)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||i.shouldCoalesceRunChangeDetection)&&e(),XP(i)}},onInvoke:(t,n,s,o,r,a,l)=>{try{return QP(i),t.invoke(s,o,r,a,l)}finally{i.shouldCoalesceRunChangeDetection&&e(),XP(i)}},onHasTask:(t,n,s,o)=>{t.hasTask(s,o),n===s&&("microTask"==o.change?(i._hasPendingMicrotasks=o.microTask,lb(i),ab(i)):"macroTask"==o.change&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,s,o)=>(t.handleError(s,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,s){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+s,e,XG,Uf,Uf);try{return o.runTask(r,t,n)}finally{o.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const XG={};function ab(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function lb(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function QP(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function XP(i){i._nesting--,ab(i)}class eW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ue,this.onMicrotaskEmpty=new ue,this.onStable=new ue,this.onError=new ue}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,s){return e.apply(t,n)}}let cb=(()=>{class i{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),rb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rb(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(t)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,s){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),t(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:s})}whenStable(t,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,n,s){return[]}}return i.\u0275fac=function(t){return new(t||i)(F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),ZP=(()=>{class i{constructor(){this._applications=new Map,ub.addToWindow(this)}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return ub.findTestabilityInTree(this,t,n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class tW{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let ub=new tW,JP=!0,eI=!1;function Zh(){return eI=!0,JP}let Es;const tI=new Ne("AllowMultipleToken");function nI(i,e,t=[]){const n=`Platform: ${e}`,s=new Ne(n);return(o=[])=>{let r=iI();if(!r||r.injector.get(tI,!1))if(i)i(t.concat(o).concat({provide:s,useValue:!0}));else{const a=t.concat(o).concat({provide:s,useValue:!0},{provide:Ah,useValue:"platform"});!function(i){if(Es&&!Es.destroyed&&!Es.injector.get(tI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Es=i.get(sI);const e=i.get(qP,null);e&&e.forEach(t=>t())}(We.create({providers:a,name:n}))}return function(i){const e=iI();if(!e)throw new Error("No platform exists!");if(!e.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function iI(){return Es&&!Es.destroyed?Es:null}let sI=(()=>{class i{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){const a=function(i,e){let t;return t="noop"===i?new eW:("zone.js"===i?void 0:i)||new Ke({enableLongStackTrace:Zh(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),l=[{provide:Ke,useValue:a}];return a.run(()=>{const c=We.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),h=u.injector.get(Fa,null);if(!h)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:p=>{h.handleError(p)}});u.onDestroy(()=>{hb(this._modules,u),d.unsubscribe()})}),function(i,e,t){try{const n=t();return fx(n)?n.catch(s=>{throw e.runOutsideAngular(()=>i.handleError(s)),s}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}(h,a,()=>{const d=u.injector.get(Vc);return d.runInitializers(),d.donePromise.then(()=>(vx(u.injector.get(_i,Vf)||Vf),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,n=[]){const s=oI({},n);return function(i,e,t){const n=new jx(t);return Promise.resolve(n)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(t){const n=t.injector.get(Ga);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Te(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(n)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(t){return new(t||i)(F(We))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function oI(i,e){return Array.isArray(e)?e.reduce(oI,i):Object.assign(Object.assign({},i),e)}let Ga=(()=>{class i{constructor(t,n,s,o,r){this._zone=t,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=o,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new lt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new lt(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),rb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=Pl(a,l.pipe(i=>Yu()(function(i,e){return function(n){let s;s="function"==typeof i?i:function(){return i};const o=Object.create(n,C_);return o.source=n,o.subjectFactory=s,o}}(D_)(i))))}bootstrap(t,n){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=t instanceof LM?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(s.componentType);const o=function(i){return i.isBoundToModule}(s)?void 0:this._injector.get(ja),a=s.create(We.NULL,[],n||s.selector,o),l=a.location.nativeElement,c=a.injector.get(cb,null),u=c&&a.injector.get(ZP);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),hb(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){const n=t;hb(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(zG,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(t){return new(t||i)(F(Ke),F(We),F(Fa),F(Ro),F(Vc))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function hb(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const AW=nI(null,"core",[{provide:tm,useValue:"unknown"},{provide:sI,deps:[We]},{provide:ZP,deps:[]},{provide:sb,deps:[]}]),kW=[{provide:Ga,useClass:Ga,deps:[Ke,We,Fa,Ro,Vc]},{provide:O6,deps:[Ke],useFactory:function(i){let e=[];return i.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Vc,useClass:Vc,deps:[[new to,em]]},{provide:im,useClass:im,deps:[]},BG,{provide:Vh,useFactory:function(){return A$},deps:[]},{provide:Ic,useFactory:function(){return M$},deps:[]},{provide:_i,useFactory:function(i){return vx(i=i||"undefined"!=typeof $localize&&$localize.locale||Vf),i},deps:[[new yh(_i),new to,new Oa]]},{provide:KP,useValue:"USD"}];let OW=(()=>{class i{constructor(t){}}return i.\u0275fac=function(t){return new(t||i)(F(Ga))},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:kW}),i})(),pm=null;function Hc(){return pm}const Gt=new Ne("DocumentToken");var Wt=(()=>((Wt=Wt||{})[Wt.Zero=0]="Zero",Wt[Wt.One=1]="One",Wt[Wt.Two=2]="Two",Wt[Wt.Few=3]="Few",Wt[Wt.Many=4]="Many",Wt[Wt.Other=5]="Other",Wt))();const Uq=function(i){return function(i){const e=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let t=uM(e);if(t)return t;const n=e.split("-")[0];if(t=uM(n),t)return t;if("en"===n)return r5;throw new Error(`Missing locale data for the locale "${i}".`)}(i)[$.PluralCase]};class wm{}let _7=(()=>{class i extends wm{constructor(t){super(),this.locale=t}getPluralCategory(t,n){switch(Uq(n||this.locale)(t)){case Wt.Zero:return"zero";case Wt.One:return"one";case Wt.Two:return"two";case Wt.Few:return"few";case Wt.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(F(_i))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function UI(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const n=t.indexOf("="),[s,o]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)];if(s.trim()===e)return decodeURIComponent(o)}return null}let Rb=(()=>{class i{constructor(t,n,s,o){this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=s,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ih(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),t.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Te(n.item)}`);this._toggleClass(n.item,!0)}),t.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!0)):Object.keys(t).forEach(n=>this._toggleClass(n,!!t[n])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(n=>this._toggleClass(n,!1)):Object.keys(t).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(t,n){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(t){return new(t||i)(b(Vh),b(Ic),b(hn),b(Pc))},i.\u0275dir=xt({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class x7{constructor(e,t,n,s){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class i{constructor(t,n,s){this._viewContainer=t,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const n=[];t.forEachOperation((s,o,r)=>{if(null==s.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new x7(null,this._ngForOf,-1,-1),null===r?void 0:r),l=new $I(s,a);n.push(l)}else if(null==r)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,r);const l=new $I(s,a);n.push(l)}});for(let s=0;s<n.length;s++)this._perViewChange(n[s].view,n[s].record);for(let s=0,o=this._viewContainer.length;s<o;s++){const r=this._viewContainer.get(s);r.context.index=s,r.context.count=o,r.context.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(t,n){t.context.$implicit=n.item}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(b(ws),b(Vn),b(Vh))},i.\u0275dir=xt({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class $I{constructor(e,t){this.record=e,this.view=t}}let vi=(()=>{class i{constructor(t,n){this._viewContainer=t,this._context=new C7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}}return i.\u0275fac=function(t){return new(t||i)(b(ws),b(Vn))},i.\u0275dir=xt({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class C7{constructor(){this.$implicit=null,this.ngIf=null}}function GI(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${Te(e)}'.`)}let Tm=(()=>{class i{constructor(t,n,s){this._ngEl=t,this._differs=n,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,n){const[s,o]=t.split(".");null!=(n=null!=n&&o?`${n}${o}`:n)?this._renderer.setStyle(this._ngEl.nativeElement,s,n):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(t){t.forEachRemovedItem(n=>this._setStyle(n.key,null)),t.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),t.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}}return i.\u0275fac=function(t){return new(t||i)(b(hn),b(Ic),b(Pc))},i.\u0275dir=xt({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),i})(),Sm=(()=>{class i{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const n=this._viewContainerRef;this._viewRef&&n.remove(n.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?n.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(t){return new(t||i)(b(ws))},i.\u0275dir=xt({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Xs]}),i})();class D7{createSubscription(e,t){return e.subscribe({next:t,error:n=>{throw n}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class E7{createSubscription(e,t){return e.then(t,n=>{throw n})}dispose(e){}onDestroy(e){}}const A7=new E7,M7=new D7;let Fb=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(fx(t))return A7;if(mA(t))return M7;throw function(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Te(i)}'`)}(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(b(Gf,16))},i.\u0275pipe=Sn({name:"async",type:i,pure:!1}),i})(),jc=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[{provide:wm,useClass:_7}]}),i})();class QI{}class zb extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(i){pm||(pm=i)}(new zb)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(od=od||document.querySelector("base"),od?od.getAttribute("href"):null);return null==t?null:function(i){Dm=Dm||document.createElement("a"),Dm.setAttribute("href",i);const e=Dm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){od=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UI(document.cookie,e)}}let Dm,od=null;const XI=new Ne("TRANSITION_ID"),J7=[{provide:em,useFactory:function(i,e,t){return()=>{t.get(Vc).donePromise.then(()=>{const n=Hc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(o=>o.getAttribute("ng-transition")===i).forEach(o=>n.remove(o))})}},deps:[XI,Gt,We],multi:!0}];class Hb{static init(){!function(i){ub=i}(new Hb)}addToWindow(e){me.getAngularTestability=(n,s=!0)=>{const o=e.findTestabilityInTree(n,s);if(null==o)throw new Error("Could not find testability for element.");return o},me.getAllAngularTestabilities=()=>e.getAllTestabilities(),me.getAllAngularRootElements=()=>e.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(n=>{const s=me.getAllAngularTestabilities();let o=s.length,r=!1;const a=function(l){r=r||l,o--,0==o&&n(r)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?Hc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let e9=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const rd=new Ne("EventManagerPlugins");let Am=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,n,s){return this._findPluginFor(n).addEventListener(t,n,s)}addGlobalEventListener(t,n,s){return this._findPluginFor(n).addGlobalEventListener(t,n,s)}getZone(){return this._zone}_findPluginFor(t){const n=this._eventNameToPlugin.get(t);if(n)return n;const s=this._plugins;for(let o=0;o<s.length;o++){const r=s[o];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(F(rd),F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class jb{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=Hc().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}let JI=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const n=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),n.add(s))}),this.onStylesAdded(n)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),ad=(()=>{class i extends JI{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,n,s){t.forEach(o=>{const r=this._doc.createElement("style");r.textContent=o,s.push(n.appendChild(r))})}addHost(t){const n=[];this._addStylesToHost(this._stylesSet,t,n),this._hostNodes.set(t,n)}removeHost(t){const n=this._hostNodes.get(t);n&&n.forEach(eN),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((n,s)=>{this._addStylesToHost(t,s,n)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eN))}}return i.\u0275fac=function(t){return new(t||i)(F(Gt))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function eN(i){Hc().remove(i)}const Ub={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$b=/%COMP%/g;function Mm(i,e,t){for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?Mm(i,s,t):(s=s.replace($b,i),t.push(s))}return t}function iN(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pm=(()=>{class i{constructor(t,n,s){this.eventManager=t,this.sharedStylesHost=n,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Gb(t)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;switch(n.encapsulation){case I.Emulated:{let s=this.rendererByCompId.get(n.id);return s||(s=new m9(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,s)),s.applyToHost(t),s}case 1:case I.ShadowDom:return new g9(this.eventManager,this.sharedStylesHost,t,n);default:if(!this.rendererByCompId.has(n.id)){const s=Mm(n.id,n.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(F(Am),F(ad),F(Xh))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class Gb{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ub[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;const o=Ub[s];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const s=Ub[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&(gi.DashCase|gi.Important)?e.style.setProperty(t,n,s&gi.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&gi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,iN(n)):this.eventManager.addEventListener(e,t,iN(n))}}class m9 extends Gb{constructor(e,t,n,s){super(e),this.component=n;const o=Mm(s+"-"+n.id,n.styles,[]);t.addStyles(o),this.contentAttr=function(i){return"_ngcontent-%COMP%".replace($b,i)}(s+"-"+n.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace($b,i)}(s+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class g9 extends Gb{constructor(e,t,n,s){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Mm(s.id,s.styles,[]);for(let r=0;r<o.length;r++){const a=document.createElement("style");a.textContent=o[r],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let y9=(()=>{class i extends jb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,s){return t.addEventListener(n,s,!1),()=>this.removeEventListener(t,n,s)}removeEventListener(t,n,s){return t.removeEventListener(n,s)}}return i.\u0275fac=function(t){return new(t||i)(F(Gt))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const rN=["alt","control","meta","shift"],T9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},S9={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let D9=(()=>{class i extends jb{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,n,s){const o=i.parseEventName(n),r=i.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hc().onAndCancel(t,o.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const o=i._normalizeKey(n.pop());let r="";if(rN.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),r+=l+".")}),r+=o,0!=n.length||0===o.length)return null;const a={};return a.domEventName=s,a.fullKey=r,a}static getEventFullKey(t){let n="",s=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&aN.hasOwnProperty(e)&&(e=aN[e]))}return T9[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),rN.forEach(o=>{o!=s&&S9[o](t)&&(n+=o+".")}),n+=s,n}static eventCallback(t,n,s){return o=>{i.getEventFullKey(o)===t&&s.runGuarded(()=>n(o))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return i.\u0275fac=function(t){return new(t||i)(F(Gt))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const R9=nI(AW,"browser",[{provide:tm,useValue:"browser"},{provide:qP,useValue:function(){zb.makeCurrent(),Hb.init()},multi:!0},{provide:Gt,useFactory:function(){return function(i){H_=i}(document),document},deps:[]}]),O9=[[],{provide:Ah,useValue:"root"},{provide:Fa,useFactory:function(){return new Fa},deps:[]},{provide:rd,useClass:y9,multi:!0,deps:[Gt,Ke,tm]},{provide:rd,useClass:D9,multi:!0,deps:[Gt]},[],{provide:Pm,useClass:Pm,deps:[Am,ad,Xh]},{provide:Oo,useExisting:Pm},{provide:JI,useExisting:ad},{provide:ad,useClass:ad,deps:[Gt]},{provide:cb,useClass:cb,deps:[Ke]},{provide:Am,useClass:Am,deps:[rd,Ke]},{provide:QI,useClass:e9,deps:[]},[]];let Yb=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:Xh,useValue:t.appId},{provide:XI,useExisting:Xh},J7]}}}return i.\u0275fac=function(t){return new(t||i)(F(i,12))},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:O9,imports:[jc,OW]}),i})();function L9(){return new lN(F(Gt))}let lN=(()=>{class i{constructor(t){this._doc=t,this._dom=Hc()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,n)),s),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);const s=this.getTag(n);return s?this._setMetaElementAttributes(t,s):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){const r=this._parseSelector(t),a=this.getTags(r).filter(l=>this._containsAttributes(t,l))[0];if(void 0!==a)return a}const s=this._dom.createElement("meta");return this._setMetaElementAttributes(t,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(s=>n.setAttribute(this._getMetaKeyMap(s),t[s])),n}_parseSelector(t){const n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(s=>n.getAttribute(this._getMetaKeyMap(s))===t[s])}_getMetaKeyMap(t){return F9[t]||t}}return i.\u0275fac=function(t){return new(t||i)(F(Gt))},i.\u0275prov=H({factory:L9,token:i,providedIn:"root"}),i})();const F9={httpEquiv:"http-equiv"};function Or(){}function Xb(i,e,t){return function(s){return s.lift(new $9(i,e,t))}}"undefined"!=typeof window&&window;class $9{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new G9(e,this.nextOrObserver,this.error,this.complete))}}class G9 extends Xe{constructor(e,t,n,s){super(e),this._tapNext=Or,this._tapError=Or,this._tapComplete=Or,this._tapError=n||Or,this._tapComplete=s||Or,gr(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Or,this._tapError=t.error||Or,this._tapComplete=t.complete||Or)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function uN(...i){let e=i[i.length-1];return _a(e)?(i.pop(),cs(i,e)):Ml(i)}class K9{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Y9(e,this.predicate,this.thisArg))}}class Y9 extends Xe{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class hN{}class dN{}class Vo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const s=t.slice(0,n),o=s.toLowerCase(),r=t.slice(n+1).trim();this.maybeSetNormalizedName(s,o),this.headers.has(o)?this.headers.get(o).push(r):this.headers.set(o,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const s=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Vo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":const o=e.value;if(o){let r=this.headers.get(t);if(!r)return;r=r.filter(a=>-1===o.indexOf(a)),0===r.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Q9{encodeKey(e){return pN(e)}encodeValue(e){return pN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function pN(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function fN(i){return`${i}`}class Lr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Q9,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,e){const t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const o=s.indexOf("="),[r,a]=-1==o?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,o)),e.decodeValue(s.slice(o+1))],l=t.get(r)||[];l.push(a),t.set(r,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const s=e[n];Array.isArray(s)?s.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let n=this.map.get(e.param)||[];const s=n.indexOf(fN(e.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Z9{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function mN(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function gN(i){return"undefined"!=typeof Blob&&i instanceof Blob}function yN(i){return"undefined"!=typeof FormData&&i instanceof FormData}class ld{constructor(e,t,n,s){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,o=s):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Vo),this.context||(this.context=new Z9),this.params){const r=this.params.toString();if(0===r.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+r}}else this.params=new Lr,this.urlWithParams=t}serializeBody(){return null===this.body?null:mN(this.body)||gN(this.body)||yN(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yN(this.body)?null:gN(this.body)?this.body.type||null:mN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,s=e.url||this.url,o=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,p)=>d.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,p)=>d.set(p,e.setParams[p]),u)),new ld(n,s,r,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var Kt=(()=>((Kt=Kt||{})[Kt.Sent=0]="Sent",Kt[Kt.UploadProgress=1]="UploadProgress",Kt[Kt.ResponseHeader=2]="ResponseHeader",Kt[Kt.DownloadProgress=3]="DownloadProgress",Kt[Kt.Response=4]="Response",Kt[Kt.User=5]="User",Kt))();class Zb{constructor(e,t=200,n="OK"){this.headers=e.headers||new Vo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Jb extends Zb{constructor(e={}){super(e),this.type=Kt.ResponseHeader}clone(e={}){return new Jb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Im extends Zb{constructor(e={}){super(e),this.type=Kt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Im({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _N extends Zb{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function eC(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Nm=(()=>{class i{constructor(t){this.handler=t}request(t,n,s={}){let o;if(t instanceof ld)o=t;else{let l,c;l=s.headers instanceof Vo?s.headers:new Vo(s.headers),s.params&&(c=s.params instanceof Lr?s.params:new Lr({fromObject:s.params})),o=new ld(t,n,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const r=uN(o).pipe(function(i,e){return Ku(i,void 0,1)}(l=>this.handler.handle(l)));if(t instanceof ld||"events"===s.observe)return r;const a=r.pipe(function(i,e){return function(n){return n.lift(new K9(i,undefined))}}(l=>l instanceof Im));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Kn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Kn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Kn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(Kn(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:(new Lr).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,s={}){return this.request("PATCH",t,eC(s,n))}post(t,n,s={}){return this.request("POST",t,eC(s,n))}put(t,n,s={}){return this.request("PUT",t,eC(s,n))}}return i.\u0275fac=function(t){return new(t||i)(F(hN))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class vN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const xN=new Ne("HTTP_INTERCEPTORS");let tK=(()=>{class i{intercept(t,n){return n.handle(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const nK=/^\)\]\}',?\n/;let bN=(()=>{class i{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new lt(n=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((p,f)=>s.setRequestHeader(p,f.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const p=t.detectContentTypeHeader();null!==p&&s.setRequestHeader("Content-Type",p)}if(t.responseType){const p=t.responseType.toLowerCase();s.responseType="json"!==p?p:"text"}const o=t.serializeBody();let r=null;const a=()=>{if(null!==r)return r;const p=1223===s.status?204:s.status,f=s.statusText||"OK",m=new Vo(s.getAllResponseHeaders()),g=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||t.url;return r=new Jb({headers:m,status:p,statusText:f,url:g}),r},l=()=>{let{headers:p,status:f,statusText:m,url:g}=a(),v=null;204!==f&&(v=void 0===s.response?s.responseText:s.response),0===f&&(f=v?200:0);let x=f>=200&&f<300;if("json"===t.responseType&&"string"==typeof v){const S=v;v=v.replace(nK,"");try{v=""!==v?JSON.parse(v):null}catch(M){v=S,x&&(x=!1,v={error:M,text:v})}}x?(n.next(new Im({body:v,headers:p,status:f,statusText:m,url:g||void 0})),n.complete()):n.error(new _N({error:v,headers:p,status:f,statusText:m,url:g||void 0}))},c=p=>{const{url:f}=a(),m=new _N({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:f||void 0});n.error(m)};let u=!1;const h=p=>{u||(n.next(a()),u=!0);let f={type:Kt.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(f.total=p.total),"text"===t.responseType&&!!s.responseText&&(f.partialText=s.responseText),n.next(f)},d=p=>{let f={type:Kt.UploadProgress,loaded:p.loaded};p.lengthComputable&&(f.total=p.total),n.next(f)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),t.reportProgress&&(s.addEventListener("progress",h),null!==o&&s.upload&&s.upload.addEventListener("progress",d)),s.send(o),n.next({type:Kt.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),t.reportProgress&&(s.removeEventListener("progress",h),null!==o&&s.upload&&s.upload.removeEventListener("progress",d)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(t){return new(t||i)(F(QI))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const tC=new Ne("XSRF_COOKIE_NAME"),nC=new Ne("XSRF_HEADER_NAME");class CN{}let sK=(()=>{class i{constructor(t,n,s){this.doc=t,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UI(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return i.\u0275fac=function(t){return new(t||i)(F(Gt),F(tm),F(tC))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),iC=(()=>{class i{constructor(t,n){this.tokenService=t,this.headerName=n}intercept(t,n){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return n.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),n.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(F(CN),F(nC))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),oK=(()=>{class i{constructor(t,n){this.backend=t,this.injector=n,this.chain=null}handle(t){if(null===this.chain){const n=this.injector.get(xN,[]);this.chain=n.reduceRight((s,o)=>new vN(s,o),this.backend)}return this.chain.handle(t)}}return i.\u0275fac=function(t){return new(t||i)(F(dN),F(We))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),rK=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:iC,useClass:tK}]}}static withOptions(t={}){return{ngModule:i,providers:[t.cookieName?{provide:tC,useValue:t.cookieName}:[],t.headerName?{provide:nC,useValue:t.headerName}:[]]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[iC,{provide:xN,useExisting:iC,multi:!0},{provide:CN,useClass:sK},{provide:tC,useValue:"XSRF-TOKEN"},{provide:nC,useValue:"X-XSRF-TOKEN"}]}),i})(),aK=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[Nm,{provide:hN,useClass:oK},bN,{provide:dN,useExisting:bN}],imports:[[rK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),km=(()=>{class i{getUrl(){return`${window.location.origin}/`}getServiceUrl(){return`${this.getUrl()}api/default/`}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Rm=(()=>{class i{constructor(t,n){this.http=t,this.rootUrlService=n}fetch(){const n=`${this.rootUrlService.getServiceUrl()}sfmeta`;return this.http.get(n).pipe(Xb(s=>{this.serviceMetadataCache=s}))}getSetNameFromType(t){if(null!=this.serviceMetadataCache.definitions[t]){const s=this.serviceMetadataCache.entityContainer.entitySets;return Object.keys(s).find(r=>s[r].entityType.$ref.endsWith(t))}return t}getParentType(t){const n=this.serviceMetadataCache.definitions[t];if(null!=n){const o=n.properties.Parent;if(null!=o){const r=o.anyOf;if(null!=r&&r.length>0){var s=r.find(a=>null!=a.$ref);if(null!=s)return s.$ref.replace("#/definitions/","")}}}return null}isPropertyACollection(t,n){var r=this.serviceMetadataCache.definitions[t].properties[n].type;return!(!r||!Array.isArray(r)&&"array"!=r)}getRelatedType(t,n){var r=this.serviceMetadataCache.definitions[t].properties[n];if("object"!=typeof r)return null;var a=r.$ref;if(null==a){var l=r.items;null!=l&&(a=l.$ref)}if(null==a){var c=r.anyOf;if(c&&c.length>0){var u=c.find(h=>null!=h.$ref);null!=u&&(a=u.$ref)}}return null==a?null:(a=a.replace("#/definitions/",""),this.serviceMetadataCache.definitions.hasOwnProperty(a)?a:null)}isRelatedProperty(t,n){return!!this.getRelatedType(t,n)}isPrimitiveProperty(t,n){var r=this.serviceMetadataCache.definitions[t].properties[n];if(null==r)throw new Error(`The field - ${n} is not recognized as a property of the current type - ${t}`);return"object"==typeof r&&!this.isRelatedProperty(t,n)}serializeFilterValue(t,n,s){const o=this.serviceMetadataCache.definitions[t];if(this.isPrimitiveProperty(t,n)){const r=o.properties[n],a=r.type,l=r.format;let c=null;if(null!=l&&(c=l.toString()),null==a)return null;const u=a,h=a.toString();if(Array.isArray(a)&&a.length>0){if(u.some(d=>"null"===d)&&null===s)return"null";if(u.some(d=>"string"===d))return`'${s}'`}else if("array"==h){if(r.items&&r.items.format)switch(r.items.format){case"string":return`'${s}'`;default:return s.toString()}}else{if("date-time"==c&&s instanceof Date)return s.toISOString();if(null!==s)return s.toString()}}return null}getSimpleFields(t){return Object.keys(this.serviceMetadataCache.definitions[t].properties).map(o=>this.isPrimitiveProperty(t,o)?o:null).filter(o=>!!o)}getRelationFields(t){return Object.keys(this.serviceMetadataCache.definitions[t].properties).map(o=>this.isRelatedProperty(t,o)?o:null).filter(o=>!!o)}}return i.\u0275fac=function(t){return new(t||i)(F(Nm),F(km))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),cd=(()=>{class i{isEdit(){return-1!==window.location.href.indexOf("sfaction=edit")}isPreview(){return-1!==window.location.href.indexOf("sfaction=preview")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const lK=JSON.parse('{"Name":"SitefinityContentBlock","Caption":"Content block","PropertyMetadata":[{"Name":"Basic","Sections":[{"Name":"Main","Title":null,"Properties":[{"Name":"Content","DefaultValue":null,"Title":"Content","Type":"html","SectionName":null,"CategoryName":null,"Properties":{"Meta_DynamicLinksContainer_HasLinks":"True"},"TypeChildProperties":[],"Position":0},{"Name":"ProviderName","DefaultValue":null,"Title":"ProviderName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"SharedContentID","DefaultValue":null,"Title":"SharedContentID","Type":"uuid","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"CategoryName":"Basic"}]},{"Name":"Advanced","Sections":[{"Name":"AdvancedMain","Title":null,"Properties":[{"Name":"SfWidgetLabel","DefaultValue":"Content block","Title":"Label","Type":null,"SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. You can change the generic name with a specific one only for this widget.","Meta_MaxLength_Length":"30"},"TypeChildProperties":[],"Position":0},{"Name":"WrapperCssClass","DefaultValue":null,"Title":"Wrapper CSS class","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"TagName","DefaultValue":"div","Title":"Tag name","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0}],"CategoryName":"Advanced"},{"Name":"Display settings","Title":"Display settings","Properties":[{"Name":"Margins","DefaultValue":null,"Title":"Margins","Type":"complex","SectionName":"Display settings","CategoryName":"Advanced","Properties":{"Meta_TableView_ColumnTitle":"Content","Meta_TableView_Enabled":"True"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":1}],"CategoryName":"Advanced"}]}],"PropertyMetadataFlat":[{"Name":"Content","DefaultValue":null,"Title":"Content","Type":"html","SectionName":null,"CategoryName":null,"Properties":{"Meta_DynamicLinksContainer_HasLinks":"True"},"TypeChildProperties":[],"Position":0},{"Name":"ProviderName","DefaultValue":null,"Title":"ProviderName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"SharedContentID","DefaultValue":null,"Title":"SharedContentID","Type":"uuid","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"SfWidgetLabel","DefaultValue":"Content block","Title":"Label","Type":null,"SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. You can change the generic name with a specific one only for this widget.","Meta_MaxLength_Length":"30"},"TypeChildProperties":[],"Position":0},{"Name":"WrapperCssClass","DefaultValue":null,"Title":"Wrapper CSS class","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"TagName","DefaultValue":"div","Title":"Tag name","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Margins","DefaultValue":null,"Title":"Margins","Type":"complex","SectionName":"Display settings","CategoryName":"Advanced","Properties":{"Meta_TableView_ColumnTitle":"Content","Meta_TableView_Enabled":"True"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":1}]}'),cK=JSON.parse('{"Name":"SitefinitySection","Caption":"Section","PropertyMetadata":[{"Name":"Basic","Sections":[{"Name":"Section style","Title":"Section style","Properties":[{"Name":"SectionPadding","DefaultValue":null,"Title":"Padding","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"SectionMargin","DefaultValue":null,"Title":"Margin","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":1},{"Name":"SectionBackground","DefaultValue":null,"Title":"Background","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"BackgroundType","DefaultValue":"None","Title":"Type","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Color\\",\\"Name\\":\\"Color\\",\\"Value\\":\\"Color\\",\\"Icon\\":null},{\\"Title\\":\\"Image\\",\\"Name\\":\\"Image\\",\\"Value\\":\\"Image\\",\\"Icon\\":null},{\\"Title\\":\\"Video\\",\\"Name\\":\\"Video\\",\\"Value\\":\\"Video\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Color","DefaultValue":"#DCECF5","Title":"Value","Type":"color","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Color\\"}]}"},"TypeChildProperties":[],"Position":0},{"Name":"ImageItem","DefaultValue":null,"Title":"Value","Type":"media","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Image\\"}]}","Meta_MediaItem_ItemType":"images","Meta_MediaItem_AllowMultipleSelection":"False","Meta_MediaItem_Standalone":"False"},"TypeChildProperties":[{"Name":"Id","DefaultValue":null,"Title":"Id","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Provider","DefaultValue":null,"Title":"Provider","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"VideoItem","DefaultValue":null,"Title":"Value","Type":"media","SectionName":null,"CategoryName":null,"Properties":{"Meta_MediaItem_ItemType":"videos","Meta_MediaItem_AllowMultipleSelection":"False","Meta_MediaItem_Standalone":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Video\\"}]}"},"TypeChildProperties":[{"Name":"Id","DefaultValue":null,"Title":"Id","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Provider","DefaultValue":null,"Title":"Provider","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"ImagePosition","DefaultValue":"Fill","Title":" ","Type":"choices","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Fill\\",\\"Name\\":\\"Fill\\",\\"Value\\":\\"Fill\\",\\"Icon\\":null},{\\"Title\\":\\"Center\\",\\"Name\\":\\"Center\\",\\"Value\\":\\"Center\\",\\"Icon\\":null},{\\"Title\\":\\"Cover\\",\\"Name\\":\\"Cover\\",\\"Value\\":\\"Cover\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Image\\"}]}"},"TypeChildProperties":[],"Position":0}],"Position":1}],"CategoryName":"Basic"},{"Name":"Column style","Title":"Column style","Properties":[{"Name":"ColumnsPadding","DefaultValue":null,"Title":"Padding","Type":"dictionary","SectionName":"Column style","CategoryName":null,"Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"ColumnsBackground","DefaultValue":null,"Title":"Background","Type":"dictionary","SectionName":"Column style","CategoryName":null,"Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"BackgroundType","DefaultValue":"None","Title":"Type","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Color\\",\\"Name\\":\\"Color\\",\\"Value\\":\\"Color\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Color","DefaultValue":"#DCECF5","Title":"Value","Type":"color","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Color\\"}]}"},"TypeChildProperties":[],"Position":0}],"Position":2}],"CategoryName":"Basic"}]},{"Name":"QuickEdit","Sections":[{"Name":"Main","Title":null,"Properties":[{"Name":"ColumnsCount","DefaultValue":"1","Title":"ColumnsCount","Type":"number","SectionName":null,"CategoryName":"QuickEdit","Properties":{"Validations_MaxValue":"12","Validations_MinValue":"1","Validations_RangeErrorMsg":"Column\'s count must be between 1 and 12."},"TypeChildProperties":[],"Position":0},{"Name":"CssSystemGridSize","DefaultValue":"12","Title":"CssSystemGridSize","Type":"number","SectionName":null,"CategoryName":"QuickEdit","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"ColumnProportionsInfo","DefaultValue":null,"Title":"Proportions","Type":"enumerable","SectionName":null,"CategoryName":"QuickEdit","Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column"},"TypeChildProperties":[],"Position":0}],"CategoryName":"QuickEdit"}]},{"Name":"Advanced","Sections":[{"Name":"Custom CSS classes","Title":"Custom CSS classes","Properties":[{"Name":"CustomCssClass","DefaultValue":null,"Title":"Custom CSS class for...","Type":"dictionary","SectionName":"Custom CSS classes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Class","DefaultValue":null,"Title":"CLASS","Type":"string","SectionName":null,"CategoryName":null,"Properties":{"Meta_Placeholder_Text":"type CSS class..."},"TypeChildProperties":[],"Position":0}],"Position":0}],"CategoryName":"Advanced"},{"Name":"Labels","Title":"Labels","Properties":[{"Name":"Labels","DefaultValue":null,"Title":"Section and column labels","Type":"dictionary","SectionName":"Labels","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. They do not appear on the public site. You can change the generic name for this section and add column labels in the section widget.","Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Label","DefaultValue":null,"Title":"LABEL","Type":"string","SectionName":null,"CategoryName":null,"Properties":{"Meta_Placeholder_Text":"type a label...","Validations_MaxValue":"30"},"TypeChildProperties":[],"Position":0}],"Position":0}],"CategoryName":"Advanced"},{"Name":"Attributes","Title":"Attributes","Properties":[{"Name":"Attributes","DefaultValue":null,"Title":"Attributes for...","Type":"attributes","SectionName":"Attributes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Keys","DefaultValue":null,"Title":"Keys","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0},{"Name":"Values","DefaultValue":null,"Title":"Values","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0}],"Position":0}],"CategoryName":"Advanced"}]}],"PropertyMetadataFlat":[{"Name":"SectionPadding","DefaultValue":null,"Title":"Padding","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"SectionMargin","DefaultValue":null,"Title":"Margin","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":1},{"Name":"SectionBackground","DefaultValue":null,"Title":"Background","Type":"complex","SectionName":"Section style","CategoryName":null,"Properties":{"Meta_TableView_ColumnTitle":"Section","Meta_TableView_Enabled":"True","Meta_TableView_Reorderable":"False","Meta_TableView_Selectable":"False","Meta_TableView_MultipleSelect":"False"},"TypeChildProperties":[{"Name":"BackgroundType","DefaultValue":"None","Title":"Type","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Color\\",\\"Name\\":\\"Color\\",\\"Value\\":\\"Color\\",\\"Icon\\":null},{\\"Title\\":\\"Image\\",\\"Name\\":\\"Image\\",\\"Value\\":\\"Image\\",\\"Icon\\":null},{\\"Title\\":\\"Video\\",\\"Name\\":\\"Video\\",\\"Value\\":\\"Video\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Color","DefaultValue":"#DCECF5","Title":"Value","Type":"color","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Color\\"}]}"},"TypeChildProperties":[],"Position":0},{"Name":"ImageItem","DefaultValue":null,"Title":"Value","Type":"media","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Image\\"}]}","Meta_MediaItem_ItemType":"images","Meta_MediaItem_AllowMultipleSelection":"False","Meta_MediaItem_Standalone":"False"},"TypeChildProperties":[{"Name":"Id","DefaultValue":null,"Title":"Id","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Provider","DefaultValue":null,"Title":"Provider","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"VideoItem","DefaultValue":null,"Title":"Value","Type":"media","SectionName":null,"CategoryName":null,"Properties":{"Meta_MediaItem_ItemType":"videos","Meta_MediaItem_AllowMultipleSelection":"False","Meta_MediaItem_Standalone":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Video\\"}]}"},"TypeChildProperties":[{"Name":"Id","DefaultValue":null,"Title":"Id","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Provider","DefaultValue":null,"Title":"Provider","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"ImagePosition","DefaultValue":"Fill","Title":" ","Type":"choices","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Fill\\",\\"Name\\":\\"Fill\\",\\"Value\\":\\"Fill\\",\\"Icon\\":null},{\\"Title\\":\\"Center\\",\\"Name\\":\\"Center\\",\\"Value\\":\\"Center\\",\\"Icon\\":null},{\\"Title\\":\\"Cover\\",\\"Name\\":\\"Cover\\",\\"Value\\":\\"Cover\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Image\\"}]}"},"TypeChildProperties":[],"Position":0}],"Position":1},{"Name":"ColumnsPadding","DefaultValue":null,"Title":"Padding","Type":"dictionary","SectionName":"Column style","CategoryName":null,"Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Top","DefaultValue":"None","Title":"Top","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Right","DefaultValue":"None","Title":"Right","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Bottom","DefaultValue":"None","Title":"Bottom","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Left","DefaultValue":"None","Title":"Left","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Small\\",\\"Name\\":\\"S\\",\\"Value\\":\\"S\\",\\"Icon\\":null},{\\"Title\\":\\"Medium\\",\\"Name\\":\\"M\\",\\"Value\\":\\"M\\",\\"Icon\\":null},{\\"Title\\":\\"Large\\",\\"Name\\":\\"L\\",\\"Value\\":\\"L\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"ColumnsBackground","DefaultValue":null,"Title":"Background","Type":"dictionary","SectionName":"Column style","CategoryName":null,"Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"BackgroundType","DefaultValue":"None","Title":"Type","Type":"chipchoice","SectionName":null,"CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"None\\",\\"Name\\":\\"None\\",\\"Value\\":\\"None\\",\\"Icon\\":null},{\\"Title\\":\\"Color\\",\\"Name\\":\\"Color\\",\\"Value\\":\\"Color\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"Color","DefaultValue":"#DCECF5","Title":"Value","Type":"color","SectionName":null,"CategoryName":null,"Properties":{"Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"BackgroundType\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"Color\\"}]}"},"TypeChildProperties":[],"Position":0}],"Position":2},{"Name":"ColumnsCount","DefaultValue":"1","Title":"ColumnsCount","Type":"number","SectionName":null,"CategoryName":"QuickEdit","Properties":{"Validations_MaxValue":"12","Validations_MinValue":"1","Validations_RangeErrorMsg":"Column\'s count must be between 1 and 12."},"TypeChildProperties":[],"Position":0},{"Name":"CssSystemGridSize","DefaultValue":"12","Title":"CssSystemGridSize","Type":"number","SectionName":null,"CategoryName":"QuickEdit","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"ColumnProportionsInfo","DefaultValue":null,"Title":"Proportions","Type":"enumerable","SectionName":null,"CategoryName":"QuickEdit","Properties":{"Meta_LengthDependsOn_ExtraRecords":null,"Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column"},"TypeChildProperties":[],"Position":0},{"Name":"CustomCssClass","DefaultValue":null,"Title":"Custom CSS class for...","Type":"dictionary","SectionName":"Custom CSS classes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Class","DefaultValue":null,"Title":"CLASS","Type":"string","SectionName":null,"CategoryName":null,"Properties":{"Meta_Placeholder_Text":"type CSS class..."},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"Labels","DefaultValue":null,"Title":"Section and column labels","Type":"dictionary","SectionName":"Labels","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. They do not appear on the public site. You can change the generic name for this section and add column labels in the section widget.","Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Label","DefaultValue":null,"Title":"LABEL","Type":"string","SectionName":null,"CategoryName":null,"Properties":{"Meta_Placeholder_Text":"type a label...","Validations_MaxValue":"30"},"TypeChildProperties":[],"Position":0}],"Position":0},{"Name":"Attributes","DefaultValue":null,"Title":"Attributes for...","Type":"attributes","SectionName":"Attributes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"Section\\", \\"Title\\": \\"Section\\"}]","Meta_LengthDependsOn_PropertyName":"ColumnsCount","Meta_LengthDependsOn_DisplayName":"Column","Meta_LengthDependsOn_DisplayTitle":"Column "},"TypeChildProperties":[{"Name":"Keys","DefaultValue":null,"Title":"Keys","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0},{"Name":"Values","DefaultValue":null,"Title":"Values","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0}],"Position":0}]}'),uK=JSON.parse('{"Name":"SitefinityContentList","Caption":"Content list","PropertyMetadata":[{"Name":"Basic","Sections":[{"Name":"Select content to display","Title":"Select content to display","Properties":[{"Name":"SelectedItems","DefaultValue":null,"Title":"","Type":"content","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Content_Type":null,"Meta_Content_AllowMultipleItemsSelection":"True","Meta_Content_OpenMultipleItemsSelection":"False","Meta_Content_LiveData":"False","Meta_Content_Provider":null,"Meta_Content_DisableInteraction":"False","Meta_Content_ShowSiteSelector":"False"},"TypeChildProperties":[],"Position":0},{"Name":"SfViewName","DefaultValue":"CardsList","Title":"List template","Type":"viewSelector","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Cards list\\",\\"Name\\":\\"CardsList\\",\\"Value\\":\\"CardsList\\",\\"Icon\\":null},{\\"Title\\":\\"External list\\",\\"Name\\":\\"ExternalList\\",\\"Value\\":\\"ExternalList\\",\\"Icon\\":null},{\\"Title\\":\\"List with image\\",\\"Name\\":\\"ListWithImage\\",\\"Value\\":\\"ListWithImage\\",\\"Icon\\":null},{\\"Title\\":\\"List with summary\\",\\"Name\\":\\"ListWithSummary\\",\\"Value\\":\\"ListWithSummary\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"ListFieldMapping","DefaultValue":null,"Title":"Field mapping","Type":"listFieldMapping","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Description_Description":"Specify which fields from the content type you have selected to be displayed in the list.","Meta_ViewMetaData":"{\\r\\n  \\"CardsList\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"ListWithSummary\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Publication date\\",\\r\\n      \\"fieldType\\": \\"DateTime\\"\\r\\n    }\\r\\n  ],\\r\\n  \\"ListWithImage\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ]\\r\\n}"},"TypeChildProperties":[{"Name":"FriendlyName","DefaultValue":null,"Title":"FriendlyName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Name","DefaultValue":null,"Title":"Name","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":1}],"CategoryName":"Basic"},{"Name":"List settings","Title":"List settings","Properties":[{"Name":"ListSettings","DefaultValue":null,"Title":"Number of list items","Type":"listSettings","SectionName":"List settings","CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":1},{"Name":"OrderBy","DefaultValue":"PublicationDate DESC","Title":"Sort items","Type":"dynamicChoicePerItemType","SectionName":"List settings","CategoryName":null,"Properties":{"Meta_Choice_ServiceUrl":"/Default.Sorters()?frontend=True","Meta_Choice_Choices":null,"Meta_Choice_ServiceCallParameters":null,"Meta_Choice_ServiceWarningMessage":null,"Meta_Choice_ActionTitle":null,"Meta_Choice_ButtonTitle":null,"Meta_Choice_NotResponsive":"False","Meta_Choice_SideLabel":null},"TypeChildProperties":[],"Position":1}],"CategoryName":"Basic"},{"Name":"Single item settings","Title":"Single item settings","Properties":[{"Name":"DetailPageMode","DefaultValue":"SamePage","Title":"Open single item in...","Type":"radioChoices","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Auto-generated page - same layout as the list page\\",\\"Name\\":\\"SamePage\\",\\"Value\\":\\"SamePage\\",\\"Icon\\":null},{\\"Title\\":\\"Select existing page\\",\\"Name\\":\\"ExistingPage\\",\\"Value\\":\\"ExistingPage\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":2},{"Name":"DetailPage","DefaultValue":null,"Title":"","Type":"content","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Content_Type":"Telerik.Sitefinity.Pages.Model.PageNode","Meta_Content_AllowMultipleItemsSelection":"False","Meta_Content_OpenMultipleItemsSelection":"False","Meta_Content_LiveData":"False","Meta_Content_Provider":null,"Meta_Content_DisableInteraction":"False","Meta_Content_ShowSiteSelector":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"DetailPageMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"ExistingPage\\"}],\\"inline\\":\\"true\\"}"},"TypeChildProperties":[],"Position":2},{"Name":"SfDetailViewName","DefaultValue":"Details.BlogPosts.Default","Title":"Single item template","Type":"viewSelector","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Blog posts\\",\\"Name\\":\\"BlogPosts\\",\\"Value\\":\\"BlogPosts\\",\\"Icon\\":null},{\\"Title\\":\\"Dynamic\\",\\"Name\\":\\"Dynamic\\",\\"Value\\":\\"Dynamic\\",\\"Icon\\":null},{\\"Title\\":\\"Events\\",\\"Name\\":\\"Events\\",\\"Value\\":\\"Events\\",\\"Icon\\":null},{\\"Title\\":\\"List items\\",\\"Name\\":\\"ListItems\\",\\"Value\\":\\"ListItems\\",\\"Icon\\":null},{\\"Title\\":\\"News\\",\\"Name\\":\\"News\\",\\"Value\\":\\"News\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":2}],"CategoryName":"Basic"}]},{"Name":"Advanced","Sections":[{"Name":"AdvancedMain","Title":null,"Properties":[{"Name":"SfWidgetLabel","DefaultValue":"Content list","Title":"Label","Type":null,"SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. You can change the generic name with a specific one only for this widget.","Meta_MaxLength_Length":"30"},"TypeChildProperties":[],"Position":0},{"Name":"ContentViewDisplayMode","DefaultValue":"Automatic","Title":"Content view display mode","Type":"choices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"Automatic\\",\\"Name\\":\\"Automatic\\",\\"Value\\":\\"Automatic\\",\\"Icon\\":null},{\\"Title\\":\\"Master\\",\\"Name\\":\\"Master\\",\\"Value\\":\\"Master\\",\\"Icon\\":null},{\\"Title\\":\\"Detail\\",\\"Name\\":\\"Detail\\",\\"Value\\":\\"Detail\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"[{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Based on your selection the items will be\\",\\"Presentation\\":[]},{\\"Value\\":\\"displayed as follows:\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Automatic\\",\\"Presentation\\":[0]},{\\"Value\\":\\"- handles detail item urls like\\",\\"Presentation\\":[]},{\\"Value\\":\\"page/2021/01/01/news.\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Master\\",\\"Presentation\\":[0]},{\\"Value\\":\\" - as a list that does not handle\\",\\"Presentation\\":[]},{\\"Value\\":\\"detail item urls.\\",\\"Presentation\\":[2]},{\\"Value\\":\\"E.g. page/2021/01/01/news will throw 404.\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Detail\\",\\"Presentation\\":[0]},{\\"Value\\":\\"- shows a selected item in detail\\",\\"Presentation\\":[]},{\\"Value\\":\\"mode only.\\",\\"Presentation\\":[2]}]}]"},"TypeChildProperties":[],"Position":0},{"Name":"SelectionGroupLogicalOperator","DefaultValue":"AND","Title":"Selection group logical operator","Type":"radioChoices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"AND\\",\\"Name\\":\\"AND\\",\\"Value\\":\\"AND\\",\\"Icon\\":null},{\\"Title\\":\\"OR\\",\\"Name\\":\\"OR\\",\\"Value\\":\\"OR\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"Controls the logic of the filters - whether all conditions should be true (AND) or whether one of the conditions should be true (OR)."},"TypeChildProperties":[],"Position":0},{"Name":"FilterExpression","DefaultValue":null,"Title":"Filter expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom filter expression added to already selected filters."},"TypeChildProperties":[],"Position":0},{"Name":"SortExpression","DefaultValue":"PublicationDate DESC","Title":"Sort expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom sort expression, used if default sorting is not suitable."},"TypeChildProperties":[],"Position":0},{"Name":"SelectExpression","DefaultValue":"*","Title":"Select expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom expression for selecting the fields of the content type. By default \'*\' (asterisk) selects all. Use \';\' (semicolon) when listing specific fields. Example: Id; Title; Thumbnail(Id, Title)"},"TypeChildProperties":[],"Position":0},{"Name":"DisableCanonicalUrlMetaTag","DefaultValue":"False","Title":"Disable canonical URL meta tag","Type":"bool","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Disables the canonocal URL generation on widget level."},"TypeChildProperties":[],"Position":0},{"Name":"PagerMode","DefaultValue":"URLSegments","Title":"Paging mode","Type":"radioChoices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"URL segments\\",\\"Name\\":\\"URLSegments\\",\\"Value\\":\\"URLSegments\\",\\"Icon\\":null},{\\"Title\\":\\"Query parameter\\",\\"Name\\":\\"QueryParameter\\",\\"Value\\":\\"QueryParameter\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"Controls whether the paging works with URL segments or a query parameter."},"TypeChildProperties":[],"Position":0},{"Name":"PagerTemplate","DefaultValue":"-page-{{pageNumber}}-","Title":"Template for paging URL segments","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_EmptyValues_EmptyValues":"[\\"\\"]","Meta_Description_Description":"Template for the URL segments the widget\'s paging will work with. Use {{pageNumber}} for the current page number.","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"PagerMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"URLSegments\\"}]}"},"TypeChildProperties":[],"Position":0},{"Name":"PagerQueryTemplate","DefaultValue":"page","Title":"Template for paging query parameter","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_EmptyValues_EmptyValues":"[\\"\\"]","Meta_Description_Description":"Template for the query parameter the widget\'s paging will work with.","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"PagerMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"QueryParameter\\"}]}"},"TypeChildProperties":[],"Position":0}],"CategoryName":"Advanced"},{"Name":"Metadata fields","Title":"Metadata fields","Properties":[{"Name":"SeoEnabled","DefaultValue":"True","Title":"SEO enabled","Type":"bool","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"MetaTitle","DefaultValue":null,"Title":"Meta title","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"MetaDescription","DefaultValue":null,"Title":"Meta description","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"PageTitleMode","DefaultValue":"Replace","Title":"Page title mode","Type":"choices","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"Replace\\",\\"Name\\":\\"Replace\\",\\"Value\\":\\"Replace\\",\\"Icon\\":null},{\\"Title\\":\\"Append\\",\\"Name\\":\\"Append\\",\\"Value\\":\\"Append\\",\\"Icon\\":null},{\\"Title\\":\\"Hierarchy\\",\\"Name\\":\\"Hierarchy\\",\\"Value\\":\\"Hierarchy\\",\\"Icon\\":null},{\\"Title\\":\\"Do not set\\",\\"Name\\":\\"DoNotSet\\",\\"Value\\":\\"DoNotSet\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"[{\\"Type\\": 1,\\"Chunks\\": [{\\"Value\\": \\"Setting Page title mode\\",\\"Presentation\\": [0]},{\\"Value\\": \\"Replace \u2013 page title is replaced by the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"item\'s title.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Append \u2013 item title is appended to the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"page title.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Hierarchy \u2013 page title will be built by the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"item\'s title and its parent\'s title. Value is\\",\\"Presentation\\": [2]},{\\"Value\\": \\"relevant for the Forums widget only.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Do not set \u2013 page title will not be altered.\\",\\"Presentation\\": []}]}]"},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphEnabled","DefaultValue":"True","Title":"OpenGraph enabled","Type":"bool","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphTitle","DefaultValue":null,"Title":"OpenGraph title","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphDescription","DefaultValue":null,"Title":"OpenGraph description","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphImage","DefaultValue":null,"Title":"OpenGraph image","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphVideo","DefaultValue":null,"Title":"OpenGraph video","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphType","DefaultValue":null,"Title":"OpenGraph type","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0}],"CategoryName":"Advanced"},{"Name":"Custom CSS classes","Title":"Custom CSS classes","Properties":[{"Name":"CssClasses","DefaultValue":null,"Title":"","Type":"listFieldMappingCss","SectionName":"Custom CSS classes","CategoryName":"Advanced","Properties":{"Meta_CssFieldMappings_ShowWrapperClasses":"True","Meta_ViewMetaData":"{\\r\\n  \\"CardsList\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"ListWithSummary\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Publication date\\",\\r\\n      \\"fieldType\\": \\"DateTime\\"\\r\\n    }\\r\\n  ],\\r\\n  \\"ListWithImage\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ]\\r\\n}"},"TypeChildProperties":[{"Name":"FieldName","DefaultValue":null,"Title":"FieldName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"CssClass","DefaultValue":null,"Title":"CssClass","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":1}],"CategoryName":"Advanced"},{"Name":"Displaying hierarchical content","Title":"Displaying hierarchical content","Properties":[{"Name":"ShowListViewOnChildDetailsView","DefaultValue":"True","Title":"Show parent list view on child details view","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the parent list view of this widget when on the same page there is another widget displaying details view of a child item."},"TypeChildProperties":[],"Position":2},{"Name":"ShowDetailsViewOnChildDetailsView","DefaultValue":"False","Title":"Show parent details view on child details view","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the parent details view of this widget when on the same page there is another widget displaying details view of a child item."},"TypeChildProperties":[],"Position":2},{"Name":"ShowListViewOnEmptyParentFilter","DefaultValue":"False","Title":"Show child list view if no parent selected","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the child list view of this widget when on the same page there is another widget displaying parent items and no parent item is selected to filter the child\'s list."},"TypeChildProperties":[],"Position":2}],"CategoryName":"Advanced"},{"Name":"Attributes","Title":"Attributes","Properties":[{"Name":"Attributes","DefaultValue":null,"Title":"Attributes for...","Type":"attributes","SectionName":"Attributes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"ContentList\\", \\"Title\\": \\"Content list\\"}]","Meta_LengthDependsOn_PropertyName":null,"Meta_LengthDependsOn_DisplayName":"","Meta_LengthDependsOn_DisplayTitle":""},"TypeChildProperties":[{"Name":"Keys","DefaultValue":null,"Title":"Keys","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0},{"Name":"Values","DefaultValue":null,"Title":"Values","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0}],"Position":2}],"CategoryName":"Advanced"}]}],"PropertyMetadataFlat":[{"Name":"SelectedItems","DefaultValue":null,"Title":"","Type":"content","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Content_Type":null,"Meta_Content_AllowMultipleItemsSelection":"True","Meta_Content_OpenMultipleItemsSelection":"False","Meta_Content_LiveData":"False","Meta_Content_Provider":null,"Meta_Content_DisableInteraction":"False","Meta_Content_ShowSiteSelector":"False"},"TypeChildProperties":[],"Position":0},{"Name":"SfViewName","DefaultValue":"CardsList","Title":"List template","Type":"viewSelector","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Cards list\\",\\"Name\\":\\"CardsList\\",\\"Value\\":\\"CardsList\\",\\"Icon\\":null},{\\"Title\\":\\"External list\\",\\"Name\\":\\"ExternalList\\",\\"Value\\":\\"ExternalList\\",\\"Icon\\":null},{\\"Title\\":\\"List with image\\",\\"Name\\":\\"ListWithImage\\",\\"Value\\":\\"ListWithImage\\",\\"Icon\\":null},{\\"Title\\":\\"List with summary\\",\\"Name\\":\\"ListWithSummary\\",\\"Value\\":\\"ListWithSummary\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":0},{"Name":"ListFieldMapping","DefaultValue":null,"Title":"Field mapping","Type":"listFieldMapping","SectionName":"Select content to display","CategoryName":null,"Properties":{"Meta_Description_Description":"Specify which fields from the content type you have selected to be displayed in the list.","Meta_ViewMetaData":"{\\r\\n  \\"CardsList\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"ListWithSummary\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Publication date\\",\\r\\n      \\"fieldType\\": \\"DateTime\\"\\r\\n    }\\r\\n  ],\\r\\n  \\"ListWithImage\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ]\\r\\n}"},"TypeChildProperties":[{"Name":"FriendlyName","DefaultValue":null,"Title":"FriendlyName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"Name","DefaultValue":null,"Title":"Name","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":1},{"Name":"ListSettings","DefaultValue":null,"Title":"Number of list items","Type":"listSettings","SectionName":"List settings","CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":1},{"Name":"OrderBy","DefaultValue":"PublicationDate DESC","Title":"Sort items","Type":"dynamicChoicePerItemType","SectionName":"List settings","CategoryName":null,"Properties":{"Meta_Choice_ServiceUrl":"/Default.Sorters()?frontend=True","Meta_Choice_Choices":null,"Meta_Choice_ServiceCallParameters":null,"Meta_Choice_ServiceWarningMessage":null,"Meta_Choice_ActionTitle":null,"Meta_Choice_ButtonTitle":null,"Meta_Choice_NotResponsive":"False","Meta_Choice_SideLabel":null},"TypeChildProperties":[],"Position":1},{"Name":"DetailPageMode","DefaultValue":"SamePage","Title":"Open single item in...","Type":"radioChoices","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Auto-generated page - same layout as the list page\\",\\"Name\\":\\"SamePage\\",\\"Value\\":\\"SamePage\\",\\"Icon\\":null},{\\"Title\\":\\"Select existing page\\",\\"Name\\":\\"ExistingPage\\",\\"Value\\":\\"ExistingPage\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":2},{"Name":"DetailPage","DefaultValue":null,"Title":"","Type":"content","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Content_Type":"Telerik.Sitefinity.Pages.Model.PageNode","Meta_Content_AllowMultipleItemsSelection":"False","Meta_Content_OpenMultipleItemsSelection":"False","Meta_Content_LiveData":"False","Meta_Content_Provider":null,"Meta_Content_DisableInteraction":"False","Meta_Content_ShowSiteSelector":"False","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"DetailPageMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"ExistingPage\\"}],\\"inline\\":\\"true\\"}"},"TypeChildProperties":[],"Position":2},{"Name":"SfDetailViewName","DefaultValue":"Details.BlogPosts.Default","Title":"Single item template","Type":"viewSelector","SectionName":"Single item settings","CategoryName":null,"Properties":{"Meta_Choices":"[{\\"Title\\":\\"Details.Blog posts.Default\\",\\"Name\\":\\"Details.BlogPosts.Default\\",\\"Value\\":\\"Details.BlogPosts.Default\\",\\"Icon\\":null},{\\"Title\\":\\"Details.Dynamic.Default\\",\\"Name\\":\\"Details.Dynamic.Default\\",\\"Value\\":\\"Details.Dynamic.Default\\",\\"Icon\\":null},{\\"Title\\":\\"Details.Events.Default\\",\\"Name\\":\\"Details.Events.Default\\",\\"Value\\":\\"Details.Events.Default\\",\\"Icon\\":null},{\\"Title\\":\\"Details.List items.Default\\",\\"Name\\":\\"Details.ListItems.Default\\",\\"Value\\":\\"Details.ListItems.Default\\",\\"Icon\\":null},{\\"Title\\":\\"Details.News.Default\\",\\"Name\\":\\"Details.News.Default\\",\\"Value\\":\\"Details.News.Default\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False"},"TypeChildProperties":[],"Position":2},{"Name":"SfWidgetLabel","DefaultValue":"Content list","Title":"Label","Type":null,"SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom labels are displayed in the page editor for your convenience. You can change the generic name with a specific one only for this widget.","Meta_MaxLength_Length":"30"},"TypeChildProperties":[],"Position":0},{"Name":"ContentViewDisplayMode","DefaultValue":"Automatic","Title":"Content view display mode","Type":"choices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"Automatic\\",\\"Name\\":\\"Automatic\\",\\"Value\\":\\"Automatic\\",\\"Icon\\":null},{\\"Title\\":\\"Master\\",\\"Name\\":\\"Master\\",\\"Value\\":\\"Master\\",\\"Icon\\":null},{\\"Title\\":\\"Detail\\",\\"Name\\":\\"Detail\\",\\"Value\\":\\"Detail\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"[{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Based on your selection the items will be\\",\\"Presentation\\":[]},{\\"Value\\":\\"displayed as follows:\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Automatic\\",\\"Presentation\\":[0]},{\\"Value\\":\\"- handles detail item urls like\\",\\"Presentation\\":[]},{\\"Value\\":\\"page/2021/01/01/news.\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Master\\",\\"Presentation\\":[0]},{\\"Value\\":\\" - as a list that does not handle\\",\\"Presentation\\":[]},{\\"Value\\":\\"detail item urls.\\",\\"Presentation\\":[2]},{\\"Value\\":\\"E.g. page/2021/01/01/news will throw 404.\\",\\"Presentation\\":[2]}]},{\\"Type\\":1,\\"Chunks\\":[{\\"Value\\":\\"Detail\\",\\"Presentation\\":[0]},{\\"Value\\":\\"- shows a selected item in detail\\",\\"Presentation\\":[]},{\\"Value\\":\\"mode only.\\",\\"Presentation\\":[2]}]}]"},"TypeChildProperties":[],"Position":0},{"Name":"SelectionGroupLogicalOperator","DefaultValue":"AND","Title":"Selection group logical operator","Type":"radioChoices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"AND\\",\\"Name\\":\\"AND\\",\\"Value\\":\\"AND\\",\\"Icon\\":null},{\\"Title\\":\\"OR\\",\\"Name\\":\\"OR\\",\\"Value\\":\\"OR\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"Controls the logic of the filters - whether all conditions should be true (AND) or whether one of the conditions should be true (OR)."},"TypeChildProperties":[],"Position":0},{"Name":"FilterExpression","DefaultValue":null,"Title":"Filter expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom filter expression added to already selected filters."},"TypeChildProperties":[],"Position":0},{"Name":"SortExpression","DefaultValue":"PublicationDate DESC","Title":"Sort expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom sort expression, used if default sorting is not suitable."},"TypeChildProperties":[],"Position":0},{"Name":"SelectExpression","DefaultValue":"*","Title":"Select expression","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Custom expression for selecting the fields of the content type. By default \'*\' (asterisk) selects all. Use \';\' (semicolon) when listing specific fields. Example: Id; Title; Thumbnail(Id, Title)"},"TypeChildProperties":[],"Position":0},{"Name":"DisableCanonicalUrlMetaTag","DefaultValue":"False","Title":"Disable canonical URL meta tag","Type":"bool","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Disables the canonocal URL generation on widget level."},"TypeChildProperties":[],"Position":0},{"Name":"PagerMode","DefaultValue":"URLSegments","Title":"Paging mode","Type":"radioChoices","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"URL segments\\",\\"Name\\":\\"URLSegments\\",\\"Value\\":\\"URLSegments\\",\\"Icon\\":null},{\\"Title\\":\\"Query parameter\\",\\"Name\\":\\"QueryParameter\\",\\"Value\\":\\"QueryParameter\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"Controls whether the paging works with URL segments or a query parameter."},"TypeChildProperties":[],"Position":0},{"Name":"PagerTemplate","DefaultValue":"-page-{{pageNumber}}-","Title":"Template for paging URL segments","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_EmptyValues_EmptyValues":"[\\"\\"]","Meta_Description_Description":"Template for the URL segments the widget\'s paging will work with. Use {{pageNumber}} for the current page number.","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"PagerMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"URLSegments\\"}]}"},"TypeChildProperties":[],"Position":0},{"Name":"PagerQueryTemplate","DefaultValue":"page","Title":"Template for paging query parameter","Type":"string","SectionName":null,"CategoryName":"Advanced","Properties":{"Meta_EmptyValues_EmptyValues":"[\\"\\"]","Meta_Description_Description":"Template for the query parameter the widget\'s paging will work with.","Meta_ConditionalVisibility_Condition":"{\\"conditions\\":[{\\"fieldName\\":\\"PagerMode\\",\\"operator\\":\\"Equals\\",\\"value\\":\\"QueryParameter\\"}]}"},"TypeChildProperties":[],"Position":0},{"Name":"SeoEnabled","DefaultValue":"True","Title":"SEO enabled","Type":"bool","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"MetaTitle","DefaultValue":null,"Title":"Meta title","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"MetaDescription","DefaultValue":null,"Title":"Meta description","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"PageTitleMode","DefaultValue":"Replace","Title":"Page title mode","Type":"choices","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{"Meta_Choices":"[{\\"Title\\":\\"Replace\\",\\"Name\\":\\"Replace\\",\\"Value\\":\\"Replace\\",\\"Icon\\":null},{\\"Title\\":\\"Append\\",\\"Name\\":\\"Append\\",\\"Value\\":\\"Append\\",\\"Icon\\":null},{\\"Title\\":\\"Hierarchy\\",\\"Name\\":\\"Hierarchy\\",\\"Value\\":\\"Hierarchy\\",\\"Icon\\":null},{\\"Title\\":\\"Do not set\\",\\"Name\\":\\"DoNotSet\\",\\"Value\\":\\"DoNotSet\\",\\"Icon\\":null}]","Meta_Choices_AllowMultiple":"False","Meta_Description_Description":"[{\\"Type\\": 1,\\"Chunks\\": [{\\"Value\\": \\"Setting Page title mode\\",\\"Presentation\\": [0]},{\\"Value\\": \\"Replace \u2013 page title is replaced by the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"item\'s title.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Append \u2013 item title is appended to the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"page title.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Hierarchy \u2013 page title will be built by the\\",\\"Presentation\\": [2]},{\\"Value\\": \\"item\'s title and its parent\'s title. Value is\\",\\"Presentation\\": [2]},{\\"Value\\": \\"relevant for the Forums widget only.\\",\\"Presentation\\": [2]},{\\"Value\\": \\"Do not set \u2013 page title will not be altered.\\",\\"Presentation\\": []}]}]"},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphEnabled","DefaultValue":"True","Title":"OpenGraph enabled","Type":"bool","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphTitle","DefaultValue":null,"Title":"OpenGraph title","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphDescription","DefaultValue":null,"Title":"OpenGraph description","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphImage","DefaultValue":null,"Title":"OpenGraph image","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphVideo","DefaultValue":null,"Title":"OpenGraph video","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"OpenGraphType","DefaultValue":null,"Title":"OpenGraph type","Type":"string","SectionName":"Metadata fields","CategoryName":"Advanced","Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"CssClasses","DefaultValue":null,"Title":"","Type":"listFieldMappingCss","SectionName":"Custom CSS classes","CategoryName":"Advanced","Properties":{"Meta_CssFieldMappings_ShowWrapperClasses":"True","Meta_ViewMetaData":"{\\r\\n  \\"CardsList\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ],\\r\\n\\r\\n  \\"ListWithSummary\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Publication date\\",\\r\\n      \\"fieldType\\": \\"DateTime\\"\\r\\n    }\\r\\n  ],\\r\\n  \\"ListWithImage\\": [\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Title\\",\\r\\n      \\"fieldType\\": \\"ShortText\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Image\\",\\r\\n      \\"fieldType\\": \\"RelatedImage\\"\\r\\n    },\\r\\n    {\\r\\n      \\"fieldTitle\\": \\"Text\\",\\r\\n      \\"fieldType\\": \\"Text\\"\\r\\n    }\\r\\n  ]\\r\\n}"},"TypeChildProperties":[{"Name":"FieldName","DefaultValue":null,"Title":"FieldName","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0},{"Name":"CssClass","DefaultValue":null,"Title":"CssClass","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"Position":1},{"Name":"ShowListViewOnChildDetailsView","DefaultValue":"True","Title":"Show parent list view on child details view","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the parent list view of this widget when on the same page there is another widget displaying details view of a child item."},"TypeChildProperties":[],"Position":2},{"Name":"ShowDetailsViewOnChildDetailsView","DefaultValue":"False","Title":"Show parent details view on child details view","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the parent details view of this widget when on the same page there is another widget displaying details view of a child item."},"TypeChildProperties":[],"Position":2},{"Name":"ShowListViewOnEmptyParentFilter","DefaultValue":"False","Title":"Show child list view if no parent selected","Type":"bool","SectionName":"Displaying hierarchical content","CategoryName":"Advanced","Properties":{"Meta_Description_Description":"Show or hide the child list view of this widget when on the same page there is another widget displaying parent items and no parent item is selected to filter the child\'s list."},"TypeChildProperties":[],"Position":2},{"Name":"Attributes","DefaultValue":null,"Title":"Attributes for...","Type":"attributes","SectionName":"Attributes","CategoryName":"Advanced","Properties":{"Meta_LengthDependsOn_ExtraRecords":"[{\\"Name\\": \\"ContentList\\", \\"Title\\": \\"Content list\\"}]","Meta_LengthDependsOn_PropertyName":null,"Meta_LengthDependsOn_DisplayName":"","Meta_LengthDependsOn_DisplayTitle":""},"TypeChildProperties":[{"Name":"Keys","DefaultValue":null,"Title":"Keys","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0},{"Name":"Values","DefaultValue":null,"Title":"Values","Type":null,"SectionName":null,"CategoryName":null,"Properties":{"Validations_Readonly":"True"},"TypeChildProperties":[],"Position":0}],"Position":2}]}'),hK=JSON.parse('{"Name":"SitefinityChart","Caption":"Chart","PropertyMetadata":[{"Name":"Basic","Sections":[{"Name":"Main","Title":null,"Properties":[{"Name":"Zoomable","DefaultValue":null,"Title":"Zoomable","Type":"bool","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"CategoryName":"Basic"}]}],"PropertyMetadataFlat":[{"Name":"Zoomable","DefaultValue":null,"Title":"Zoomable","Type":"bool","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}]}'),dK=JSON.parse('{"totalCount":2,"dataItems":[{"title":"Basic","widgets":[{"name":"SitefinityContentBlock","addWidgetName":null,"addWidgetTitle":null,"title":"Content block","initialProperties":[]},{"name":"HelloWorld","addWidgetName":null,"addWidgetTitle":null,"title":"Hello world","initialProperties":[]},{"name":"SitefinityChart","addWidgetName":null,"addWidgetTitle":null,"title":"Chart","initialProperties":[]}]},{"title":"Content lists","widgets":[{"name":"SitefinityContentList","title":"Content list","addWidgetTitle":"Cards list","addWidgetName":"CardsList","initialProperties":[{"name":"SfViewName","value":"CardsList"}]},{"name":"SitefinityContentList","title":"Content list","addWidgetTitle":"External list","addWidgetName":"ExternalList","initialProperties":[{"name":"SfViewName","value":"ExternalList"}]},{"name":"SitefinityContentList","title":"Content list","addWidgetTitle":"List with image","addWidgetName":"ListWithImage","initialProperties":[{"name":"SfViewName","value":"ListWithImage"}]},{"name":"SitefinityContentList","title":"Content list","addWidgetTitle":"List with summary","addWidgetName":"ListWithSummary","initialProperties":[{"name":"SfViewName","value":"ListWithSummary"}]}]}]}'),pK=JSON.parse('{"totalCount":1,"dataItems":[{"title":"Empty section","widgets":[{"name":"SitefinitySection","addWidgetName":null,"addWidgetTitle":null,"title":"Section","initialProperties":[]}]}]}'),fK=JSON.parse('{"Name":"HelloWorld","Caption":"HelloWorld","PropertyMetadata":[{"Name":"Basic","Sections":[{"Name":"Main","Title":null,"Properties":[{"Name":"Message","DefaultValue":null,"Title":"Message","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}],"CategoryName":"Basic"}]},{"Name":"Advanced","Sections":[{"Name":"AdvancedMain","Title":null,"Properties":[],"CategoryName":null}]}],"PropertyMetadataFlat":[{"Name":"Message","DefaultValue":null,"Title":"Message","Type":"string","SectionName":null,"CategoryName":null,"Properties":{},"TypeChildProperties":[],"Position":0}]}');let Uc=(()=>{class i{constructor(){this.Model={},this.RequestContext={},this.Metadata={},this.subscriptions=[]}get Properties(){return this.Model.Properties}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}registerSubscription(t){this.subscriptions.push(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();class oC{constructor(e,t="",n="x"){this.propertyPrefix=t,this.lambdaVariableName=n,this.serviceMetadata=e}serialize(e){return e.Filter.hasOwnProperty("ChildFilters")?this.serializeCombinedFilter(e.Filter,e):e.Filter.hasOwnProperty("FieldName")?this.serializeFilterClause(e.Filter,e):e.Filter.hasOwnProperty("Name")?this.serializeRelationFilter(e.Filter,e):null}serializeCombinedFilter(e,t){if(0===e.ChildFilters.length)return null;let n=e.ChildFilters.map(s=>{if(s.hasOwnProperty("FieldName"))return this.serializeFilterClause(s,t);if(s.hasOwnProperty("ChildFilters")){let o=this.serializeCombinedFilter(s,t);return o&&(o=`(${o})`),o}return s.hasOwnProperty("Name")?this.serializeRelationFilter(s,t):null}).filter(s=>s);return 1===n.length&&"NOT"!=e.Operator?n[0]:"NOT"==e.Operator?`(not ${n[0]})`:(n=n.map(s=>s?s.startsWith("(")&&s.endsWith(")")?s:`(${s})`:null).filter(s=>s),n.join(` ${e.Operator.toLowerCase()}`))}serializeFilterClause(e,t){var n=`${this.propertyPrefix}${e.FieldName}`;switch(e.Operator){case"eq":case"ne":case"gt":case"lt":case"ge":case"le":const l=this.serializeFilterValue(e.FieldValue,e.FieldName,t);return`(${e.FieldName} ${e.Operator} ${l})`;case"any+or":case"not+(any+or)":var s=this.serializeFilterValuesArray(e.FieldValue,e.FieldName,t);if(s.length>0){var o="";return this.serviceMetadata.isPropertyACollection(t.Type,e.FieldName)?(o=s.map(c=>`${this.lambdaVariableName} eq ${c}`).join(" or "),o=`${n}/any(x: ${o})`):o=s.map(c=>`${n} eq ${c}`).join(" or "),"not+(any+or)"==e.Operator&&(o="not "+o),o}return null;case"any+and":var r=this.serializeFilterValuesArray(e.FieldValue,e.FieldName,t).map(c=>`${n}/any(${this.lambdaVariableName}: ${this.lambdaVariableName} eq ${c})`);return r.length>0?o=r.join(" and "):null;case"startswith":case"endswith":case"contains":var a=this.serializeFilterValue(e.FieldValue,e.FieldName,t);return`${e.Operator}(${n}, ${a})`;default:throw new Error(`The value provided for the operator filter clause: ${e.Operator} is not supported`)}}serializeRelationFilter(e,t){var n=this.serviceMetadata.getRelatedType(t.Type,e.Name);if(!n)return null;var s={Type:n,Filter:e.ChildFilter},o=new oC(this.serviceMetadata,"y/","y").serialize(s);switch(e.Operator){case"Any":return`${e.Name}/any(y:${o})`;case"All":return`${e.Name}/all(y:${o})`}return null}serializeFilterValue(e,t,n){return this.serviceMetadata.serializeFilterValue(n.Type,t,e)}serializeFilterValuesArray(e,t,n){return"string"==typeof e?[e]:Array.isArray(e)?e.map(s=>this.serializeFilterValue(s,t,n)):this.serializeFilterValue(e,t,n)}}let Om=(()=>{class i{}return i.Video="Telerik.Sitefinity.Libraries.Model.Video",i.Image="Telerik.Sitefinity.Libraries.Model.Image",i.News="Telerik.Sitefinity.News.Model.NewsItem",i.GenericContent="Telerik.Sitefinity.GenericContent.Model.ContentItem",i.Pages="Telerik.Sitefinity.Pages.Model.PageNode",i})(),$c=(()=>{class i{constructor(t,n,s){this.http=t,this.rootUrlService=n,this.serviceMetadata=s}getItemWithFallback(t,n,s){const o=`${this.buildItemBaseUrl(t)}(${n})/Default.GetItemWithFallback()${this.buildQueryParams({sf_provider:s,sf_fallback_prop_names:"*",$select:"*"})}`;return this.http.get(o)}getItemWithStatus(t,n,s,o){let r={sf_provider:s,$select:"*"};r=Object.assign(r,o);const a=`${this.buildItemBaseUrl(t)}(${n})/Default.GetItemWithStatus()${this.buildQueryParams(r)}`;return this.http.get(a)}getItem(t,n,s){let o={sf_provider:s,$select:"*"};const r=`${this.buildItemBaseUrl(t)}(${n})${this.buildQueryParams(o)}`;return this.http.get(r)}getItems(t){const n=this.getSimpleFields(t.Type,t.Fields||[]),s=this.getRelatedFields(t.Type,t.Fields||[]);let o={$count:t.Count,$orderby:t.OrderBy?t.OrderBy.map(a=>`${a.Name} ${a.Type}`):null,sf_provider:t.Provider,sf_culture:t.Culture,$select:n.join(","),$expand:s.join(","),$skip:t.Skip,$take:t.Take,$filter:new oC(this.serviceMetadata).serialize({Type:t.Type,Filter:t.Filter})};o=Object.assign(o,t.AdditionalQueryParams);const r=`${this.buildItemBaseUrl(t.Type)}${this.buildQueryParams(o)}`;return this.http.get(r).pipe(Kn(a=>({Items:a.value,TotalCount:a["@odata.count"]})))}getSharedContent(t,n){let s={sf_culture:n,sf_fallback_prop_names:"Content"};return this.http.get(`${this.buildItemBaseUrl(Om.GenericContent)}/Default.GetItemById(itemId=${t})${this.buildQueryParams(s)}`)}buildItemBaseUrl(t){return`${this.rootUrlService.getServiceUrl()}${this.serviceMetadata.getSetNameFromType(t)}`}buildQueryParams(t){let n="";return Object.keys(t).forEach(s=>{const o=t[s];o&&(n+=`${s}=${o}&`)}),""!==n&&(n="?"+n,n=n.substring(0,n.length-1)),n}getSimpleFields(t,n){if(null!=n&&1==n.length&&"*"==n[0])return["*"];var o=this.serviceMetadata.getSimpleFields(t);return n.filter(r=>o.some(a=>a===r))}getRelatedFields(t,n){if(null!=n&&1==n.length&&"*"==n[0])return["*"];const o=[],r=this.serviceMetadata.getRelationFields(t),a=/(?<fieldName>.+?)\((?<nested>.+)\)/;return n.forEach(l=>{const c=l.match(a);if(!c&&r.some(u=>u===l))o.push(l);else if(c&&c.groups){const u=c.groups.fieldName;if(r.some(h=>h===u)){const d=this.parseInnerFields(c.groups.nested),p=this.serviceMetadata.getRelatedType(t,u);if(p){let f=this.serviceMetadata.getSimpleFields(p);f=d.filter(S=>f.some(M=>M===S));let m=null;f.length>0&&(m=f.join(","),m=`$select=${m}`);const g=this.getRelatedFields(p,d);let v=null;g.length>0&&(v=g.join(","),v=`$expand=${v}`);let x=null;v&&m?x=`${u}(${m};${v})`:v?x=`${u}(${v})`:m&&(x=`${u}(${m})`),x&&o.push(x)}}}}),o}parseInnerFields(t){const n=[];let s=0,o=0,r=0,a=0;for(let h=0;h<t.length;h++){o++;const d=t[h];if("("===d&&r++,")"===d&&a++,","===d)if(r>0&&r===a){var l=t.substring(s,o-s-1).trim();n.push(l),s=o+1,r=0,a=0}else if(0===r&&0===a){var c=t.substring(s,o-s-1).trim();n.push(c),s=o+1}}if(s<o){var u=t.substring(s,o-s).trim();n.push(u)}return n}}return i.\u0275fac=function(t){return new(t||i)(F(Nm),F(km),F(Rm))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function mK(i,e){if(1&i&&Zt(0,"div",1),2&i){const t=ye();z("innerHTML",t.Model.Properties.Content,bf),Mr("class",t.Model.Properties.WrapperCssClass)}}let gK=(()=>{class i extends Uc{constructor(t,n){super(),this.restService=t,this.renderContext=n}ngOnInit(){if(this.Model.Properties&&this.Model.Properties.SharedContentID){const t=this.restService.getSharedContent(this.Model.Properties.SharedContentID,this.renderContext.cultureName).subscribe(n=>{this.Model.Properties.Content=n.Content});this.registerSubscription(t)}}}return i.\u0275fac=function(t){return new(t||i)(b($c),b(cd))},i.\u0275cmp=E({type:i,selectors:[["app-content"]],features:[P],decls:1,vars:1,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(t,n){1&t&&ae(0,mK,1,2,"div",0),2&t&&z("ngIf",n.Model.Properties)},directives:[vi],encapsulation:2}),i})();const wN=new lt(i=>i.complete());let TN=(()=>{class i{constructor(t,n){this.serviceMetadata=t,this.restService=n}getItems(t,n){if(t.SelectedItems&&t.SelectedItems.Content&&t.SelectedItems.Content.length>0){const s=t.SelectedItems.Content[0],o=s.Variations[0],r=this.getMainFilter(t,o),a=t.FilterExpression,l=this.getParentFilterExpression(s,o,n);let u={Operator:t.SelectionGroupLogicalOperator,ChildFilters:[r,a,l].filter(p=>p)};const h=this.getSkipAndTake(t,1),d={Skip:h.Skip,Take:h.Take,Count:h.Count,Type:s.Type,Provider:o.Source,OrderBy:[this.getOrderByExpression(t)].filter(p=>p),Fields:this.getSelectExpression(t),Filter:u};return this.restService.getItems(d)}return wN}getMainFilter(t,n){let s=null;if(n.Filter&&n.Filter.Value)switch(n.Filter.Key){case"Complex":s=this.parseComplexFilter(JSON.parse(n.Filter.Value));break;case"Ids":s={Operator:"OR",ChildFilters:n.Filter.Value.split(",").map(a=>({FieldName:"Id",FieldValue:a.trim(),Operator:"eq"}))}}return s}parseComplexFilter(t){if(t.hasOwnProperty("FieldName")&&t.hasOwnProperty("FieldValue"))return t;if(t.hasOwnProperty("Name")&&t.hasOwnProperty("Operator")){var n=t;return n.ChildFilter&&(n.ChildFilter=this.parseComplexFilter(n.ChildFilter)),n}if(t.hasOwnProperty("DateFieldName")){const o=t,r={Operator:"AND",ChildFilters:[]},a=new Date;switch(o.OffsetType){case"years":a.setFullYear(a.getFullYear()-o.OffsetValue);break;case"months":a.setMonth(a.getMonth()-o.OffsetValue);break;case"weeks":a.setDate(a.getDate()-7*o.OffsetValue);break;case"days":a.setDate(a.getDate()-o.OffsetValue)}const l={FieldName:o.DateFieldName,Operator:"ge",FieldValue:a.toISOString()},c={FieldName:o.DateFieldName,Operator:"le",FieldValue:(new Date).toISOString()};return r.ChildFilters=[l,c],r}{const o=t,r=new Array(o.ChildFilters.length);for(let a=0;a<o.ChildFilters.length;a++){const l=this.parseComplexFilter(o.ChildFilters[a]);r[a]=l}return o.ChildFilters=r,o}}getParentFilterExpression(t,n,s){if(n.DynamicFilterByParent){var r=this.serviceMetadata.getParentType(t.Type);if(null!=r&&null!=s&&s.ItemType===r)return{FieldName:"ParentId",FieldValue:s.Id,Operator:"eq"}}return null}getSkipAndTake(t,n){let s={},o=1;switch(t.ListSettings.DisplayMode){case"Paging":s.ShowPager=!0,s.Take=t.ListSettings.ItemsPerPage,o=n,o>1&&(s.Skip=t.ListSettings.ItemsPerPage*(o-1)),s.Count=!0;break;case"Limit":s.Take=t.ListSettings.LimitItemsCount}return s}getOrderByExpression(t){if("Manually"==t.OrderBy)return null;const n="Custom"==t.OrderBy?t.SortExpression:t.OrderBy;if(!n)return null;var s=n.split(" ");if(2!=s.length)return null;var o=s[1].toUpperCase();return{Name:s[0],Type:o}}getSelectExpression(t){return t.SelectExpression.split(";").map(o=>o.trim())}}return i.\u0275fac=function(t){return new(t||i)(F(Rm),F($c))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class vK extends at{constructor(e,t){super()}schedule(e,t=0){return this}}class SN extends vK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,n=!1;try{this.work(e)}catch(o){n=!0,s=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let DN=(()=>{class i{constructor(t,n=i.now){this.SchedulerAction=t,this.now=n}schedule(t,n=0,s){return new this.SchedulerAction(this,t).schedule(s,n)}}return i.now=()=>Date.now(),i})();class Bo extends DN{constructor(e,t=DN.now){super(e,()=>Bo.delegate&&Bo.delegate!==this?Bo.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Bo.delegate&&Bo.delegate!==this?Bo.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const CK=new class extends Bo{}(class extends SN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}});class Ki{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return uN(this.value);case"E":return function(i,e){return new lt(t=>t.error(i))}(this.error);case"C":return function(i){return i?function(i){return new lt(e=>i.schedule(()=>e.complete()))}(i):wN}()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new Ki("N",e):Ki.undefinedValueNotification}static createError(e){return new Ki("E",void 0,e)}static createComplete(){return Ki.completeNotification}}Ki.completeNotification=new Ki("C"),Ki.undefinedValueNotification=new Ki("N",void 0);class Lm extends Xe{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Lm.dispatch,this.delay,new DK(e,this.destination)))}_next(e){this.scheduleMessage(Ki.createNext(e))}_error(e){this.scheduleMessage(Ki.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Ki.createComplete()),this.unsubscribe()}}class DK{constructor(e,t){this.notification=e,this.destination=t}}class rC extends _r{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new EK(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=n.length;let r;if(this.closed)throw new qs;if(this.isStopped||this.hasError?r=at.EMPTY:(this.observers.push(e),r=new ya(this,e)),s&&e.add(e=new Lm(e,s)),t)for(let a=0;a<o&&!e.closed;a++)e.next(n[a]);else for(let a=0;a<o&&!e.closed;a++)e.next(n[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||CK).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,s=this._events,o=s.length;let r=0;for(;r<o&&!(e-s[r].time<n);)r++;return o>t&&(r=Math.max(r,o-t)),r>0&&s.splice(0,r),s}}class EK{constructor(e,t){this.time=e,this.value=t}}let Gc=(()=>{class i{constructor(t,n){this.renderer=t,this.elementRef=n}ngOnChanges(t){const n=t.attributes;if(n.currentValue){const s=this.renderer.createRenderer(null,null);Object.keys(n.currentValue).forEach(o=>{s.setAttribute(this.elementRef.nativeElement,o,n.currentValue[o])})}}}return i.\u0275fac=function(t){return new(t||i)(b(Oo),b(hn))},i.\u0275dir=xt({type:i,selectors:[["","dynamicAttributes",""]],inputs:{attributes:["dynamicAttributes","attributes"]},features:[Xs]}),i})();function AK(i,e){if(1&i&&(Jn(0),ie(1,"h3"),ie(2,"span"),bn(3),se(),se(),ei()),2&i){const t=ye().ngIf;Q(3),Cs(t.DetailItem.Title)}}function MK(i,e){if(1&i&&(ie(0,"div",1),ae(1,AK,4,1,"ng-container",2),se()),2&i){const t=e.ngIf;z("dynamicAttributes",t.Attributes),Q(1),z("ngIf","News"==t.ViewName)}}let PK=(()=>{class i{constructor(t){this.restService=t,this.detailViewModel$=new rC,this.detailModel=null}ngOnChanges(t){if(t&&t.detailModel.currentValue!==t.detailModel.previousValue){const n=t.detailModel.currentValue;if(!n)return;let o,s={};new URLSearchParams(location.search).forEach((r,a)=>{s[a]=r}),o=s.hasOwnProperty("sf-content-action")?this.restService.getItemWithStatus(n.DetailItem.ItemType,n.DetailItem.Id,n.DetailItem.ProviderName,s):this.restService.getItem(n.DetailItem.ItemType,n.DetailItem.Id,n.DetailItem.ProviderName),o.subscribe(r=>{if(!this.detailModel)return;let a={};this.detailModel&&this.detailModel.Attributes&&this.detailModel.Attributes.forEach(l=>{a[l.Key]=l.Value}),this.detailViewModel$.next({Attributes:a,ViewName:this.detailModel.ViewName,DetailItem:r})})}}}return i.\u0275fac=function(t){return new(t||i)(b($c))},i.\u0275cmp=E({type:i,selectors:[["app-content-list-detail"]],inputs:{detailModel:"detailModel"},features:[Xs],decls:2,vars:3,consts:[[3,"dynamicAttributes",4,"ngIf"],[3,"dynamicAttributes"],[4,"ngIf"]],template:function(t,n){1&t&&(ae(0,MK,2,2,"div",0),Ux(1,"async")),2&t&&z("ngIf",$x(1,1,n.detailViewModel$))},directives:[vi,Gc],pipes:[Fb],encapsulation:2}),i})();function IK(i,e){if(1&i&&Zt(0,"img",8),2&i){const t=ye().$implicit;Dc(t.Image.Css),ko("src",t.Image.Url,bh),ko("alt",t.Image.AlternativeText),ko("title",t.Image.Title)}}function NK(i,e){if(1&i){const t=Pr();Jn(0),ie(1,"a",9),Mn("click",function(s){wr(t);const o=ye(2).$implicit;return ye().onDetailItemOpenHandler(o.Original,s)}),bn(2),se(),ei()}if(2&i){const t=ye(2).$implicit;Q(2),Cs(t.Title.Value)}}function kK(i,e){if(1&i&&(Jn(0),bn(1),ei()),2&i){const t=ye(2).$implicit;Q(1),za(" ",t.Title.Value," ")}}function RK(i,e){if(1&i&&(ie(0,"h5"),ae(1,NK,3,1,"ng-container",6),ae(2,kK,2,1,"ng-container",6),se()),2&i){const t=ye().$implicit,n=ye();Mr("class",t.Title.Css),Q(1),z("ngIf",n.model.OpenDetails),Q(1),z("ngIf",!n.model.OpenDetails)}}function OK(i,e){if(1&i&&(ie(0,"p"),bn(1),se()),2&i){const t=ye().$implicit;Dc(t.Text.Css),Q(1),Cs(t.Text.Value)}}function LK(i,e){if(1&i&&(ie(0,"div",2),ie(1,"div",3),ae(2,IK,1,6,"img",4),ie(3,"div",5),ae(4,RK,3,3,"h5",6),ae(5,OK,2,4,"p",7),se(),se(),se()),2&i){const t=e.$implicit;Q(4),z("ngIf",t.Title),Q(1),z("ngIf",t.Text)}}let FK=(()=>{class i{constructor(){this.onDetailItemOpen=new ue}onDetailItemOpenHandler(t,n){n.preventDefault(),n.stopPropagation(),this.onDetailItemOpen.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["app-content-list-cards-list"]],inputs:{model:"model"},outputs:{onDetailItemOpen:"onDetailItemOpen"},decls:2,vars:2,consts:[[3,"dynamicAttributes"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],[3,"class","src","alt","title",4,"ngIf"],[1,"card-body"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"src","alt","title"],["href","#",3,"click"]],template:function(t,n){1&t&&(ie(0,"div",0),ae(1,LK,6,2,"div",1),se()),2&t&&(z("dynamicAttributes",n.model.Attributes),Q(1),z("ngForOf",n.model.Items))},directives:[Gc,kr,vi],encapsulation:2}),i})();function VK(i,e){1&i&&Zt(0,"hr")}function BK(i,e){if(1&i&&Zt(0,"img",9),2&i){const t=ye().$implicit;Dc(t.Image.Css),ko("src",t.Image.Url,bh),ko("alt",t.Image.AlternativeText),ko("title",t.Image.Title)}}function zK(i,e){if(1&i&&(ie(0,"h5"),bn(1),se()),2&i){const t=ye().$implicit;Mr("class",t.Title.Css),Q(1),Cs(t.Title.Value)}}function HK(i,e){if(1&i&&(ie(0,"p"),bn(1),se()),2&i){const t=ye().$implicit;Dc(t.Text.Css),Q(1),Cs(t.Text.Value)}}function jK(i,e){if(1&i){const t=Pr();Jn(0),ie(1,"a",10),Mn("click",function(s){wr(t);const o=ye().$implicit;return ye().onDetailItemOpenHandler(o.Original,s)}),bn(2,"Learn more"),se(),ei()}}function UK(i,e){if(1&i&&(Jn(0,2),ae(1,VK,1,0,"hr",3),ie(2,"div",4),ie(3,"div",5),ae(4,BK,1,6,"img",6),se(),ie(5,"div",7),ae(6,zK,2,2,"h5",3),ae(7,HK,2,4,"p",8),ae(8,jK,3,0,"ng-container",3),se(),se(),ei()),2&i){const t=e.$implicit,n=e.first,s=ye();Q(1),z("ngIf",!n),Q(5),z("ngIf",t.Title),Q(1),z("ngIf",t.Text),Q(1),z("ngIf",s.model.OpenDetails)}}let $K=(()=>{class i{constructor(){this.onDetailItemOpen=new ue}onDetailItemOpenHandler(t,n){n.preventDefault(),n.stopPropagation(),this.onDetailItemOpen.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["app-content-list-list-with-image"]],inputs:{model:"model"},outputs:{onDetailItemOpen:"onDetailItemOpen"},decls:2,vars:2,consts:[[3,"dynamicAttributes"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[1,"d-flex"],[1,"flex-shrink-0"],[3,"class","src","alt","title",4,"ngIf"],[1,"flex-grow-1","ms-3"],[3,"class",4,"ngIf"],[3,"src","alt","title"],["href","#",1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(ie(0,"div",0),ae(1,UK,9,4,"ng-container",1),se()),2&t&&(z("dynamicAttributes",n.model.Attributes),Q(1),z("ngForOf",n.model.Items))},directives:[Gc,kr,vi],encapsulation:2}),i})();function GK(i,e){1&i&&Zt(0,"hr")}function WK(i,e){if(1&i){const t=Pr();Jn(0),ie(1,"a",5),Mn("click",function(s){wr(t);const o=ye(2).$implicit;return ye().onDetailItemOpenHandler(o.Original,s)}),bn(2),se(),ei()}if(2&i){const t=ye(2).$implicit;Q(2),Cs(t.Title.Value)}}function qK(i,e){if(1&i&&(Jn(0),bn(1),ei()),2&i){const t=ye(2).$implicit;Q(1),za(" ",t.Title.Value," ")}}function KK(i,e){if(1&i&&(ie(0,"h5"),ae(1,WK,3,1,"ng-container",3),ae(2,qK,2,1,"ng-container",3),se()),2&i){const t=ye().$implicit,n=ye();Mr("class",t.Title.Css),Q(1),z("ngIf",n.model.OpenDetails),Q(1),z("ngIf",!n.model.OpenDetails)}}function YK(i,e){if(1&i&&(ie(0,"p"),ie(1,"small"),bn(2),se(),se()),2&i){const t=ye().$implicit;Mr("class",t.PublicationDate.Css),Q(2),Cs(t.PublicationDate.Value)}}function QK(i,e){if(1&i&&(ie(0,"p"),bn(1),se()),2&i){const t=ye().$implicit;Dc(t.Text.Css),Q(1),Cs(t.Text.Value)}}function XK(i,e){if(1&i&&(Jn(0,2),ae(1,GK,1,0,"hr",3),ie(2,"div"),ae(3,KK,3,3,"h5",3),ae(4,YK,3,2,"p",3),ae(5,QK,2,4,"p",4),se(),ei()),2&i){const t=e.$implicit,n=e.first;Q(1),z("ngIf",!n),Q(2),z("ngIf",t.Title),Q(1),z("ngIf",t.PublicationDate),Q(1),z("ngIf",t.Text)}}let ZK=(()=>{class i{constructor(){this.onDetailItemOpen=new ue}onDetailItemOpenHandler(t,n){n.preventDefault(),n.stopPropagation(),this.onDetailItemOpen.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["app-content-list-list-with-summary"]],inputs:{model:"model"},outputs:{onDetailItemOpen:"onDetailItemOpen"},decls:2,vars:2,consts:[[3,"dynamicAttributes"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"class",4,"ngIf"],["href","#",3,"click"]],template:function(t,n){1&t&&(ie(0,"div",0),ae(1,XK,6,4,"ng-container",1),se()),2&t&&(z("dynamicAttributes",n.model.Attributes),Q(1),z("ngForOf",n.model.Items))},directives:[Gc,kr,vi],encapsulation:2}),i})();function JK(i,e){if(1&i){const t=Pr();ie(0,"app-content-list-cards-list",1),Mn("onDetailItemOpen",function(s){return wr(t),ye().onDetailItemOpenHandler(s)}),se()}2&i&&z("model",ye().cardsListModel)}function eY(i,e){if(1&i){const t=Pr();ie(0,"app-content-list-list-with-image",1),Mn("onDetailItemOpen",function(s){return wr(t),ye().onDetailItemOpenHandler(s)}),se()}2&i&&z("model",ye().listWithImageModel)}function tY(i,e){if(1&i){const t=Pr();ie(0,"app-content-list-list-with-summary",1),Mn("onDetailItemOpen",function(s){return wr(t),ye().onDetailItemOpenHandler(s)}),se()}2&i&&z("model",ye().listWithSummaryModel)}let nY=(()=>{class i{constructor(){this.onDetailItemOpen=new ue,this.cardsListModel=null,this.listWithImageModel=null,this.listWithSummaryModel=null}ngOnInit(){let t={};this.listModel.Attributes&&this.listModel.Attributes.forEach(n=>{t[n.Key]=n.Value}),this.listModel.Items$.subscribe(n=>{if("CardsList"===this.listModel.ViewName||"ListWithImage"===this.listModel.ViewName){const s={Attributes:t,OpenDetails:this.listModel.OpenDetails,Items:n.Items.map(o=>{let r;const a=o[this.listModel.FieldMap.Image];let l=null;return a&&a.length>0&&(l=a[0],r=l.Thumbnails&&l.Thumbnails.length>0?l.Thumbnails[0].Url:l.Url),{Title:{Value:o[this.listModel.FieldMap.Title],Css:"card-title"+(o[this.listModel.FieldCssClassMap.Title]||""),Link:""},Image:{Title:null==l?void 0:l.Title,Url:r,AlternativeText:null==l?void 0:l.AlternativeText,Css:o[this.listModel.FieldCssClassMap.Image]},Text:{Value:o[this.listModel.FieldMap.Text],Css:`card-text ${o[this.listModel.FieldCssClassMap.Text]||""}`},Original:o}})};"CardsList"===this.listModel.ViewName?this.cardsListModel=s:"ListWithImage"===this.listModel.ViewName&&(this.listWithImageModel=s)}else"ListWithSummary"===this.listModel.ViewName&&(this.listWithSummaryModel={Attributes:t,OpenDetails:this.listModel.OpenDetails,Items:n.Items.map(s=>{const o={Title:{Value:s[this.listModel.FieldMap.Title],Css:"card-title"+(s[this.listModel.FieldCssClassMap.Title]||""),Link:""},PublicationDate:{Value:s[this.listModel.FieldMap["Publication date"]],Css:s[this.listModel.FieldCssClassMap["Publication date"]]},Text:{Value:s[this.listModel.FieldMap.Text],Css:`card-text ${s[this.listModel.FieldCssClassMap.Text]||""}`},Original:s};return o.PublicationDate.Css||(o.PublicationDate.Css=""),o.PublicationDate.Css+=" text-muted",o})})})}onDetailItemOpenHandler(t){this.onDetailItemOpen.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["app-content-list-master"]],inputs:{listModel:"listModel"},outputs:{onDetailItemOpen:"onDetailItemOpen"},decls:3,vars:3,consts:[[3,"model","onDetailItemOpen",4,"ngIf"],[3,"model","onDetailItemOpen"]],template:function(t,n){1&t&&(ae(0,JK,1,1,"app-content-list-cards-list",0),ae(1,eY,1,1,"app-content-list-list-with-image",0),ae(2,tY,1,1,"app-content-list-list-with-summary",0)),2&t&&(z("ngIf",n.cardsListModel),Q(1),z("ngIf",n.listWithImageModel),Q(1),z("ngIf",n.listWithSummaryModel))},directives:[vi,FK,$K,ZK],encapsulation:2}),i})();function iY(i,e){1&i&&Zt(0,"app-content-list-detail",2),2&i&&z("detailModel",ye().detailModel)}function sY(i,e){if(1&i){const t=Pr();ie(0,"app-content-list-master",3),Mn("onDetailItemOpen",function(s){return wr(t),ye().onDetailItemOpenHandler(s)}),se()}2&i&&z("listModel",ye().listModel)}let oY=(()=>{class i extends Uc{constructor(t,n){super(),this.contentlistService=t,this.restService=n,this.Metadata.Title="Content list",this.Metadata.EmptyIconText="Select content",this.Metadata.EmptyIcon="plus-circle"}ngOnInit(){if(window.addEventListener("popstate",t=>{this.detailModel?this.detailModel=void 0:t.state&&t.state.hasOwnProperty("Id")&&this.handleDetailView(t.state)}),this.Properties.DetailPageMode=this.Properties.DetailPageMode||"SamePage",this.Properties.ContentViewDisplayMode=this.Properties.ContentViewDisplayMode||"Automatic",this.Properties.Attributes=this.Properties.Attributes||{},this.Properties.CssClasses=this.Properties.CssClasses||[],this.Properties.ListFieldMapping=this.Properties.ListFieldMapping||[],this.Properties.OrderBy=this.Properties.OrderBy||"PublicationDate DESC",this.Properties.ListSettings=this.Properties.ListSettings||{},this.Properties.ListSettings.DisplayMode=this.Properties.ListSettings.DisplayMode||"All",this.Properties.ListSettings.ItemsPerPage=this.Properties.ListSettings.ItemsPerPage||20,this.Properties.ListSettings.LimitItemsCount=this.Properties.ListSettings.LimitItemsCount||20,this.Properties.SelectExpression=this.Properties.SelectExpression||"*",this.Properties.SelectionGroupLogicalOperator=this.Properties.SelectionGroupLogicalOperator||"AND","Automatic"===this.Properties.ContentViewDisplayMode)this.RequestContext.DetailItem?this.handleDetailView(this.RequestContext.DetailItem):this.handleListView();else if("Detail"===this.Properties.ContentViewDisplayMode){if(this.Properties.SelectedItems&&this.Properties.SelectedItems.Content&&this.Properties.SelectedItems.Content.length>0){const t=this.Properties.SelectedItems.Content[0];this.handleDetailView({Id:this.Properties.SelectedItems.ItemIdsOrdered[0],ItemType:t.Type,ProviderName:t.Variations[0].Source})}}else"Master"===this.Properties.ContentViewDisplayMode&&this.handleListView()}onDetailItemOpenHandler(t){const s={Id:t.Id,ProviderName:t.Provider,ItemType:this.Properties.SelectedItems.Content[0].Type};if("SamePage"===this.Properties.DetailPageMode){this.handleDetailView(s);const o=window.location.origin+window.location.pathname+t.ItemDefaultUrl+window.location.search;window.history.pushState(s,"",o)}else this.Properties.DetailPage&&this.restService.getItem(Om.Pages,this.Properties.DetailPage.ItemIdsOrdered[0],this.Properties.DetailPage.Content[0].Variations[0].Source).subscribe(o=>{window.location.href=o.ViewUrl+t.ItemDefaultUrl})}handleListView(){const t={};this.Properties.ListFieldMapping.forEach(r=>{t[r.FriendlyName]=r.Name});const n={};this.Properties.CssClasses.forEach(r=>{n[r.FieldName]=r.CssClass});const s=this.contentlistService.getItems(this.Properties,this.RequestContext.DetailItem);let o={OpenDetails:!("Master"===this.Properties.ContentViewDisplayMode&&"SamePage"===this.Properties.DetailPageMode),FieldCssClassMap:n,FieldMap:t,Items$:s,ViewName:this.Properties.SfViewName,Attributes:this.getAttributesWithClasses("Content list","row row-cols-1 row-cols-md-3")};this.listModel=o}handleDetailView(t){const n=this.getAttributesWithClasses("Details view",null);this.detailModel={Attributes:n,DetailItem:t,ViewName:this.Properties.SfDetailViewName}}getAttributesWithClasses(t,n){const s=this.Properties.CssClasses.find(a=>a.FieldName===t),o=this.Properties.Attributes.ContentList||[];let r=o.find(a=>"class"===a.Key);return r||(r={Key:"class",Value:""},o.push(r)),s&&(r.Value+=` ${s.CssClass}`),n&&(r.Value+=` ${n}`),o}}return i.\u0275fac=function(t){return new(t||i)(b(TN),b($c))},i.\u0275cmp=E({type:i,selectors:[["app-content-list"]],features:[P],decls:2,vars:2,consts:[[3,"detailModel",4,"ngIf"],[3,"listModel","onDetailItemOpen",4,"ngIf"],[3,"detailModel"],[3,"listModel","onDetailItemOpen"]],template:function(t,n){1&t&&(ae(0,iY,1,1,"app-content-list-detail",0),ae(1,sY,1,1,"app-content-list-master",1)),2&t&&(z("ngIf",n.detailModel),Q(1),z("ngIf",n.listModel&&!n.detailModel))},directives:[vi,PK,nY],encapsulation:2}),i})(),EN=(()=>{class i extends Uc{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Xl(i)))(n||i)}}(),i.\u0275cmp=E({type:i,selectors:[["app-error"]],features:[P],decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})();const Ka={CssGridSystemColumnCount:12,VideoBackgroundClass:"-sc-video",ImageBackgroundClass:"-sc-image",DefaultPadding:"None",DefaultMargin:"None",AlignmentClasses:{Left:"justify-content-start",Center:"justify-content-center",Right:"justify-content-end",Justify:"justify-content-between"},ButtonClasses:{Primary:{Title:"Primary action",Value:"btn btn-primary"},Secondary:{Title:"Secondary action",Value:"btn btn-secondary"},Link:{Title:"Link",Value:""}},OffsetClasses:{PaddingTopNONE:"",PaddingTopS:"pt-3",PaddingTopM:"pt-4",PaddingTopL:"pt-5",PaddingLeftNONE:"",PaddingLeftS:"pl-3",PaddingLeftM:"pl-4",PaddingLeftL:"pl-5",PaddingBottomNONE:"",PaddingBottomS:"pb-3",PaddingBottomM:"pb-4",PaddingBottomL:"pb-5",PaddingRightNONE:"",PaddingRightS:"pr-3",PaddingRightM:"pr-4",PaddingRightL:"pr-5",MarginTopNONE:"",MarginTopS:"mt-3",MarginTopM:"mt-4",MarginTopL:"mt-5",MarginLeftNONE:"",MarginLeftS:"ml-3",MarginLeftM:"ml-4",MarginLeftL:"ml-5",MarginBottomNONE:"",MarginBottomS:"mb-3",MarginBottomM:"mb-4",MarginBottomL:"mb-5",MarginRightNONE:"",MarginRightS:"mr-3",MarginRightM:"mr-4",MarginRightL:"mr-5"}};let AN=(()=>{class i{getPaddingClasses(t){return[`PaddingTop${(t.Top||Ka.DefaultPadding).toUpperCase()}`,`PaddingBottom${(t.Bottom||Ka.DefaultPadding).toUpperCase()}`,`PaddingLeft${(t.Left||Ka.DefaultPadding).toUpperCase()}`,`PaddingRight${(t.Right||Ka.DefaultPadding).toUpperCase()}`].map(u=>Ka.OffsetClasses[u]).filter(u=>u).join(" ")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function rY(i,e){if(1&i&&(ie(0,"div",4),ie(1,"video",5),Zt(2,"source",6),se(),se()),2&i){const t=ye().ngIf;Q(2),ko("src",t.Section.VideoUrl,bh)}}function aY(i,e){1&i&&px(0,8),2&i&&z("componentWrapper",e.$implicit)}function lY(i,e){if(1&i&&(Jn(0),ie(1,"div",1),ae(2,aY,1,1,"ng-container",7),se(),ei()),2&i){const t=e.$implicit;Q(1),z("dynamicAttributes",t.Attributes),Q(1),z("ngForOf",t.Children)}}function cY(i,e){if(1&i&&(Jn(0),ie(1,"section",1),ae(2,rY,3,1,"div",2),ae(3,lY,3,2,"ng-container",3),se(),ei()),2&i){const t=e.ngIf;Q(1),z("dynamicAttributes",t.Section.Attributes),Q(1),z("ngIf",t.Section.ShowVideo&&t.Section.VideoUrl),Q(1),z("ngForOf",t.Columns)}}const Fm="Section";let MN=(()=>{class i extends Uc{constructor(t,n,s){super(),this.renderContext=t,this.restService=n,this.styleGenerator=s,this.viewModel$=new rC}ngOnInit(){this.Properties.ColumnsCount=this.Properties.ColumnsCount||1,this.Properties.ColumnProportionsInfo=this.Properties.ColumnProportionsInfo||"[12]",this.populateSection().subscribe(t=>{this.viewModel$.next({Section:t,Columns:this.populateColumns()})})}populateSection(){const t=new rC,n={Attributes:{}};let s=this.Properties.Attributes;s&&s.hasOwnProperty(Fm)&&s[Fm].forEach(r=>{n.Attributes[r.Key]=r.Value});const o=["row"];if(this.Properties.SectionPadding){const r=this.styleGenerator.getPaddingClasses(this.Properties.SectionPadding);o.push(r)}if(this.Properties.SectionMargin){const r=this.styleGenerator.getPaddingClasses(this.Properties.SectionMargin);o.push(r)}if(this.Properties.CustomCssClass&&this.Properties.CustomCssClass.hasOwnProperty(Fm)&&o.push(this.Properties.CustomCssClass[Fm].Class),!this.Properties.SectionBackground)return n.Attributes.class=o.filter(r=>r).join(" "),t.next(n),t.asObservable();if(!this.Properties.SectionBackground)return n.Attributes.class=o.filter(r=>r).join(" "),t.next(n),t.asObservable();if("Video"===this.Properties.SectionBackground.BackgroundType){if(this.Properties.SectionBackground.VideoItem&&this.Properties.SectionBackground.VideoItem.Id)return o.push(Ka.VideoBackgroundClass),this.restService.getItemWithFallback(Om.Video,this.Properties.SectionBackground.VideoItem.Id,this.Properties.SectionBackground.VideoItem.Provider).subscribe(r=>{n.ShowVideo=!0,n.VideoUrl=r.Url,n.Attributes.class=o.filter(a=>a).join(" "),t.next(n)}),t.asObservable()}else{if("Image"===this.Properties.SectionBackground.BackgroundType&&this.Properties.SectionBackground.ImageItem&&this.Properties.SectionBackground.ImageItem.Id){const r=this.Properties.SectionBackground.Position||"Fill";return o.push(Ka.ImageBackgroundClass),this.restService.getItemWithFallback(Om.Image,this.Properties.SectionBackground.ImageItem.Id,this.Properties.SectionBackground.ImageItem.Provider).subscribe(a=>{let l="";switch(r){case"Fill":l="--sf-background-size: 100% auto;";break;case"Center":l="--sf-background-position: center";break;default:l="--sf-background-size: cover;"}l=`--sf-backgr\u043eund-image: url(${a.Url});${l}`,n.Attributes.style=l,n.Attributes.class=o.filter(c=>c).join(" "),t.next(n)}),t.asObservable()}"Color"===this.Properties.SectionBackground.BackgroundType&&this.Properties.SectionBackground.Color&&(n.Attributes.style=`--sf-backgr\u043eund-color: ${this.Properties.SectionBackground.Color}`)}return n.Attributes.class=o.filter(r=>r).join(" "),t.next(n),t.asObservable()}populateColumns(){let t=[];for(let n=0;n<this.Properties.ColumnsCount;n++){let s=`Column${n+1}`;const r=[`col-md-${this.Properties.ColumnProportionsInfo[n]}`];let a=[];this.Model.Children&&(a=this.Model.Children.filter(c=>c.PlaceHolder===s).map(c=>({model:c,context:this.RequestContext})));const l={Attributes:{},Children:a};if(this.renderContext.isEdit()){l.Attributes["data-sfcontainer"]=s;let c=null;c=this.Properties.Labels&&this.Properties.Labels.hasOwnProperty(s)?this.Properties.Labels[s].Label:s,l.Attributes["data-sfplaceholderlabel"]=c}if(this.Properties.Attributes&&this.Properties.Attributes.hasOwnProperty(s)&&this.Properties.Attributes[s].forEach(c=>{l.Attributes[c.Key]=c.Value}),this.Properties.ColumnsBackground&&this.Properties.ColumnsBackground.hasOwnProperty(s)){const c=this.Properties.ColumnsBackground[s];"Color"==c.BackgroundType&&(l.Attributes.style=`--sf-backgr\u043eund-color: ${c.Color}`)}if(this.Properties.ColumnsPadding&&this.Properties.ColumnsPadding.hasOwnProperty(s)){const u=this.styleGenerator.getPaddingClasses(this.Properties.ColumnsPadding[s]);u&&(l.Attributes.class=u,r.push(u))}if(this.Properties.CustomCssClass&&this.Properties.CustomCssClass.hasOwnProperty(s)){const c=this.Properties.CustomCssClass[s];c&&c.Class&&r.push(c.Class)}l.Attributes.class&&r.push(l.Attributes.class),l.Attributes.class=r.filter(c=>c).join(" "),t.push(l)}return t}}return i.\u0275fac=function(t){return new(t||i)(b(cd),b($c),b(AN))},i.\u0275cmp=E({type:i,selectors:[["app-section"]],features:[P],decls:2,vars:3,consts:[[4,"ngIf"],[3,"dynamicAttributes"],["class","sc-video__wrapper",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sc-video__wrapper"],["autoplay","","muted","","loop","",1,"sc-video__element"],[3,"src"],[3,"componentWrapper",4,"ngFor","ngForOf"],[3,"componentWrapper"]],template:function(t,n){1&t&&(ae(0,cY,4,3,"ng-container",0),Ux(1,"async")),2&t&&z("ngIf",$x(1,1,n.viewModel$))},encapsulation:2}),i})();const PN=new Bo(SN);class dY{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new pY(e,this.durationSelector))}}class pY extends vr{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:s}=this;t=s(e)}catch(s){return this.destination.error(s)}const n=ln(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,s){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function IN(i){return!yr(i)&&i-parseFloat(i)+1>=0}function mY(i){const{index:e,period:t,subscriber:n}=i;if(n.next(e),!n.closed){if(-1===t)return n.complete();i.index=e+1,this.schedule(i,t)}}function ud(i,e=PN){return function(i){return function(t){return t.lift(new dY(i))}}(()=>function(i=0,e,t){let n=-1;return IN(e)?n=Number(e)<1?1:Number(e):_a(e)&&(t=e),_a(t)||(t=PN),new lt(s=>{const o=IN(i)?i:+i-t.now();return t.schedule(mY,o,{index:0,period:n,subscriber:s})})}(i,e))}function hd(i,e,t,n){return gr(t)&&(n=t,t=void 0),n?hd(i,e,t).pipe(Kn(s=>yr(s)?n(...s):n(s))):new lt(s=>{NN(i,e,function(r){s.next(arguments.length>1?Array.prototype.slice.call(arguments):r)},s,t)})}function NN(i,e,t,n,s){let o;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const r=i;i.addEventListener(e,t,s),o=()=>r.removeEventListener(e,t,s)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const r=i;i.on(e,t),o=()=>r.off(e,t)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const r=i;i.addListener(e,t),o=()=>r.removeListener(e,t)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let r=0,a=i.length;r<a;r++)NN(i[r],e,t,n,s)}n.add(o)}const Yi=()=>"undefined"!=typeof document,kN=i=>i&&i.observers.length>0;class FN{constructor(e){this.resizeBatchService=e,this.resize=new ue,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){!Yi()||0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e!==this.lastWidth||t!==this.lastHeight?(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0):void 0}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const Vm=i=>{const e=document.createElement("div");return e.style.cssText=i,e},cC="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class EY extends FN{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===((i,e)=>getComputedStyle(i,null).getPropertyValue("position"))(e)&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=cC,e.setAttribute("dir","ltr"),this.expand=Vm(cC),this.expandChild=Vm("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Vm(cC);const t=Vm("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Pl(hd(this.shrink,"scroll"),hd(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const AY="undefined"!=typeof ResizeObserver;class BN extends FN{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}static supported(){return AY}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let zN=(()=>{class i{constructor(t){this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(t,n){this.scheduled.push({instance:t,method:n}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=qu(this.resolvedPromise).subscribe(this.flush)})}isScheduled(t){return Boolean(this.scheduled.find(n=>n.instance===t))}cancel(t){const n=this.scheduled,s=n.length;for(let o=0;o<s;o++)if(n[o].instance===t)return n.splice(o,1),void(n.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(t=>{t.method.call(t.instance)}),this.scheduled=[],this.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Wc=(()=>{class i{constructor(t,n,s){this.rateLimit=10,this.resize=new ue;const o=BN.supported()?BN:EY;this.resizeService=new o(t,n,s),this.subscription=this.resizeService.resize.pipe(ud(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(t){this.resizeService.acceptSize(t)}}return i.\u0275fac=function(t){return new(t||i)(b(zN),b(hn),b(Ke))},i.\u0275cmp=E({type:i,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(t,n){},encapsulation:2}),i})(),Bm=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[zN]}),i})();class uC extends _r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qs;return this._value}next(e){super.next(this._value=e)}}let MY=(()=>{class i{constructor(){this.changes=new uC({rtl:void 0})}notify(t){this.changes.next({rtl:t})}get(t){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const PY=new Ne("Kendo UI Right-to-Left token"),zm=new Ne("Localization key prefix");let zo=(()=>{class i{constructor(t,n,s){this.prefix=t,this.messageService=n,this._rtl=s,this.changes=new uC({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe(Kn(({rtl:o})=>void 0!==o?o:this._rtl),Xb(o=>this._rtl=o)).subscribe(o=>{this.dictionary={},this.changes.next({rtl:o})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(t){const n=this.key(t);return this.dictionary[n]}register(t,n,s=!1){const o=this.key(t);let r=n;if(!s){if(this.dictionary.hasOwnProperty(o))return;r=this.defaultValue(o,n)}this.dictionary[o]=r}notifyChanges(){this.changes.next({rtl:this.rtl})}key(t){return this.prefix+"."+t}defaultValue(t,n){if(!this.messageService)return n;const s=this.messageService.get(t);return void 0===s?n:s}}return i.\u0275fac=function(t){return new(t||i)(F(zm),F(MY,8),F(PY,8))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const Fr="arc",wt="#000",je="bottom",ve="center",Ns="circle",Vr="date",UN="12px sans-serif",WN=/\{\d+:?/,Hm="height",dC="inside",Ie="left",Tt=Number.MAX_VALUE,Vt=-Number.MAX_VALUE,pC="none",fC="object",jm="outside",ze="right",KN="roundedRect",mC="string",Oe="top",xi="value",Le="#fff",Um="width",Y="x",X="y";function fn(i){return Array.isArray(i)}function Hn(i,e){const t=fn(e)?e:[e];for(let n=0;n<t.length;n++){const s=t[n];-1===i.className.indexOf(s)&&(i.className+=" "+s)}}const FY=/\s+/g;function oe(i){return void 0!==i}function Qi(i){let e=.5;i.options.stroke&&oe(i.options.stroke.width)&&i.options.stroke.width%2==0&&(e=0);for(let t=0;t<i.segments.length;t++)i.segments[t].anchor().round(0).translate(e,e);return i}function QN(i,e){return-i.x*e.y+i.y*e.x<0}function Ce(i){return"number"==typeof i&&!isNaN(i)}function Ho(i){return typeof i===mC}function XN(i){return Ce(i)||Ho(i)&&isFinite(i)}function ht(i){return"function"==typeof i}function JN(i,e){for(let t in e){let o,n=e[t],s=typeof n;if(o="object"===s&&null!==n?n.constructor:null,o&&o!==Array)if(n instanceof Date)i[t]=new Date(n.getTime());else if(ht(n.clone))i[t]=n.clone();else{let r=i[t];i[t]="object"==typeof r&&r||{},JN(i[t],n)}else"undefined"!==s&&(i[t]=n)}return i}function w(i){const e=arguments.length;for(let t=1;t<e;t++)JN(i,arguments[t]);return i}function ks(i){return"object"==typeof i}function qc(i){return Ce(i)?i+"px":i}const HY=/width|height|top|left|bottom|right/i;function jY(i){return HY.test(i)}function dt(i,e){const t=Ho(e)?[e]:e;if(fn(t)){const n={},s=window.getComputedStyle(i);for(let o=0;o<t.length;o++){let r=t[o];n[r]=jY(r)?parseFloat(s[r]):s[r]}return n}if(ks(e))for(let n in e)i.style[n]=qc(e[n])}function qe(i,e=0){const t={top:0,right:0,bottom:0,left:0};return"number"==typeof i?t.top=t[ze]=t[je]=t[Ie]=i:(t.top=i.top||e,t[ze]=i[ze]||e,t[je]=i[je]||e,t[Ie]=i[Ie]||e),t}let ek={compile:function(i){return i}};const tk=class{static register(e){ek=e}static compile(e){return ek.compile(e)}};function nn(i={}){let e;return i.template?i.template=e=tk.compile(i.template):ht(i.content)&&(e=i.content),e}const $Y=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,dd={};function jo(i){if(dd[i])return dd[i];const e=[];return i.replace($Y,function(t,n,s,o){e.push(oe(n)?n:s||o)}),dd[i]=function(t){let n=t;for(let s=0;s<e.length&&n;s++)n=n[e[s]];return n},dd[i]}function bi(i,e){const t=i.length,n=[];for(let s=0;s<t;s++)e(i[s])&&n.push(i[s]);return n}function pd(i,e){if(i.className){const t=e.split(" ");for(let n=0;n<t.length;n++)if(-1!==i.className.indexOf(t[n]))return!0}}dd.undefined=function(i){return i};class nk{constructor(){this._map={}}get(e){return this._map[this._key(e)]}set(e,t){this._map[this._key(e)]=t}_key(e){return e instanceof Date?e.getTime():e}}function Se(i,e){if(e)return-1!==e.indexOf(i)}function tt(i,e){const t=function(i){return i?Math.pow(10,i):1}(e);return Math.round(i*t)/t}function Xi(i,e,t){return tt(i+(e-i)*t,3)}const ik="trigger",gC=class{constructor(e,t){this.observer=e,this.handlerMap=w({},this.handlerMap,t)}trigger(e,t){const{observer:n,handlerMap:s}=this;let o;return s[e]?o=this.callObserver(s[e],t):n[ik]&&(o=this.callObserver(ik,e,t)),o}callObserver(e,...t){return this.observer[e].apply(this.observer,t)}requiresHandlers(e){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(e);for(let t=0;t<e.length;t++)if(this.handlerMap[e[t]])return!0}};function sk(i,e){const t=i.length,n=[];for(let s=0;s<t;s++){let o=e(i[s]);oe(o)&&n.push(o)}return n}let $m=null;const Kc={get browser(){return"undefined"==typeof window||$m||($m=function(i){const e={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let t={};for(let n in e)if(e.hasOwnProperty(n)){const s=i.match(e[n]);if(s){t[n]=!0,t[s[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||s[2],10);break}}return t}(window.navigator.userAgent)),$m}},KY=Kc.browser||{};function yC(i){let e=0;return i.wheelDelta?(e=-i.wheelDelta/120,KY.webkit&&(e/=2*Math.max(window.devicePixelRatio,.625))):i.detail&&(e=i.detail/3),e=e>0?Math.ceil(e):Math.floor(e),e}class q{}function ok(i){const e=window.console;void 0!==e&&e.log&&e.log(i)}function fd(i,e){return i.push.apply(i,e),i}const YY={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function QY(i){const e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let t="";for(;i>0;)i<e[0]?e.shift():(t+=YY[e[0]],i-=e[0]);return t}function md(){let i,e;const t=new Promise((n,s)=>{i=o=>(t._state="resolved",n(o),t),e=o=>(t._state="rejected",s(o),t)});return t._state="pending",t.resolve=i,t.reject=e,t.state=()=>t._state,t}let XY=1;function Gm(){return"kdef"+XY++}const _C=Math.PI/180,Yc=Number.MAX_VALUE,Qc=-Number.MAX_VALUE;function Br(i){return i/_C}const Zi=String.fromCharCode,Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rk(i){let e="",t=0;const n=function(i){let e="";for(let t=0;t<i.length;t++){let n=i.charCodeAt(t);if(55296<=n&&n<=56319){const s=n,o=i.charCodeAt(++t);isNaN(o)||(n=1024*(s-55296)+(o-56320)+65536)}n<128?e+=Zi(n):n<2048?(e+=Zi(192|n>>>6),e+=Zi(128|63&n)):n<65536?(e+=Zi(224|n>>>12),e+=Zi(128|n>>>6&63),e+=Zi(128|63&n)):n<1114111&&(e+=Zi(240|n>>>18),e+=Zi(128|n>>>12&63),e+=Zi(128|n>>>6&63),e+=Zi(128|63&n))}return e}(i);for(;t<n.length;){let s=n.charCodeAt(t++),o=n.charCodeAt(t++),r=n.charCodeAt(t++),a=s>>2,l=(3&s)<<4|o>>4,c=(15&o)<<2|r>>6,u=63&r;isNaN(o)?c=u=64:isNaN(r)&&(u=64),e=e+Wm.charAt(a)+Wm.charAt(l)+Wm.charAt(c)+Wm.charAt(u)}return e}function ak(i){return oe((i.x||{}).location)?{x:i.x.location,y:i.y.location}:{x:i.pageX||i.clientX||0,y:i.pageY||i.clientY||0}}function lk(i={}){return i.touch?i.touch.initialTouch:i.target}function Ya(i){return""===i||null===i||"none"===i||"transparent"===i||!oe(i)}function mn(i){if(i)return i[i.length-1]}function qm(i,e,t){return Math.max(Math.min(i,t),e)}function JY(i,e){return i.length<2?i.slice():function n(s){if(s.length<=1)return s;var o=Math.floor(s.length/2),r=s.slice(0,o),a=s.slice(o);return function(n,s){for(var o=[],r=0,a=0,l=0;r<n.length&&a<s.length;)e(n[r],s[a])<=0?o[l++]=n[r++]:o[l++]=s[a++];return r<n.length&&o.push.apply(o,n.slice(r)),a<s.length&&o.push.apply(o,s.slice(a)),o}(r=n(r),a=n(a))}(i)}const gd=Date.now||function(){return(new Date).getTime()};function ck(i){return Promise.all(i)}function co(i){return i*_C}function xC(i,e){return oe(i)?i:e}function bC(i,e){for(let t in e){const n=t.trim().split(" ");for(let s=0;s<n.length;s++)i.addEventListener(n[s],e[t],!1)}}function uk(i){const e=i.getBoundingClientRect(),t=document.documentElement;return{top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}}function Km(i,e){const t={},n=window.getComputedStyle(i)||{},s=Array.isArray(e)?e:[e];for(let o=0;o<s.length;o++){let r=s[o];t[r]=n[r]}return t}function hk(i){return isNaN(i)?i:i+"px"}function yd(i,e){if(!e){const t=Km(i,["width","height"]);return{width:parseInt(t.width,10),height:parseInt(t.height,10)}}{const{width:t,height:n}=e;oe(t)&&(i.style.width=hk(t)),oe(n)&&(i.style.height=hk(n))}}function CC(i,e={}){for(let t in e){const n=t.trim().split(" ");for(let s=0;s<n.length;s++)i.removeEventListener(n[s],e[t],!1)}}function dk(i){const{paddingLeft:e,paddingTop:t}=Km(i,["paddingLeft","paddingTop"]);return{top:parseFloat(t),left:parseFloat(e)}}class Rs extends q{constructor(e=0,t=0,n=0,s=0,o=0,r=0){super(),this.a=e,this.b=t,this.c=n,this.d=s,this.e=o,this.f=r}multiplyCopy(e){return new Rs(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}invert(){const{a:e,b:t,c:n,d:s,e:o,f:r}=this,a=e*s-t*n;return 0===a?null:new Rs(s/a,-t/a,-n/a,e/a,(n*r-s*o)/a,(t*o-e*r)/a)}clone(){return new Rs(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=tt(this.a,e),this.b=tt(this.b,e),this.c=tt(this.c,e),this.d=tt(this.d,e),this.e=tt(this.e,e),this.f=tt(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(oe(e))for(let n=0;n<t.length;n++)t[n]=tt(t[n],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(e,t){return new Rs(1,0,0,1,e,t)}static unit(){return new Rs(1,0,0,1,0,0)}static rotate(e,t,n){const s=new Rs;return s.a=Math.cos(co(e)),s.b=Math.sin(co(e)),s.c=-s.b,s.d=s.a,s.e=t-t*s.a+n*s.b||0,s.f=n-n*s.a-t*s.b||0,s}static scale(e,t){return new Rs(e,0,0,t,0,0)}}Rs.IDENTITY=Rs.unit();const si=Rs,eQ=/matrix\((.*)\)/;function pk(i){const e=getComputedStyle(i).transform;return"none"===e?si.unit():function(i){const e=i.match(eQ);if(null===e||2!==e.length)return si.unit();const t=e[1].split(",").map(n=>parseFloat(n));return new si(...t)}(e)}function fk(i){if(!i)return si.unit();let e=pk(i),t=i.parentElement;for(;t;){const n=pk(t);e=e.multiplyCopy(n),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}const mk=class extends q{constructor(e){super(),this._size=e,this._length=0,this._map={}}put(e,t){const n=this._map,s={key:e,value:t};n[e]=s,this._head?(this._tail.newer=s,s.older=this._tail,this._tail=s):this._head=this._tail=s,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(e){const t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}},iQ=/\r?\n|\r|\t/g;function wC(i){return String(i).replace(iQ," ")}function gk(i){const e=[];for(let t in i)e.push(t+i[t]);return e.sort().join("")}function yk(i){let e=2166136261;for(let t=0;t<i.length;++t)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=i.charCodeAt(t);return e>>>0}const oQ={baselineMarkerSize:1};let TC;"undefined"!=typeof document&&(TC=document.createElement("div"),TC.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class SC extends q{constructor(e){super(),this._cache=new mk(1e3),this.options=Object.assign({},oQ,e)}measure(e,t,n={}){if(null==e)return{width:0,height:0,baseline:0};const o=yk(e+gk(t)),r=this._cache.get(o);if(r)return r;const a={width:0,height:0,baseline:0},l=n.box||TC,c=this._baselineMarker().cloneNode(!1);for(let h in t){let d=t[h];void 0!==d&&(l.style[h]=d)}const u=!1!==n.normalizeText?wC(e):String(e);return l.textContent=u,l.appendChild(c),document.body.appendChild(l),u.length&&(a.width=l.offsetWidth-this.options.baselineMarkerSize,a.height=l.offsetHeight,a.baseline=c.offsetTop+this.options.baselineMarkerSize),a.width>0&&a.height>0&&this._cache.put(o,a),l.parentNode.removeChild(l),a}_baselineMarker(){const e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}SC.current=new SC;const vk=SC;function Ym(i,e,t){return vk.current.measure(i,e,t)}const{append:Qa,bindEvents:_d,defined:N,deg:zr,elementOffset:Xc,elementSize:Uo,eventCoordinates:rQ,eventElement:Os,hashKey:aQ,last:St,limitValue:ee,objectKey:lQ,rad:Bt,round:V,unbindEvents:vd,valueOrDefault:de}=ai;class xd{static fetchFonts(e,t,n={depth:0}){!e||n.depth>5||!document.fonts||Object.keys(e).forEach(function(o){const r=e[o];"dataSource"===o||"$"===o[0]||!r||("font"===o?t.push(r):"object"==typeof r&&(n.depth++,xd.fetchFonts(r,t,n),n.depth--))})}static loadFonts(e,t){let n=[];if(e.length>0&&document.fonts){try{n=e.map(function(s){return document.fonts.load(s)})}catch(s){ok(s)}Promise.all(n).then(t,t)}else t()}static preloadFonts(e,t){const n=[];xd.fetchFonts(e,n),xd.loadFonts(n,t)}}const cQ=xd;function O(i,e){const t=i.prototype;t.options=t.options?w({},t.options,e):e}function DC(i){let e=Tt,t=Vt;for(let n=0,s=i.length;n<s;n++){const o=i[n];null!==o&&isFinite(o)&&(e=Math.min(e,o),t=Math.max(t,o))}return{min:e===Tt?void 0:e,max:t===Vt?void 0:t}}function xk(i,e){for(let t=0;t<i.length;t++){const n=i[t];if(e(n,t,i))return n}}const Qm=si,uQ=/matrix\((.*)\)/;function bk(i){const e=getComputedStyle(i).transform;return"none"===e?Qm.unit():function(i){const e=i.match(uQ);if(null===e||2!==e.length)return Qm.unit();const t=e[1].split(",").map(n=>parseFloat(n));return new Qm(...t)}(e)}const EC={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Ck=Kc.browser;let wk=i=>{const e=Object.keys(EC);e.push("transparent");const t=new RegExp("^("+e.join("|")+")(\\W|$)","i");return wk=n=>t.exec(n),t.exec(i)};class Xm extends q{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(e){return this.toBytes().toHex(e)}toBytes(){return this}toCss(e){return"#"+this.toHex(e)}toCssRgba(){const e=this.toBytes();return`rgba(${e.r}, ${e.g}, ${e.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return Ck.msie&&Ck.version<9?this.toCss():this.toCssRgba()}equals(e){return e===this||null!=e&&this.toCssRgba()===Jm(e).toCssRgba()}diff(e){if(null===e)return NaN;const t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}clone(){let e=this.toBytes();return e===this&&(e=new $o(e.r,e.g,e.b,e.a)),e}}class Hr extends Xm{constructor(e,t,n,s){super(),this.r=e,this.g=t,this.b=n,this.a=s}toHSV(){const{r:e,g:t,b:n}=this,s=Math.min(e,t,n),o=Math.max(e,t,n),r=o-s,a=o;let l,c;return 0===r?new AC(0,0,a,this.a):(0!==o?(c=r/o,l=e===o?(t-n)/r:t===o?2+(n-e)/r:4+(e-t)/r,l*=60,l<0&&(l+=360)):(c=0,l=-1),new AC(l,c,a,this.a))}toHSL(){const{r:e,g:t,b:n}=this,s=Math.max(e,t,n),o=Math.min(e,t,n);let r,a,l=(s+o)/2;if(s===o)r=a=0;else{const c=s-o;switch(a=l>.5?c/(2-s-o):c/(s+o),s){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}}return new Tk(60*r,100*a,100*l,this.a)}toBytes(){return new $o(255*this.r,255*this.g,255*this.b,this.a)}}class $o extends Hr{constructor(e,t,n,s){super(Math.round(e),Math.round(t),Math.round(n),s)}toRGB(){return new Hr(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(e){let t=Zm(this.r,2)+Zm(this.g,2)+Zm(this.b,2);return e&&e.alpha&&(t+=Zm(Math.round(255*this.a),2)),t}toBytes(){return this}}function Zm(i,e,t="0"){let n=i.toString(16);for(;e>n.length;)n=t+n;return n}class AC extends Xm{constructor(e,t,n,s){super(),this.h=e,this.s=t,this.v=n,this.a=s}toRGB(){let s,o,r,{h:e,s:t,v:n}=this;if(0===t)s=o=r=n;else{e/=60;const a=Math.floor(e),l=e-a,c=n*(1-t),u=n*(1-t*l),h=n*(1-t*(1-l));switch(a){case 0:s=n,o=h,r=c;break;case 1:s=u,o=n,r=c;break;case 2:s=c,o=n,r=h;break;case 3:s=c,o=u,r=n;break;case 4:s=h,o=c,r=n;break;default:s=n,o=c,r=u}}return new Hr(s,o,r,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class Tk extends Xm{constructor(e,t,n,s){super(),this.h=e,this.s=t,this.l=n,this.a=s}toRGB(){let s,o,r,e=this.h/360,t=this.s/100,n=this.l/100;if(0===t)s=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=MC(l,a,e+1/3),o=MC(l,a,e),r=MC(l,a,e-1/3)}return new Hr(s,o,r,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function MC(i,e,t){let n=t;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+6*(e-i)*n:n<.5?e:n<2/3?i+(e-i)*(2/3-n)*6:i}function Sk(i){return parseFloat(parseFloat(parseInt(i,16)/255).toFixed(3))}function Jm(i,e){let t,n;if(null==i||"none"===i)return null;if(i instanceof Xm)return i;let s=i.toLowerCase();if(t=wk(s))return s="transparent"===t[1]?new Hr(1,1,1,0):Jm(EC[t[1]],e),s.match=[t[1]],s;if((t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?n=new $o(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?n=new $o(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1):(t=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?n=new $o(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Sk(t[4]+t[4])):(t=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?n=new $o(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Sk(t[4])):(t=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s))?n=new $o(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1):(t=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s))?n=new $o(parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])):(t=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s))?n=new Hr(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,1):(t=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s))&&(n=new Hr(parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])/100,parseFloat(t[4]))),n)n.match=t;else if(!e)throw new Error("Cannot parse color: "+s);return n}const uo=(()=>{class i extends q{constructor(t){if(super(),1===arguments.length){const n=i.formats,s=this.resolveColor(t);for(let o=0;o<n.length;o++){const a=n[o].process,l=n[o].re.exec(s);if(l){const c=a(l);this.r=c[0],this.g=c[1],this.b=c[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const t=this.padDigit,n=this.r.toString(16),s=this.g.toString(16),o=this.b.toString(16);return"#"+t(n)+t(s)+t(o)}resolveColor(t){let n=t||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),n=i.namedColors[n]||n,n}normalizeByte(t){return t<0||isNaN(t)?0:t>255?255:t}padDigit(t){return 1===t.length?"0"+t:t}brightness(t){const n=Math.round;return this.r=n(this.normalizeByte(this.r*t)),this.g=n(this.normalizeByte(this.g*t)),this.b=n(this.normalizeByte(this.b*t)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(t,n,s,o){return new $o(t,n,s,null!=o?o:1)}static fromRGB(t,n,s,o){return new Hr(t,n,s,null!=o?o:1)}static fromHSV(t,n,s,o){return new AC(t,n,s,null!=o?o:1)}static fromHSL(t,n,s,o){return new Tk(t,n,s,null!=o?o:1)}}return i.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i.namedColors=EC,i})(),PC=function(i){return new uo(i).isDark()?Le:wt},Dk={};class mQ{constructor(e){this._index={},this._values=e?e.slice(0):[];for(let t=0;t<this._values.length;t++)this._index[this._values[t]]=t}values(){return this._values.filter(e=>e!==Dk)}has(e){return void 0!==this._index[e]}add(e){this.has(e)||(this._index[e]=this._values.length,this._values.push(e))}delete(e){const t=this._index[e];void 0!==t&&(this._values[t]=Dk,delete this._index[e])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class gQ{constructor(e){this._set=new Set(e)}values(){return Array.from(this._set)}has(e){return this._set.has(e)}add(e){this._set.add(e)}delete(e){this._set.delete(e)}clear(){this._set.clear()}get size(){return this._set.size}}function Ek(i){return(()=>{let i=!1;return"function"==typeof Set&&(i=new Set([1]).has(1)),i})()?new gQ(i):new mQ(i)}function Ak(i){throw i}function bd(i,e){let t=V(e-i,9);if(0===t){if(0===e)return.1;t=Math.abs(e)}const n=Math.pow(10,Math.floor(Math.log(t)/Math.log(10))),s=V(t/n,10);let o=1;return o=s<1.904762?.2:s<4.761904?.5:s<9.523809?1:2,V(n*o,10)}class eg extends q{constructor(e,t){super(),this.x=e||0,this.y=t||0}clone(){return new eg(this.x,this.y)}equals(e){return e&&this.x===e.x&&this.y===e.y}rotate(e,t){const n=Bt(t),s=Math.cos(n),o=Math.sin(n),{x:r,y:a}=e,{x:l,y:c}=this;return this.x=V(r+(l-r)*s+(c-a)*o,3),this.y=V(a+(c-a)*s-(l-r)*o,3),this}multiply(e){return this.x*=e,this.y*=e,this}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}static onCircle(e,t,n){const s=Bt(t);return new eg(e.x-n*Math.cos(s),e.y-n*Math.sin(s))}}const le=eg,Ci=class extends q{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}trigger(e,t){const n=this._observers;if(n&&!this._suspended)for(let s=0;s<n.length;s++){let o=n[s];o[e]&&o[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function vQ(i){return function(e){return this[i]!==e&&(this[i]=e,this.geometryChange()),this}}function xQ(i){return function(){return this[i]}}const tg=(i,e)=>{const t=class extends i{};return function(i,e){for(let t=0;t<e.length;t++){let n=e[t],s=n.charAt(0).toUpperCase()+n.substring(1,n.length);i["set"+s]=vQ(n),i["get"+s]=xQ(n)}}(t.prototype,e),t};function Xa(i){return i&&"function"==typeof i.matrix?i.matrix():i}class wi extends(tg(Ci,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new wi(this.x,this.y)}rotate(e,t){const n=wi.create(t)||wi.ZERO;return this.transform(si.rotate(e,n.x,n.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=Xa(e),{x:n,y:s}=this;return this.x=t.a*n+t.c*s+t.e,this.y=t.b*n+t.d*s+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}round(e){return this.x=tt(this.x,e),this.y=tt(this.y,e),this.geometryChange(),this}toArray(e){const t=oe(e);return[t?tt(this.x,e):this.x,t?tt(this.y,e):this.y]}toString(e,t=" "){let{x:n,y:s}=this;return oe(e)&&(n=tt(n,e),s=tt(s,e)),n+t+s}static create(e,t){if(oe(e))return e instanceof wi?e:1===arguments.length&&2===e.length?new wi(e[0],e[1]):new wi(e,t)}static min(){let e=Yc,t=Yc;for(let n=0;n<arguments.length;n++){let s=arguments[n];e=Math.min(s.x,e),t=Math.min(s.y,t)}return new wi(e,t)}static max(){let e=Qc,t=Qc;for(let n=0;n<arguments.length;n++){const s=arguments[n];e=Math.max(s.x,e),t=Math.max(s.y,t)}return new wi(e,t)}static minPoint(){return new wi(Qc,Qc)}static maxPoint(){return new wi(Yc,Yc)}static get ZERO(){return new wi(0,0)}}const R=wi;class Za extends(tg(Ci,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new Za(this.width,this.height)}toArray(e){const t=oe(e);return[t?tt(this.width,e):this.width,t?tt(this.height,e):this.height]}static create(e,t){if(oe(e))return e instanceof Za?e:1===arguments.length&&2===e.length?new Za(e[0],e[1]):new Za(e,t)}static get ZERO(){return new Za(0,0)}}const Ja=Za;class jr extends Ci{constructor(e=new R,t=new Ja,n=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(n)}clone(){return new jr(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",R.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",Ja.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),s=this.bottomRight().transformCopy(e),o=this.bottomLeft().transformCopy(e);return jr.fromPoints(t,n,s,o)}transformCopy(e){return jr.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}_isOnPath(e,t){const n=this.expandCopy(t,t),s=this.expandCopy(-t,-t);return n.containsPoint(e)&&!s.containsPoint(e)}static fromPoints(){const e=R.min.apply(null,arguments),t=R.max.apply(null,arguments),n=new Ja(t.x-e.x,t.y-e.y);return new jr(e,n)}static union(e,t){return jr.fromPoints(R.min(e.topLeft(),t.topLeft()),R.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},s={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=s.right&&s.left<=n.right&&n.top<=s.bottom&&s.top<=n.bottom)return jr.fromPoints(new R(Math.max(n.left,s.left),Math.max(n.top,s.top)),new R(Math.min(n.right,s.right),Math.min(n.bottom,s.bottom)))}}const Re=jr;class ng extends q{constructor(e,t,n,s){super(),this.x1=e||0,this.y1=t||0,this.x2=n||0,this.y2=s||0}equals(e){return this.x1===e.x1&&this.x2===e.x2&&this.y1===e.y1&&this.y2===e.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}move(e,t){const n=this.height(),s=this.width();return N(e)&&(this.x1=e,this.x2=this.x1+s),N(t)&&(this.y1=t,this.y2=this.y1+n),this}wrap(e){return this.x1=Math.min(this.x1,e.x1),this.y1=Math.min(this.y1,e.y1),this.x2=Math.max(this.x2,e.x2),this.y2=Math.max(this.y2,e.y2),this}wrapPoint(e){const t=fn(e),n=t?e[0]:e.x,s=t?e[1]:e.y;return this.wrap(new ng(n,s,n,s)),this}snapTo(e,t){return(t===Y||!t)&&(this.x1=e.x1,this.x2=e.x2),(t===X||!t)&&(this.y1=e.y1,this.y2=e.y2),this}alignTo(e,t){const n=this.height(),s=this.width(),o=t===Oe||t===je?X:Y,r=o===X?n:s;if(t===ve){const a=e.center(),l=this.center();this.x1+=a.x-l.x,this.y1+=a.y-l.y}else this[o+1]=t===Oe||t===Ie?e[o+1]-r:e[o+2];return this.x2=this.x1+s,this.y2=this.y1+n,this}shrink(e,t){return this.x2-=e,this.y2-=t,this}expand(e,t){return this.shrink(-e,-t),this}pad(e){const t=qe(e);return this.x1-=t.left,this.x2+=t.right,this.y1-=t.top,this.y2+=t.bottom,this}unpad(e){const t=qe(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,this.pad(t)}clone(){return new ng(this.x1,this.y1,this.x2,this.y2)}center(){return new le(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(e){return e.x>=this.x1&&e.x<=this.x2&&e.y>=this.y1&&e.y<=this.y2}points(){return[new le(this.x1,this.y1),new le(this.x2,this.y1),new le(this.x2,this.y2),new le(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(e){return!(e.y2<this.y1||this.y2<e.y1||e.x2<this.x1||this.x2<e.x1)}rotate(e){let t=this.width(),n=this.height();const{x:s,y:o}=this.center(),r=ig(0,0,s,o,e),a=ig(t,0,s,o,e),l=ig(t,n,s,o,e),c=ig(0,n,s,o,e);return t=Math.max(r.x,a.x,l.x,c.x)-Math.min(r.x,a.x,l.x,c.x),n=Math.max(r.y,a.y,l.y,c.y)-Math.min(r.y,a.y,l.y,c.y),this.x2=this.x1+t,this.y2=this.y1+n,this}toRect(){return new Re([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(e,t,n){const s=t+1,o=t+2,r=t===Y?Um:Hm,a=this[r]();Se(n,[Ie,Oe])?(this[s]=e[s],this[o]=this[s]+a):Se(n,[ze,je])?(this[o]=e[o],this[s]=this[o]-a):n===ve&&(this[s]=e[s]+(e[r]()-a)/2,this[o]=this[s]+a)}}function ig(i,e,t,n,s){const o=Bt(s);return new le(t+(i-t)*Math.cos(o)+(e-n)*Math.sin(o),n-(i-t)*Math.sin(o)+(e-n)*Math.cos(o))}const B=ng;class IC extends q{constructor(e,t,n,s,o){super(),this.center=e,this.innerRadius=t,this.radius=n,this.startAngle=s,this.angle=o}clone(){return new IC(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(e,t){return t?this.innerRadius=e:this.radius=e,this}point(e,t){const n=Bt(e),s=Math.cos(n),o=Math.sin(n),r=t?this.innerRadius:this.radius,a=V(this.center.x-s*r,3),l=V(this.center.y-o*r,3);return new le(a,l)}adjacentBox(e,t,n){const s=this.clone().expand(e),o=s.middle(),r=s.point(o),a=t/2,l=n/2,c=Math.sin(Bt(o)),u=Math.cos(Bt(o));let h=r.x-a,d=r.y-l;return Math.abs(c)<.9&&(h+=a*-u/Math.abs(u)),Math.abs(u)<.9&&(d+=l*-c/Math.abs(c)),new B(h,d,h+t,d+n)}containsPoint(e){const t=this.center,n=this.innerRadius,s=this.radius,o=this.startAngle,r=this.startAngle+this.angle,a=e.x-t.x,l=e.y-t.y,c=new le(a,l),u=this.point(o),h=new le(u.x-t.x,u.y-t.y),d=this.point(r),p=new le(d.x-t.x,d.y-t.y),f=V(a*a+l*l,3);return(h.equals(c)||QN(h,c))&&!QN(p,c)&&f>=n*n&&f<=s*s}getBBox(){const e=new B(Tt,Tt,Vt,Vt),t=V(this.startAngle%360),n=V((t+this.angle)%360),s=this.innerRadius,o=[0,90,180,270,t,n].sort(CQ),r=o.indexOf(t),a=o.indexOf(n);let l;l=t===n?o:r<a?o.slice(r,a+1):[].concat(o.slice(0,a+1),o.slice(r,o.length));for(let c=0;c<l.length;c++){let u=this.point(l[c]);e.wrapPoint(u),e.wrapPoint(u,s)}return s||e.wrapPoint(this.center),e}expand(e){return this.radius+=e,this}}function CQ(i,e){return i-e}const sg=IC,wQ=[].push,TQ=[].pop,SQ=[].splice,DQ=[].shift,Pk=[].slice,EQ=[].unshift,Ik=class extends Ci{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=wQ.apply(this,e);return this._add(e),t}slice(){return Pk.call(this)}pop(){const e=this.length,t=TQ.apply(this);return e&&this._remove([t]),t}splice(e,t){const n=Pk.call(arguments,2),s=this._splice(e,t,n);return this._change(),s}shift(){const e=this.length,t=DQ.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=EQ.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let n=0;n<t;n++)if(this[n]===e)return n;return-1}_splice(e,t,n){const s=SQ.apply(this,[e,t].concat(n));return this._clearObserver(s),this._setObserver(n),s}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}},Nk=class extends Ik{_change(){this.geometryChange()}},PQ={}.toString;class Cd extends Ci{constructor(e,t=""){super(),this.prefix=t;for(let n in e){let s=e[n];s=this._wrap(s,n),this[n]=s}}get(e){const t=e.split(".");let n=this;for(;t.length&&n;)n=n[t.shift()];return n}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const n=e.indexOf(".")>=0;let s=this,o=e;if(n){const r=o.split(".");let a=this.prefix;for(;r.length>1;){o=r.shift(),a+=o+".";let l=s[o];l||(l=new Cd({},a),l.addObserver(this),s[o]=l),s=l}o=r[0]}s._clear(o),s[o]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const n=PQ.call(e);let s=e;return null!==s&&oe(s)&&"[object Object]"===n&&(!(e instanceof Cd)&&!(e instanceof q)&&(s=new Cd(s,this.prefix+t+".")),s.addObserver(this)),s}}const NC=Cd;class kC extends Ci{constructor(e=si.unit()){super(),this._matrix=e}clone(){return new kC(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(si.translate(e,t)),this._optionsChange(),this}scale(e,t=e,n=null){let s=n;return s&&(s=R.create(s),this._matrix=this._matrix.multiplyCopy(si.translate(s.x,s.y))),this._matrix=this._matrix.multiplyCopy(si.scale(e,t)),s&&(this._matrix=this._matrix.multiplyCopy(si.translate(-s.x,-s.y))),this._optionsChange(),this}rotate(e,t){const n=R.create(t)||R.ZERO;return this._matrix=this._matrix.multiplyCopy(si.rotate(e,n.x,n.y)),this._optionsChange(),this}multiply(e){const t=Xa(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const kk=kC;function Ue(i){return null===i?null:i instanceof kk?i:new kk(i)}const ho=class extends Ci{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:n}=e;n&&(e.transform=Ue(n)),t&&!t.id&&(t.id=Gm()),this.options=new NC(e),this.options.addObserver(this)}transform(e){if(!oe(e))return this.options.get("transform");this.options.set("transform",Ue(e))}parentTransform(){let t,e=this;for(;e.parent;){e=e.parent;let n=e.transform();n&&(t=n.matrix().multiplyCopy(t||si.unit()))}if(t)return Ue(t)}currentTransform(e=this.parentTransform()){const n=Xa(this.transform());let o,s=Xa(e);if(o=n&&s?s.multiplyCopy(n):n||s,o)return Ue(o)}visible(e){return oe(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return oe(e)?(e&&!e.id&&(e.id=Gm()),t.set("clip",e),this):t.get("clip")}opacity(e){return oe(e)?(this.options.set("opacity",e),this):xC(this.options.get("opacity"),1)}clippedBBox(e){const t=this._clippedBBox(e);if(t){const n=this.clip();return n?Re.intersect(t,n.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const n=this.currentTransform(t);let s=e;return n&&(s=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(s)||this._isOnPath&&this._hasStroke()&&this._isOnPath(s)}return!1}_hasFill(){const e=this.options.fill;return e&&!Ya(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!Ya(e.color)}_clippedBBox(e){return this.bbox(e)}};function Rk(i,e,t){const n=Br(Math.atan2(e.y-i.y,e.x-i.x));return t.transformCopy(Ue().rotate(-n,i)).x<i.x}function og(i,e,t){const n=1-i;return Math.pow(n,3)*t[0][e]+3*Math.pow(n,2)*i*t[1][e]+3*Math.pow(i,2)*n*t[2][e]+Math.pow(i,3)*t[3][e]}function Ok(i,e){return[3*i[1][e]-i[0][e]-3*i[2][e]+i[3][e],3*(i[0][e]-2*i[1][e]+i[2][e]),3*(-i[0][e]+i[1][e]),i[0][e]]}class Ur extends q{constructor(e=0,t=0){super(),this.real=e,this.img=t}add(e){return new Ur(tt(this.real+e.real,10),tt(this.img+e.img,10))}addConstant(e){return new Ur(this.real+e,this.img)}negate(){return new Ur(-this.real,-this.img)}multiply(e){return new Ur(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}multiplyConstant(e){return new Ur(this.real*e,this.img*e)}nthRoot(e){const t=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),s=Math.pow(n,1/e);return new Ur(s*Math.cos(t/e),s*Math.sin(t/e))}equals(e){return this.real===e.real&&this.img===e.img}isReal(){return 0===this.img}}const wd=Ur;function Lk(i){return i<0?-1:1}function Fk(i,e,t,n){if(0===i)return function(i,e,t){const n=Math.sqrt(Math.pow(e,2)-4*i*t);return[(-e+n)/(2*i),(-e-n)/(2*i)]}(e,t,n);const s=(3*i*t-Math.pow(e,2))/(3*Math.pow(i,2)),o=(2*Math.pow(e,3)-9*i*e*t+27*Math.pow(i,2)*n)/(27*Math.pow(i,3)),r=Math.pow(s/3,3)+Math.pow(o/2,2),a=new wd(0,1),l=-e/(3*i);let c,u,h,d,p,f,m;r<0?(c=new wd(-o/2,Math.sqrt(-r)).nthRoot(3),u=new wd(-o/2,-Math.sqrt(-r)).nthRoot(3)):(c=-o/2+Math.sqrt(r),c=new wd(Lk(c)*Math.pow(Math.abs(c),1/3)),u=-o/2-Math.sqrt(r),u=new wd(Lk(u)*Math.pow(Math.abs(u),1/3))),h=c.add(u),f=c.add(u).multiplyConstant(-.5),m=c.add(u.negate()).multiplyConstant(Math.sqrt(3)/2),d=f.add(a.multiply(m)),p=f.add(a.negate().multiply(m));const g=[];return h.isReal()&&g.push(tt(h.real+l,10)),d.isReal()&&g.push(tt(d.real+l,10)),p.isReal()&&g.push(tt(p.real+l,10)),g}function rg(i,e,t,n,s){const o=Ok(i,n),r=Fk(o[0],o[1],o[2],o[3]-e[n]);let a;for(let l=0;l<r.length;l++)if(0<=r[l]&&r[l]<=1&&(a=og(r[l],t,i),Math.abs(a-e[t])<=s))return!0}function Vk(i,e,t=10){return 0===tt(Math.abs(i-e),t)}function Bk(i,e,t){let n;if(i.x!==e.x){const s=Math.min(i.x,e.x),o=Math.max(i.x,e.x),r=Math.min(i.y,e.y),a=Math.max(i.y,e.y),l=s<=t.x&&t.x<o;n=r===a?t.y<=r&&l:l&&(a-r)*((i.x-e.x)*(i.y-e.y)>0?t.x-s:o-t.x)/(o-s)+r-t.y>=0}return n?1:0}function RQ(i){const e="_"+i;return function(t){return oe(t)?(this._observerField(e,R.create(t)),this.geometryChange(),this):this[e]}}const ag=(i,e)=>{const t=class extends i{};return function(i,e){for(let t=0;t<e.length;t++)i[e[t]]=RQ(e[t])}(t.prototype,e),t},LQ=["anchor","controlIn","controlOut"];class FQ extends(ag(Ci,LQ)){constructor(e,t,n){super(),this.anchor(e||new R),this.controlIn(t),this.controlOut(n)}bboxTo(e,t){const n=this.anchor().transformCopy(t),s=e.anchor().transformCopy(t);let o;return o=this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),s):this._lineBoundingBox(n,s),o}_lineBoundingBox(e,t){return Re.fromPoints(e,t)}_curveBoundingBox(e,t,n,s){const o=[e,t,n,s],r=this._curveExtremesFor(o,"x"),a=this._curveExtremesFor(o,"y"),l=zk([r.min,r.max,e.x,s.x]),c=zk([a.min,a.max,e.y,s.y]);return Re.fromPoints(new R(l.min,c.min),new R(l.max,c.max))}_curveExtremesFor(e,t){const n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:og(n.min,t,e),max:og(n.max,t,e)}}_curveExtremes(e,t,n,s){const o=e-3*t+3*n-s,r=-2*(e-2*t+n),a=e-t,l=Math.sqrt(r*r-4*o*a);let c=0,u=1;0===o?0!==r&&(c=u=-a/r):isNaN(l)||(c=(-r+l)/(2*o),u=(-r-l)/(2*o));let h=Math.max(Math.min(c,u),0);(h<0||h>1)&&(h=0);let d=Math.min(Math.max(c,u),1);return(d>1||d<0)&&(d=1),{min:h,max:d}}_intersectionsTo(e,t){let n;return n=this.controlOut()&&e.controlIn()?function(i,e,t){const n=Ok(i,"x"),s=Fk(n[0],n[1],n[2],n[3]-e.x);let o,r,a=0;for(let l=0;l<s.length;l++)o=og(s[l],"y",i),r=Vk(o,e.y)||o>e.y,r&&((0===s[l]||1===s[l])&&t.bottomRight().x>e.x||0<s[l]&&s[l]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):Bk(this.anchor(),e.anchor(),t),n}_isOnCurveTo(e,t,n,s){if(this.bboxTo(e).expand(n,n).containsPoint(t)){const r=this.anchor(),a=this.controlOut(),l=e.controlIn(),c=e.anchor();if("start"===s&&r.distanceTo(t)<=n)return!Rk(r,a,t);if("end"===s&&c.distanceTo(t)<=n)return!Rk(c,l,t);const u=[r,a,l,c];if(rg(u,t,"x","y",n)||rg(u,t,"y","x",n))return!0;const h=Ue().rotate(45,t),d=[r.transformCopy(h),a.transformCopy(h),l.transformCopy(h),c.transformCopy(h)];return rg(d,t,"x","y",n)||rg(d,t,"y","x",n)}}_isOnLineTo(e,t,n){const s=this.anchor(),o=e.anchor(),r=Br(Math.atan2(o.y-s.y,o.x-s.x));return new Re([s.x,s.y-n/2],[s.distanceTo(o),n]).containsPoint(t.transformCopy(Ue().rotate(-r,s)))}_isOnPathTo(e,t,n,s){let o;return o=this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,s):this._isOnLineTo(e,t,n),o}}function zk(i){let e=i.length,t=Yc,n=Qc;for(let s=0;s<e;s++)n=Math.max(n,i[s]),t=Math.min(t,i[s]);return{min:t,max:n}}const Cn=FQ,Ji="x",es="y";function Uk(i,e){for(;e[i+1]&&(e[i].equals(e[i+1])||e[i+1].equals(e[i+2]));)e.splice(i+1,1)}function $k(i,e){const t=(e.y-i.y)/(e.x-i.x);return[i.y-t*i.x,t]}function RC(i,e,t){let a,n=Ji,s=es,o=!1,r=!1;if(function(i,e,t){const s=Kk($k(i,e),t.x);return i.x===e.x&&e.x===t.x||tt(s,1)===tt(t.y,1)}(i,e,t))a=Td(i,e,Ji,es);else{const u={x:Wk(i,e,t,Ji),y:Wk(i,e,t,es)};if(u.x&&u.y)a=Td(i,t,Ji,es),o=!0;else if(function(i,e,t){let n=!1;if(i.x===e.x)n=!0;else if(e.x===t.x)(e.y<t.y&&i.y<=e.y||t.y<e.y&&e.y<=i.y)&&(n=!0);else{const o=Kk($k(i,e),t.x);i.y<=e.y&&t.y<=o||e.y<=i.y&&t.y>=o||(n=!0)}return n}(i,e,t)&&(n=es,s=Ji),u[n])a=0;else{let h;h=t[s]<i[s]&&i[s]<=e[s]||i[s]<t[s]&&e[s]<=i[s]?Yk((t[s]-i[s])*(e[n]-i[n])):-Yk((t[n]-i[n])*(e[s]-i[s])),a=.01*h,r=!0}}const l=LC(a,i,e,n,s);if(r){const u=n;n=s,s=u}const c=OC(a,e,t,n,s);return o&&(Gk(i,e,l,a),Gk(e,t,c,a)),[l,c]}function Gk(i,e,t,n){i.y<e.y?e.y<t.y?(t.x=i.x+(e.y-i.y)/n,t.y=e.y):t.y<i.y&&(t.x=e.x-(e.y-i.y)/n,t.y=i.y):t.y<e.y?(t.x=i.x-(i.y-e.y)/n,t.y=e.y):i.y<t.y&&(t.x=e.x+(i.y-e.y)/n,t.y=i.y)}function Td(i,e,t,n){const s=e[t]-i[t];let r;return r=0===s?0:(e[n]-i[n])/s,r}function Wk(i,e,t,n){return t[n]>e[n]&&e[n]>i[n]||t[n]<e[n]&&e[n]<i[n]}function OC(i,e,t,n,s){const o=e[n],a=.333*(t[n]-o);return qk(o+a,e[s]+a*i,n,s)}function LC(i,e,t,n,s){const r=t[n],a=.333*(r-e[n]);return qk(r-a,t[s]-a*i,n,s)}function qk(i,e,t,n){const s=new R;return s[t]=i,s[n]=e,s}function Kk(i,e){const t=i.length;let n=0;for(let s=0;s<t;s++)n+=Math.pow(e,s)*i[s];return n}function Yk(i){return i<=0?-1:1}const Jc=i=>class extends i{fill(e,t){const n=this.options;if(oe(e)){if(e&&"Gradient"!==e.nodeType){const s={color:e};oe(t)&&(s.opacity=t),n.set("fill",s)}else n.set("fill",e);return this}return n.get("fill")}stroke(e,t,n){return oe(e)?(this.options.set("stroke.color",e),oe(t)&&this.options.set("stroke.width",t),oe(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},jQ=si.IDENTITY.toString(),Sd=i=>class extends i{bbox(e){const t=Xa(this.currentTransform(e)),n=t?t.toString():jQ;let s;this._bboxCache&&this._matrixHash===n?s=this._bboxCache.clone():(s=this._bbox(t),this._bboxCache=s?s.clone():null,this._matrixHash=n);const o=this.options.get("stroke.width");return o&&s&&s.expand(o/2),s}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function FC(i,e,t){return i<e||Vk(i,e,t)}function Qk(i,e,t,n){let s=0,o=0;return n&&(s=Math.atan2(n.c*t,n.a*e),0!==n.b&&(o=Math.atan2(n.d*t,n.b*e))),{x:s,y:o}}const lg=Math.pow,GQ=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class cg extends(tg(Ci,GQ)){constructor(e=new R,t={}){super(),this.setCenter(e),this.radiusX=t.radiusX,this.radiusY=t.radiusY||t.radiusX,this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.anticlockwise=t.anticlockwise||!1,this.xRotation=t.xRotation}clone(){return new cg(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(e){return this._observerField("center",R.create(e)),this.geometryChange(),this}getCenter(){return this.center}pointAt(e){const t=this.center,n=co(e);return new R(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}curvePoints(){const e=this.startAngle,t=this.anticlockwise?-1:1,n=[this.pointAt(e)],s=this._arcInterval(),o=s.endAngle-s.startAngle,r=Math.ceil(o/45),a=o/r;let c,l=e;this.xRotation&&(c=Ue().rotate(this.xRotation,this.center));for(let u=1;u<=r;u++){const h=l+t*a,d=this._intervalCurvePoints(l,h,c);n.push(d.cp1,d.cp2,d.p2),l=h}return n}bbox(e){const t=this._arcInterval(),n=t.startAngle,s=t.endAngle,o=Qk(0,this.radiusX,this.radiusY,e),r=Br(o.x),a=Br(o.y),l=this.pointAt(s).transformCopy(e);let c=Zk(r,n),u=Zk(a,n),h=this.pointAt(n).transformCopy(e),d=R.min(h,l),p=R.max(h,l);for(;c<s||u<s;){let f,m;c<s&&(f=this.pointAt(c).transformCopy(e),c+=90),u<s&&(m=this.pointAt(u).transformCopy(e),u+=90),h=new R(f.x,m.y),d=R.min(d,h),p=R.max(p,h)}return Re.fromPoints(d,p)}_arcInterval(){let{startAngle:e,endAngle:t,anticlockwise:n}=this;if(n){let s=e;e=t,t=s}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}_intervalCurvePoints(e,t,n){const s=this.pointAt(e),o=this.pointAt(t),r=this._derivativeAt(e),a=this._derivativeAt(t),l=(co(t)-co(e))/3,c=new R(s.x+l*r.x,s.y+l*r.y),u=new R(o.x-l*a.x,o.y-l*a.y);return n&&(s.transform(n),o.transform(n),c.transform(n),u.transform(n)),{p1:s,cp1:c,cp2:u,p2:o}}_derivativeAt(e){const t=co(e);return new R(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}containsPoint(e){const t=this._arcInterval(),n=t.endAngle-t.startAngle,{center:s,radiusX:o,radiusY:r}=this,a=s.distanceTo(e),l=Math.atan2(e.y-s.y,e.x-s.x),c=o*r/Math.sqrt(lg(o,2)*lg(Math.sin(l),2)+lg(r,2)*lg(Math.cos(l),2)),u=this.pointAt(this.startAngle).round(10),h=this.pointAt(this.endAngle).round(10),d=function(i,e,t,n){const s=e.x-i.x,o=n.x-t.x,r=e.y-i.y,a=n.y-t.y,l=i.x-t.x,c=i.y-t.y,u=s*a-o*r,h=(s*c-r*l)/u,d=(o*c-a*l)/u;if(h>=0&&h<=1&&d>=0&&d<=1)return new R(i.x+d*s,i.y+d*r)}(s,e.round(10),u,h);let p;if(n<180)p=d&&FC(s.distanceTo(d),a)&&FC(a,c);else{let f=Xk(s.x,s.y,o,r,e.x,e.y);360!==f&&(f=(360+f)%360);let m=t.startAngle<=f&&f<=t.endAngle;p=m&&FC(a,c)||!m&&(!d||d.equals(e))}return p}_isOnPath(e,t){const n=this._arcInterval(),s=this.center;let o=Xk(s.x,s.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==o&&(o=(360+o)%360),n.startAngle<=o&&o<=n.endAngle&&this.pointAt(o).distanceTo(e)<=t}static fromPoints(e,t,n,s,o,r,a){const l=function(i){let{x1:e,y1:t,x2:n,y2:s,rx:o,ry:r,largeArc:a,swipe:l,rotation:c=0}=i;const u=co(c),h=Math.cos(u),d=Math.sin(u),p=h*(e-n)/2+d*(t-s)/2,f=-d*(e-n)/2+h*(t-s)/2,m=a!==l?1:-1,g=Math.pow(p,2),v=Math.pow(f,2);let x=Math.pow(o,2),S=Math.pow(r,2),M=g/x+v/S;M>1&&(M=Math.sqrt(g/x+v/S),o*=M,x=Math.pow(o,2),r*=M,S=Math.pow(r,2));let L=m*Math.sqrt((x*S-x*v-S*g)/(x*v+S*g));isNaN(L)&&(L=0);const K=L*(o*f)/r,J=r*p*-L/o,we=h*K-d*J+(e+n)/2,Qe=d*K+h*J+(t+s)/2,Ae=(p-K)/o,Rt=(f-J)/r,zt=-(p+K)/o,_n=-(f+J)/r,$s=(Rt>=0?1:-1)*Br(Math.acos(Ae/Math.sqrt(Ae*Ae+Rt*Rt))),Co=tt((Ae*zt+Rt*_n)/(Math.sqrt(Ae*Ae+Rt*Rt)*Math.sqrt(zt*zt+_n*_n)),10);let j=(Ae*_n-Rt*zt>=0?1:-1)*Br(Math.acos(Co));!l&&j>0&&(j-=360),l&&j<0&&(j+=360);let Z=$s+j;const fe=Z>=0?1:-1;return Z=Math.abs(Z)%360*fe,{center:new R(we,Qe),startAngle:$s,endAngle:Z,radiusX:o,radiusY:r,xRotation:c}}({x1:e.x,y1:e.y,x2:t.x,y2:t.y,rx:n,ry:s,largeArc:o,swipe:r,rotation:a});return new cg(l.center,{startAngle:l.startAngle,endAngle:l.endAngle,radiusX:l.radiusX,radiusY:l.radiusY,xRotation:l.xRotation,anticlockwise:0===r})}}function Xk(i,e,t,n,s,o){const r=tt((s-i)/t,3),a=tt((o-e)/n,3);return tt(Br(Math.atan2(a,r)))}function Zk(i,e){let t=i;for(;t<e;)t+=90;return t}const $r=cg;function Jk(i,e,t){const n=e?0:1;for(let s=0;s<i.length;s+=2)i.splice(s+n,0,t)}function eR(i,e){if(i&&e)return e.scaleCopy(2).translate(-i.x,-i.y)}const tR=1/3;function nR(i,e,t){const n=e.clone().scale(2/3);return{controlOut:n.clone().translateWith(i.scaleCopy(tR)),controlIn:n.translateWith(t.scaleCopy(tR))}}const iR={l:function(i,e){const{parameters:t,position:n}=e;for(let s=0;s<t.length;s+=2){let o=new R(t[s],t[s+1]);e.isRelative&&o.translateWith(n),i.lineTo(o.x,o.y),n.x=o.x,n.y=o.y}},c:function(i,e){const{parameters:t,position:n}=e;for(let s=0;s<t.length;s+=6){let o=new R(t[s],t[s+1]),r=new R(t[s+2],t[s+3]),a=new R(t[s+4],t[s+5]);e.isRelative&&(r.translateWith(n),o.translateWith(n),a.translateWith(n)),i.curveTo(o,r,a),n.x=a.x,n.y=a.y}},v:function(i,e){Jk(e.parameters,!0,e.isRelative?0:e.position.x),this.l(i,e)},h:function(i,e){Jk(e.parameters,!1,e.isRelative?0:e.position.y),this.l(i,e)},a:function(i,e){const{parameters:t,position:n}=e;for(let s=0;s<t.length;s+=7){const o=t[s],r=t[s+1],a=t[s+2],l=t[s+3],c=t[s+4],u=new R(t[s+5],t[s+6]);e.isRelative&&u.translateWith(n),(n.x!==u.x||n.y!==u.y)&&(i.arcTo(u,o,r,l,c,a),n.x=u.x,n.y=u.y)}},s:function(i,e){const{parameters:t,position:n,previousCommand:s}=e;let o;("s"===s||"c"===s)&&(o=mn(mn(i.paths).segments).controlIn());for(let r=0;r<t.length;r+=4){let c,a=new R(t[r],t[r+1]),l=new R(t[r+2],t[r+3]);e.isRelative&&(a.translateWith(n),l.translateWith(n)),c=o?eR(o,n):n.clone(),o=a,i.curveTo(c,a,l),n.x=l.x,n.y=l.y}},q:function(i,e){const{parameters:t,position:n}=e;for(let s=0;s<t.length;s+=4){let o=new R(t[s],t[s+1]),r=new R(t[s+2],t[s+3]);e.isRelative&&(o.translateWith(n),r.translateWith(n));let a=nR(n,o,r);i.curveTo(a.controlOut,a.controlIn,r),n.x=r.x,n.y=r.y}},t:function(i,e){const{parameters:t,position:n,previousCommand:s}=e;let o;("q"===s||"t"===s)&&(o=mn(mn(i.paths).segments).controlIn().clone().translateWith(n.scaleCopy(-1/3)).scale(1.5));for(let r=0;r<t.length;r+=2){let a=new R(t[r],t[r+1]);e.isRelative&&a.translateWith(n),o=o?eR(o,n):n.clone();let l=nR(n,o,a);i.curveTo(l.controlOut,l.controlIn,a),n.x=a.x,n.y=a.y}}},KQ=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,YQ=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,VC=function(i,e){const t=new R;let n;return e.replace(KQ,(s,o,r,a)=>{let l=o.toLowerCase();const c=l===o,u=function(i){const e=[];return i.replace(YQ,function(t,n){e.push(parseFloat(n))}),e}(r.trim());if("m"===l&&(c?(t.x+=u[0],t.y+=u[1]):(t.x=u[0],t.y=u[1]),i.moveTo(t.x,t.y),u.length>2&&(l="l",u.splice(0,2))),iR[l])iR[l](i,{parameters:u,position:t,isRelative:c,previousCommand:n}),a&&"z"===a.toLowerCase()&&i.close();else if("m"!==l)throw new Error("Error while parsing SVG path. Unsupported command: "+l);n=l}),i};function ug(i,e,t){let n;for(let s=0;s<i.length;s++){let o=i[s];if(o.visible()){let r=e?o.bbox(t):o.rawBBox();r&&(n=n?Re.union(n,r):r)}}return n}function oR(i,e){let t;for(let n=0;n<i.length;n++){let s=i[n];if(s.visible()){let o=s.clippedBBox(e);o&&(t=t?Re.union(t,o):o)}}return t}const eX=(i,e)=>i.controlOut()&&e.controlIn()?"C":"L";class ne extends(Jc(Sd(ho))){get nodeType(){return"Path"}constructor(e){super(e),this.segments=new Nk,this.segments.addObserver(this),oe(this.options.stroke)||(this.stroke("#000"),oe(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}lineTo(e,t){const n=oe(t)?new R(e,t):e,s=new Cn(n);return this.segments.push(s),this}curveTo(e,t,n){if(this.segments.length>0){const s=mn(this.segments),o=new Cn(n,t);this.suspend(),s.controlOut(e),this.resume(),this.segments.push(o)}return this}arc(e,t,n,s,o){if(this.segments.length>0){const a=mn(this.segments).anchor(),l=co(e),c=new R(a.x-n*Math.cos(l),a.y-s*Math.sin(l)),u=new $r(c,{startAngle:e,endAngle:t,radiusX:n,radiusY:s,anticlockwise:o});this._addArcSegments(u)}return this}arcTo(e,t,n,s,o,r){if(this.segments.length>0){const l=mn(this.segments).anchor(),c=$r.fromPoints(l,R.create(e),t,n,s,o,r);this._addArcSegments(c)}return this}_addArcSegments(e){this.suspend();const t=e.curvePoints();for(let n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(e){let t="";const n=this.segments,s=n.length;if(s>0){const o=[],r=(i=>(...e)=>e.map(t=>t.toString(i)).join(" "))(e);let a;for(let l=1;l<s;l++){let c=eX(n[l-1],n[l]);c!==a&&(a=c,o.push(c)),o.push("L"===c?r(n[l].anchor()):r(n[l-1].controlOut(),n[l].controlIn(),n[l].anchor()))}t="M"+r(n[0].anchor())+" "+o.join(" "),this.options.closed&&(t+="Z")}return t}_containsPoint(e){const t=this.segments,n=t.length;let o,r,s=0;for(let a=1;a<n;a++)o=t[a-1],r=t[a],s+=o._intersectionsTo(r,e);return(this.options.closed||!t[0].anchor().equals(t[n-1].anchor()))&&(s+=Bk(t[0].anchor(),t[n-1].anchor(),e)),s%2!=0}_isOnPath(e,t){const n=this.segments,s=n.length,o=t||this.options.stroke.width;if(s>1){if(n[0]._isOnPathTo(n[1],e,o,"start"))return!0;for(let r=2;r<=s-2;r++)if(n[r-1]._isOnPathTo(n[r],e,o))return!0;if(n[s-2]._isOnPathTo(n[s-1],e,o,"end"))return!0}return!1}_bbox(e){const t=this.segments,n=t.length;let s;if(1===n){let o=t[0].anchor().transformCopy(e);s=new Re(o,Ja.ZERO)}else if(n>0)for(let o=1;o<n;o++){let r=t[o-1].bboxTo(t[o],e);s=s?Re.union(s,r):r}return s}static parse(e,t){return po.parse(e,t)}static fromRect(e,t){const n=new ne(t);let[s,o]=e.cornerRadius;if(0===s&&0===o)n.moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close();else{const r=e.origin,{x:a,y:l}=r,c=e.width(),u=e.height();s=qm(s,0,c/2),o=qm(o,0,u/2),n.moveTo(a+s,l).lineTo(a+c-s,l).arcTo([a+c,l+o],s,o,!1).lineTo(a+c,l+u-o).arcTo([a+c-s,l+u],s,o,!1).lineTo(a+s,l+u).arcTo([a,l+u-o],s,o,!1).lineTo(a,l+o).arcTo([a+s,l],s,o,!1)}return n}static fromPoints(e,t){if(e){const n=new ne(t);for(let s=0;s<e.length;s++){let o=R.create(e[s]);o&&(0===s?n.moveTo(o):n.lineTo(o))}return n}}static curveFromPoints(e,t){if(e){const n=function(i,e){const t=i.slice(0),n=[];let s=t.length;if(s>2&&(Uk(0,t),s=t.length),s<2||2===s&&t[0].equals(t[1]))return n;let l,c,o=t[0],r=t[1],a=t[2];for(n.push(new Cn(o));o.equals(t[s-1]);)e=!0,t.pop(),s--;if(2===s){const h=Td(o,r,Ji,es);return mn(n).controlOut(OC(h,o,r,Ji,es)),n.push(new Cn(r,LC(h,o,r,Ji,es))),n}if(e){o=t[s-1],r=t[0],a=t[1];const h=RC(o,r,a);l=h[1],c=h[0]}else l=OC(Td(o,r,Ji,es),o,r,Ji,es);let u=l;for(let h=0;h<=s-3;h++)if(Uk(h,t),s=t.length,h+3<=s){o=t[h],r=t[h+1],a=t[h+2];const d=RC(o,r,a);mn(n).controlOut(u),u=d[1],n.push(new Cn(r,d[0]))}if(e){o=t[s-2],r=t[s-1],a=t[0];const h=RC(o,r,a);mn(n).controlOut(u),n.push(new Cn(r,h[0])),mn(n).controlOut(h[1]),n.push(new Cn(a,c))}else{const h=Td(r,a,Ji,es);mn(n).controlOut(u),n.push(new Cn(a,LC(h,r,a,Ji,es)))}return n}(e),s=new ne(t);return s.segments.push.apply(s.segments,n),s}}static fromArc(e,t){const n=new ne(t),s=e.startAngle,o=e.pointAt(s);return n.moveTo(o.x,o.y),n.arc(s,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),n}}class po extends(Jc(Sd(ho))){static parse(e,t){const n=new po(t);return VC(n,e)}toString(e){const t=this.paths;let n="";if(t.length>0){const s=[];for(let o=0;o<t.length;o++)s.push(t[o].toString(e));n=s.join(" ")}return n}get nodeType(){return"MultiPath"}constructor(e){super(e),this.paths=new Nk,this.paths.addObserver(this),oe(this.options.stroke)||this.stroke("#000")}moveTo(e,t){const n=new ne;return n.moveTo(e,t),this.paths.push(n),this}lineTo(e,t){return this.paths.length>0&&mn(this.paths).lineTo(e,t),this}curveTo(e,t,n){return this.paths.length>0&&mn(this.paths).curveTo(e,t,n),this}arc(e,t,n,s,o){return this.paths.length>0&&mn(this.paths).arc(e,t,n,s,o),this}arcTo(e,t,n,s,o,r){return this.paths.length>0&&mn(this.paths).arcTo(e,t,n,s,o,r),this}close(){return this.paths.length>0&&mn(this.paths).close(),this}_bbox(e){return ug(this.paths,!0,e)}rawBBox(){return ug(this.paths,!1)}_containsPoint(e){const t=this.paths;for(let n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}_isOnPath(e){const t=this.paths,n=this.options.stroke.width;for(let s=0;s<t.length;s++)if(t[s]._isOnPath(e,n))return!0;return!1}_clippedBBox(e){return oR(this.paths,this.currentTransform(e))}}class BC extends q{createRing(e,t){const n=e.startAngle+180;let s=e.angle+n;e.angle>0&&n===s&&(s+=.001);const o=new R(e.center.x,e.center.y),r=Math.max(e.radius,0),a=Math.max(e.innerRadius,0),l=new $r(o,{startAngle:n,endAngle:s,radiusX:r,radiusY:r}),c=ne.fromArc(l,t).close();if(a){l.radiusX=l.radiusY=a;const u=l.pointAt(s);c.lineTo(u.x,u.y),c.arc(s,n,a,a,!0)}else c.lineTo(o.x,o.y);return c}}BC.current=new BC;const dg=BC,rR=Math.PI/2;class zC extends(tg(Ci,["radius"])){constructor(e=new R,t=0){super(),this.setCenter(e),this.setRadius(t)}setCenter(e){return this._observerField("center",R.create(e)),this.geometryChange(),this}getCenter(){return this.center}equals(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}clone(){return new zC(this.center.clone(),this.radius)}pointAt(e){return this._pointAt(co(e))}bbox(e){const t=Qk(0,this.radius,this.radius,e);let n=R.maxPoint(),s=R.minPoint();for(let o=0;o<4;o++){let r=this._pointAt(t.x+o*rR).transformCopy(e),a=this._pointAt(t.y+o*rR).transformCopy(e),l=new R(r.x,a.y);n=R.min(n,l),s=R.max(s,l)}return Re.fromPoints(n,s)}_pointAt(e){const{center:t,radius:n}=this;return new R(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}containsPoint(e){const{center:t,radius:n}=this;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}_isOnPath(e,t){const{center:n,radius:s}=this,o=n.distanceTo(e);return s-t<=o&&o<=s+t}}const ts=zC;function nX(i){const e="_"+i;return function(t){return oe(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}const pg=(i,e=["geometry"])=>{const t=class extends i{};return function(i,e){for(let t=0;t<e.length;t++)i[e[t]]=nX(e[t])}(t.prototype,e),t};class oX extends(Jc(Sd(pg(ho)))){get nodeType(){return"Circle"}constructor(e=new ts,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(e){return this._geometry.bbox(e)}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const Wo=oX,HC=(i,e)=>class extends i{traverse(t){const n=this[e];for(let s=0;s<n.length;s++){let o=n[s];o.traverse?o.traverse(t):t(o)}return this}};class rX extends(HC(ho,"children")){get nodeType(){return"Group"}constructor(e){super(e),this.children=[]}childrenChange(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}append(){return fd(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}insertAt(e,t){return this.insert(t,e)}remove(e){const t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}removeAt(e){if(0<=e&&e<this.children.length){let t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}clear(){const e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}bbox(e){return ug(this.children,!0,this.currentTransform(e))}rawBBox(){return ug(this.children,!1)}_clippedBBox(e){return oR(this.children,this.currentTransform(e))}currentTransform(e){return ho.prototype.currentTransform.call(this,e)||null}containsPoint(e,t){if(this.visible()){const n=this.children,s=this.currentTransform(t);for(let o=0;o<n.length;o++)if(n[o].containsPoint(e,s))return!0}return!1}_reparent(e,t){for(let n=0;n<e.length;n++){const s=e[n],o=s.parent;o&&o!==this&&o.remove&&o.remove(s),s.parent=t}}}const st=rX;function aX(i){return.5-Math.cos(i*Math.PI)/2}function lX(i){return i}function cX(i,e,t,n){let s=1.70158,o=0,r=n;return 0===i?t:1===i?t+n:(o||(o=.5),r<Math.abs(n)?(r=n,s=o/4):s=o/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*i)*Math.sin((Number(i)-s)*(1.1*Math.PI)/o)+n+t)}let jC=i=>{const e="undefined"!=typeof window?window:{},t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};jC=n=>t.call(e,n),jC(i)};const aR=jC;let UC;class $C extends q{static get current(){return UC||(UC=new $C),UC}constructor(){super(),this._items=[]}register(e,t){this._items.push({name:e,type:t})}create(e,t){const n=this._items;let s;if(t&&t.type){const o=t.type.toLowerCase();for(let r=0;r<n.length;r++)if(n[r].name.toLowerCase()===o){s=n[r];break}}if(s)return new s.type(e,t)}}const Ls=$C,Ti=class extends q{static create(e,t,n){return Ls.current.create(e,t,n)}get options(){return this._options||{duration:500,easing:"swing"}}set options(e){this._options=e}constructor(e,t){super(),this.options=Object.assign({},this.options,t),this.element=e}setup(){}step(){}play(){const e=this.options,{duration:t,delay:n=0}=e,s=rn[e.easing],o=gd()+n,r=o+t;0===t?(this.step(1),this.abort()):setTimeout(()=>{const a=()=>{if(this._stopped)return;const l=gd(),c=qm(l-o,0,t),h=s(c/t,c,0,1,t);this.step(h),l<r?aR(a):this.abort()};a()},n)}abort(){this._stopped=!0}destroy(){this.abort()}};class lR extends q{constructor(e){super(),this.children=[],this.options=w({},this.options,this.initUserOptions(e))}initUserOptions(e){return e}reflow(e){const t=this.children;let n;for(let s=0;s<t.length;s++){let o=t[s];o.reflow(e),n=n?n.wrap(o.box):o.box.clone()}this.box=n||e}destroy(){const e=this.children;this.animation&&this.animation.destroy();for(let t=0;t<e.length;t++)e[t].destroy()}getRoot(){const e=this.parent;return e?e.getRoot():null}getSender(){const e=this.getService();if(e)return e.sender}getService(){let e=this;for(;e;){if(e.chartService)return e.chartService;e=e.parent}}translateChildren(e,t){const n=this.children,s=n.length;for(let o=0;o<s;o++)n[o].box.translate(e,t)}append(){for(let e=0;e<arguments.length;e++){let t=arguments[e];this.children.push(t),t.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const e=this.children,t=e.length;for(let n=0;n<t;n++)e[n].renderVisual()}createVisual(){this.visual=new st({zIndex:this.options.zIndex,visible:de(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=Ti.create(this.visual,this.options.animation))}appendVisual(e){e.chartElement||(e.chartElement=this),e.options.noclip?this.clipRoot().visual.append(e):N(e.options.zIndex)?this.stackRoot().stackVisual(e):this.isStackRoot?this.stackVisual(e):this.visual?this.visual.append(e):this.parent.appendVisual(e)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(e){const t=e.options.zIndex||0,n=this.visual.children,s=n.length;let o;for(o=0;o<s&&!(de(n[o].options.zIndex,0)>t);o++);this.visual.insert(o,e)}traverse(e){const t=this.children,n=t.length;for(let s=0;s<n;s++){let o=t[s];e(o),o.traverse&&o.traverse(e)}}closest(e){let t=this,n=!1;for(;t&&!n;)n=e(t),n||(t=t.parent);if(n)return t}renderComplete(){}hasHighlight(){const e=(this.options||{}).highlight;return!(!this.createHighlight||e&&!1===e.visible)}toggleHighlight(e,t){const n=(this.options||{}).highlight||{},s=n.visual;let o=this._highlight;if(!o){const r={fill:{color:Le,opacity:t||.2},stroke:{color:Le,width:1,opacity:t||.2}};if(s){if(o=this._highlight=s(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(r),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!o)return}else o=this._highlight=this.createHighlight(r);N(o.options.zIndex)||(o.options.zIndex=de(n.zIndex,this.options.zIndex)),this.appendVisual(o)}o.visible(e)}createGradientOverlay(e,t,n){const s=new ne(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:e.options.closed},t));return s.segments.elements(e.segments.elements()),s}createGradient(e){if(this.parent)return this.parent.createGradient(e)}supportsPointInactiveOpacity(){return!0}}lR.prototype.options={};const $e=lR;class cR extends $e{constructor(e){super(e),this.options.margin=qe(this.options.margin),this.options.padding=qe(this.options.padding)}reflow(e){const t=this.options,{width:n,height:s,shrinkToFit:o}=t,r=n&&s,a=t.margin,l=t.padding,c=t.border.width;let u;const h=()=>{this.align(e,Y,t.align),this.align(e,X,t.vAlign),this.paddingBox=u.clone().unpad(a).unpad(c)};let d=e.clone();r&&(d.x2=d.x1+n,d.y2=d.y1+s),o&&d.unpad(a).unpad(c).unpad(l),super.reflow(d),u=r?this.box=new B(0,0,n,s):this.box,o&&r?(h(),d=this.contentBox=this.paddingBox.clone().unpad(l)):(d=this.contentBox=u.clone(),u.pad(l).pad(c).pad(a),h()),this.translateChildren(u.x1-d.x1+a.left+c+l.left,u.y1-d.y1+a.top+c+l.top);const p=this.children;for(let f=0;f<p.length;f++){let m=p[f];m.reflow(m.box)}}align(e,t,n){this.box.align(e,t,n)}hasBox(){const e=this.options;return e.border.width||e.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(ne.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const e=this.options,t=e.border||{};return{stroke:{width:t.width,color:t.color,opacity:de(t.opacity,e.opacity),dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},cursor:e.cursor}}}O(cR,{align:Ie,vAlign:Oe,margin:{},padding:{},border:{color:wt,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const el=cR;class uR extends el{constructor(e,t){super(e),this.pointData=t}getElement(){const{options:e,paddingBox:t}=this,{type:n,rotation:s}=e,o=t.center(),r=t.width()/2,a=t.height()/2;if(!e.visible||!this.hasBox())return null;const l=this.visualStyle();let c;if(n===Ns)c=new Wo(new ts([V(t.x1+r,3),V(t.y1+a,3)],Math.min(r,a)),l);else if("triangle"===n)c=ne.fromPoints([[t.x1+r,t.y1],[t.x1,t.y2],[t.x2,t.y2]],l).close();else if("cross"===n)c=new po(l),c.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),c.moveTo(t.x1,t.y2).lineTo(t.x2,t.y1);else{const u=t.toRect();if(n===KN){const h=de(e.borderRadius,u.width()/5);u.setCornerRadius(h)}c=ne.fromRect(u,l)}return s&&c.transform(Ue().rotate(-s,[o.x,o.y])),c.options.zIndex=e.zIndex,c}createElement(){const e=this.options.visual,t=this.pointData||{};let n;return n=e?e({value:t.value,dataItem:t.dataItem,sender:this.getSender(),series:t.series,category:t.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),n}visualOptions(){const e=this.options;return{background:e.background,border:e.border,margin:e.margin,padding:e.padding,type:e.type,size:e.width,visible:e.visible}}createVisual(){this.visual=this.createElement()}}O(uR,{type:Ns,align:ve,vAlign:ve});const Gr=uR,dX=class extends Ik{_change(){this.optionsChange({field:"stops"})}};function pX(i){return function(e){return oe(e)?(this.options.set(i,e),this):this.options.get(i)}}const gX=["offset","color","opacity"];class Dd extends(((i,e)=>{const t=class extends i{};return function(i,e){for(let t=0;t<e.length;t++)i[e[t]]=pX(e[t])}(t.prototype,e),t})(Ci,gX)){constructor(e,t,n){super(),this.options=new NC({offset:e,color:t,opacity:oe(n)?n:1}),this.options.addObserver(this)}static create(e){if(oe(e)){let t;return t=e instanceof Dd?e:e.length>1?new Dd(e[0],e[1],e[2]):new Dd(e.offset,e.color,e.opacity),t}}}const GC=Dd,WC=class extends Ci{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new dX(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=Gm()}userSpace(e){return oe(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let n=0;n<e.length;n++)t.push(GC.create(e[n]));return t}addStop(e,t,n){this.stops.push(new GC(e,t,n))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}},_X=["start","end"];class vX extends(ag(WC,_X)){constructor(e={}){super(e),this.start(e.start||new R),this.end(e.end||new R(1,0))}}const fg=vX;class xX extends(ag(WC,["center"])){constructor(e={}){super(e),this.center(e.center||new R),this._radius=oe(e.radius)?e.radius:1,this._fallbackFill=e.fallbackFill}radius(e){return oe(e)?(this._radius=e,this.geometryChange(),this):this._radius}fallbackFill(e){return oe(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}const mg=xX,Ed="radial",CX={glass:{type:"linear",rotation:0,stops:[{offset:0,color:Le,opacity:0},{offset:.25,color:Le,opacity:.3},{offset:1,color:Le,opacity:0}]},sharpBevel:{type:Ed,stops:[{offset:0,color:Le,opacity:.55},{offset:.65,color:Le,opacity:0},{offset:.95,color:Le,opacity:.25}]},roundedBevel:{type:Ed,stops:[{offset:.33,color:Le,opacity:.06},{offset:.83,color:Le,opacity:.2},{offset:.95,color:Le,opacity:0}]},roundedGlass:{type:Ed,supportVML:!1,stops:[{offset:0,color:Le,opacity:0},{offset:.5,color:Le,opacity:.3},{offset:.99,color:Le,opacity:0}]},sharpGlass:{type:Ed,supportVML:!1,stops:[{offset:0,color:Le,opacity:.2},{offset:.15,color:Le,opacity:.15},{offset:.17,color:Le,opacity:.35},{offset:.85,color:Le,opacity:.05},{offset:.87,color:Le,opacity:.15},{offset:.99,color:Le,opacity:0}]},bubbleShadow:{type:Ed,center:[.5,.5],radius:.5}};function wX(i,e){if(i.x1===e.x1&&i.y1===e.y1&&i.x2===e.x2&&i.y2===e.y2)return e;const t=Math.min(i.x1,e.x1),n=Math.max(i.x1,e.x1),s=Math.min(i.x2,e.x2),o=Math.max(i.x2,e.x2),r=Math.min(i.y1,e.y1),a=Math.max(i.y1,e.y1),l=Math.min(i.y2,e.y2),c=Math.max(i.y2,e.y2),u=[];return u[0]=new B(n,r,s,a),u[1]=new B(t,a,n,l),u[2]=new B(s,a,o,l),u[3]=new B(n,l,s,c),i.x1===t&&i.y1===r||e.x1===t&&e.y1===r?(u[4]=new B(t,r,n,a),u[5]=new B(s,l,o,c)):(u[4]=new B(s,r,o,a),u[5]=new B(t,l,n,c)),bi(u,function(h){return h.height()>0&&h.width()>0})[0]}class hR extends $e{constructor(e){super(e);const t=this.options;t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),this.gradients={}}reflow(){const{options:e,children:t}=this;let n=new B(0,0,e.width,e.height);this.box=n.unpad(e.margin);for(let s=0;s<t.length;s++)t[s].reflow(n),n=wX(n,t[s].box)||new B}createVisual(){this.visual=new st,this.createBackground()}createBackground(){const e=this.options,t=e.border||{},n=this.box.clone().pad(e.margin).unpad(t.width),s=ne.fromRect(n.toRect(),{stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType},fill:{color:e.background,opacity:e.opacity},zIndex:-10});this.visual.append(s)}getRoot(){return this}createGradient(e){const t=this.gradients,n=lQ(e),s=CX[e.gradient];let o;if(t[n])o=t[n];else{const r=Object.assign({},s,e);"linear"===s.type?o=new fg(r):(e.innerRadius&&(r.stops=function(i){const e=i.stops,t=i.innerRadius/i.radius*100,n=e.length,s=[];for(let o=0;o<n;o++){let r=Object.assign({},e[o]);r.offset=(r.offset*(100-t)+t)/100,s.push(r)}return s}(r)),o=new mg(r),o.supportVML=!1!==s.supportVML),t[n]=o}return o}cleanGradients(){const e=this.gradients;for(let t in e)e[t]._observers=[]}size(){const e=this.options;return new B(0,0,e.width,e.height)}}O(hR,{width:600,height:400,background:Le,border:{color:wt,width:0},margin:qe(5),zIndex:-2});const SX=hR;class dR extends $e{constructor(e){super(e),this._initDirection()}_initDirection(){const e=this.options;e.vertical?(this.groupAxis=Y,this.elementAxis=X,this.groupSizeField=Um,this.elementSizeField=Hm,this.groupSpacing=e.spacing,this.elementSpacing=e.vSpacing):(this.groupAxis=X,this.elementAxis=Y,this.groupSizeField=Hm,this.elementSizeField=Um,this.groupSpacing=e.vSpacing,this.elementSpacing=e.spacing)}reflow(e){this.box=e.clone(),this.reflowChildren()}reflowChildren(){const{box:e,elementAxis:t,groupAxis:n,elementSizeField:s,groupSizeField:o}=this,{groups:r,groupsSize:a,maxGroupElementsSize:l}=this.groupOptions(),c=r.length,u=e[n+1]+this.alignStart(a,e[o]());if(c){let h=u;for(let d=0;d<c;d++){let p=r[d],f=p.groupElements,m=e[t+1],g=f.length;for(let v=0;v<g;v++){let x=f[v],S=this.elementSize(x),M=h+this.alignStart(S[o],p.groupSize),L=new B;L[n+1]=M,L[n+2]=M+S[o],L[t+1]=m,L[t+2]=m+S[s],x.reflow(L),m+=S[s]+this.elementSpacing}h+=p.groupSize+this.groupSpacing}e[n+1]=u,e[n+2]=u+a,e[t+2]=e[t+1]+l}}alignStart(e,t){let n=0;const s=this.options.align;return s===ze||s===je?n=t-e:s===ve&&(n=(t-e)/2),n}groupOptions(){const{box:e,children:t,elementSizeField:n,groupSizeField:s,elementSpacing:o,groupSpacing:r}=this,a=V(e[n]()),l=t.length,c=[];let u=0,h=0,d=0,p=0,f=[];for(let m=0;m<l;m++){let g=t[m];g.box||g.reflow(e);let v=this.elementSize(g);this.options.wrap&&V(h+o+v[n])>a&&(c.push({groupElements:f,groupSize:u,groupElementsSize:h}),p=Math.max(p,h),d+=r+u,u=0,h=0,f=[]),u=Math.max(u,v[s]),h>0&&(h+=o),h+=v[n],f.push(g)}return c.push({groupElements:f,groupSize:u,groupElementsSize:h}),p=Math.max(p,h),d+=u,{groups:c,groupsSize:d,maxGroupElementsSize:p}}elementSize(e){return{width:e.box.width(),height:e.box.height()}}createVisual(){}}O(dR,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const qC=dR;class AX extends(Jc(ag(ho,["position"]))){get nodeType(){return"Text"}constructor(e,t=new R,n={}){super(n),this.content(e),this.position(t),this.options.font||(this.options.font="12px sans-serif"),oe(this.options.fill)||this.fill("#000")}content(e){return oe(e)?(this.options.set("content",e),this):this.options.get("content")}measure(){return Ym(this.content(),{font:this.options.get("font")})}rect(){const e=this.measure(),t=this.position().clone();return new Re(t,[e.width,e.height])}bbox(e){const t=Xa(this.currentTransform(e));return this.rect().bbox(t)}rawBBox(){return this.rect().bbox()}_containsPoint(e){return this.rect().containsPoint(e)}}const pR=AX,MX=pR;class fR extends $e{constructor(e,t){super(t),this.content=e,this.reflow(new B)}reflow(e){const t=this.options,n=t.size=Ym(this.content,{font:t.font});this.baseline=n.baseline,this.box=new B(e.x1,e.y1,e.x1+n.width,e.y1+n.height)}createVisual(){const{font:e,color:t,opacity:n,cursor:s}=this.options;this.visual=new MX(this.content,this.box.toRect().topLeft(),{font:e,fill:{color:t,opacity:n},cursor:s})}}O(fR,{font:UN,color:wt});const PX=fR;function gg(i){const e=i.origin,t=i.bottomRight();return new B(e.x,e.y,t.x,t.y)}const IX=/\n/m,Si=class extends el{constructor(e,t,n){super(t),this.content=e,this.data=n,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new B)}_initContainer(){const e=this.options,t=String(this.content).split(IX),n=new qC({vertical:!0,align:e.align,wrap:!1}),s=w({},e,{opacity:1,animation:null});this.container=n,this.append(n);for(let o=0;o<t.length;o++){let r=new PX(t[o].trim(),s);n.append(r)}}reflow(e){const t=this.options,n=t.visual;if(this.container.options.align=t.align,n&&!this._boxReflow){let s=e;s.hasSize()||(this._boxReflow=!0,this.reflow(s),this._boxReflow=!1,s=this.box);const o=this.visual=n(this.visualContext(s));o&&(s=gg(o.clippedBBox()||new Re),o.options.zIndex=t.zIndex),this.box=this.contentBox=this.paddingBox=s}else if(super.reflow(e),t.rotation){const s=qe(t.margin);let o=this.box.unpad(s);this.targetBox=e,this.normalBox=o.clone(),o=this.rotate(),o.translate(s.left-s.right,s.top-s.bottom),this.rotatedBox=o.clone(),o.pad(s)}}createVisual(){const e=this.options;if(this.visual=new st({transform:this.rotationTransform(),zIndex:e.zIndex,noclip:e.noclip}),this.hasBox()){const t=ne.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(t)}}renderVisual(){if(this.options.visible)if(this.options.visual){const e=this.visual;e&&!N(e.options.noclip)&&(e.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(e){const t={text:this.content,rect:e.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(e),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(t,this.data),t}getDefaultVisual(){this.createVisual(),this.renderChildren();const e=this.visual;return delete this.visual,e}rotate(){const e=this.options;return this.box.rotate(e.rotation),this.align(this.targetBox,Y,e.align),this.align(this.targetBox,X,e.vAlign),this.box}rotationTransform(){const e=this.options.rotation;if(!e)return null;const{x:t,y:n}=this.normalBox.center(),s=this.rotatedBox.center();return Ue().translate(s.x-t,s.y-n).rotate(e,[t,n])}};class yg extends $e{constructor(e){super(e),this._textBox=new Si(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(e){super.reflow(e),this.box.snapTo(e,Y)}static buildTitle(e,t){let s,n=e;return"string"==typeof e&&(n={text:e}),n=Object.assign({visible:!0},t,n),n&&n.visible&&n.text&&(s=new yg(n)),s}static orderTitles(e){const t=[].concat(e),n=t.filter(o=>o&&o.options.position!==je),s=t.filter(o=>o&&o.options.position===je);return mR(n),mR(s),s.reverse(),n.concat(s)}}function mR(i){for(let e=1;e<i.length;e++){const t=i[e]._textBox,n=i[e-1]._textBox;n.options.margin=Object.assign(qe(n.options.margin),{bottom:0}),t.options.margin=Object.assign(qe(t.options.margin),{top:0})}}O(yg,{color:wt,position:Oe,align:ve,margin:qe(5),padding:qe(5)});const _g=yg;class gR extends Si{constructor(e,t,n,s,o){super(t,o),this.text=t,this.value=e,this.index=n,this.dataItem=s,this.reflow(new B)}visualContext(e){const t=super.visualContext(e);return t.value=this.value,t.dataItem=this.dataItem,t.format=this.options.format,t.culture=this.options.culture,t}click(e,t){e.trigger("axisLabelClick",{element:Os(t),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==ve){const e=this.normalBox.toRect(),t=this.rotationTransform();this.box=gg(e.bbox(t.matrix()))}else super.rotate();return this.box}rotationTransform(){const e=this.options,t=e.rotation;if(!t)return null;if(e.alignRotation===ve)return super.rotationTransform();const n=Ue().rotate(t).matrix(),s=this.normalBox.toRect(),o=this.targetBox.toRect(),r=e.rotationOrigin||Oe,a=r===Oe||r===je?Y:X,l=r===Oe||r===je?X:Y,c=r===Oe||r===Ie?o.origin:o.bottomRight(),u=s.topLeft().transformCopy(n),h=s.topRight().transformCopy(n),d=s.bottomRight().transformCopy(n),p=s.bottomLeft().transformCopy(n),f=Re.fromPoints(u,h,d,p),m={[l]:o.origin[l]-f.origin[l]},g=Math.abs(u[l]+m[l]-c[l]),v=Math.abs(h[l]+m[l]-c[l]);let x,S;V(g,10)===V(v,10)?(x=u,S=h):v<g?(x=h,S=d):(x=u,S=p);const M=x[a]+(S[a]-x[a])/2;return m[a]=o.center()[a]-M,Ue().translate(m.x,m.y).rotate(t)}}O(gR,{_autoReflow:!1});const tl=gR;class _R extends el{constructor(e,t,n){super(t),this.fields=e,this.chartService=n,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const e=this.options;if(e.visible){const{label:t,icon:n}=e,s=new B,o=()=>this;let l,c,r=n.size,a=this.fields.text;if(N(t)&&t.visible){const h=nn(t);h?a=h(this.fields):t.format&&(a=this.chartService.format.auto(t.format,a)),t.color||(t.color=t.position===dC?"#fff":n.background),this.label=new Si(a,w({},t)),this.label.aliasFor=o,t.position===dC&&!N(r)&&(n.type===Ns?r=Math.max(this.label.box.width(),this.label.box.height()):(l=this.label.box.width(),c=this.label.box.height()),s.wrap(this.label.box))}n.width=l||r||7,n.height=c||r||7;const u=new Gr(w({},n));u.aliasFor=o,this.marker=u,this.append(u),this.label&&this.append(this.label),u.reflow(new B),this.wrapperBox=s.wrap(u.box)}}reflow(e){const{options:t,label:n,marker:s,wrapperBox:o}=this,r=e.center(),a=t.line.length,l=t.position;if(t.visible){let c,u,h;Se(l,[Ie,ze])?l===Ie?(h=o.alignTo(e,l).translate(-a,e.center().y-o.center().y),t.line.visible&&(c=[e.x1,r.y],this.linePoints=[c,[h.x2,r.y]],u=h.clone().wrapPoint(c))):(h=o.alignTo(e,l).translate(a,e.center().y-o.center().y),t.line.visible&&(c=[e.x2,r.y],this.linePoints=[c,[h.x1,r.y]],u=h.clone().wrapPoint(c))):l===je?(h=o.alignTo(e,l).translate(e.center().x-o.center().x,a),t.line.visible&&(c=[r.x,e.y2],this.linePoints=[c,[r.x,h.y1]],u=h.clone().wrapPoint(c))):(h=o.alignTo(e,l).translate(e.center().x-o.center().x,-a),t.line.visible&&(c=[r.x,e.y1],this.linePoints=[c,[r.x,h.y2]],u=h.clone().wrapPoint(c))),s&&s.reflow(h),n&&(n.reflow(h),s&&(t.label.position===jm&&n.box.alignTo(s.box,l),n.reflow(n.box))),this.contentBox=h,this.targetBox=e,this.box=u||h}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const e=this.options,t=e.visual;e.visible&&t?(this.visual=t(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:e.background,border:e.background,icon:e.icon,label:e.label,line:e.line,position:e.position,visible:e.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const n=this.visual;return delete this.visual,n}})),this.addVisual()):super.renderVisual()}createLine(){const e=this.options.line;if(this.linePoints){const t=ne.fromPoints(this.linePoints,{stroke:{color:e.color,width:e.width,dashType:e.dashType}});Qi(t),this.visual.append(t)}}click(e,t){const n=this.eventArgs(t);e.trigger("noteClick",n)||t.preventDefault()}over(e,t){const n=this.eventArgs(t);e.trigger("noteHover",n)||t.preventDefault()}out(e,t){const n=this.eventArgs(t);e.trigger("noteLeave",n)}eventArgs(e){const t=this.options;return Object.assign(this.fields,{element:Os(e),text:N(t.label)?t.label.text:"",visual:this.visual})}}O(_R,{icon:{visible:!0,type:Ns},label:{position:dC,visible:!0,align:ve,vAlign:ve},line:{visible:!0},visible:!0,position:Oe,zIndex:2});const vR=_R;let xR={format:(i,e)=>e,toString:i=>i,parseDate:i=>new Date(i),firstDay:()=>0};const bR=class{static register(e){xR=e}static get implementation(){return xR}},OX=/\{(\d+)(:[^\}]+)?\}/g,KC=class{constructor(e,t={}){this._intlService=t.intlService,this.sender=t.sender||e,this.format=new class{constructor(e){this._intlService=e}get intl(){return this._intlService||bR.implementation}set intl(e){this._intlService=e}auto(e,...t){const n=this.intl;return Ho(e)&&e.match(WN)?n.format(e,...t):n.toString(t[0],e)}localeAuto(e,t,n){const s=this.intl;let o;return o=Ho(e)&&e.match(WN)?e.replace(OX,function(r,a,l){let c=t[parseInt(a,10)];return s.toString(c,l?l.substring(1):"",n)}):s.toString(t[0],e,n),o}}(t.intlService),this.chart=e,this.rtl=Boolean(t.rtl)}get intl(){return this._intlService||bR.implementation}set intl(e){this._intlService=e,this.format.intl=e}notify(e,t){this.chart&&this.chart.trigger(e,t)}isPannable(e){const t=((this.chart||{}).options||{}).pannable;return t&&t.lock!==e}};let YC;const QC=class{static register(e){YC=e}static create(e,t){if(YC)return YC.create(e,t)}};function CR(i,e){const{tickX:t,tickY:n,position:s}=i,o=new ne({stroke:{width:e.width,color:e.color}});return i.vertical?o.moveTo(t,s).lineTo(t+e.size,s):o.moveTo(s,n).lineTo(s,n+e.size),Qi(o),o}function wR(i,e){const{lineStart:t,lineEnd:n,position:s}=i,o=new ne({stroke:{width:e.width,color:e.color,dashType:e.dashType}});return i.vertical?o.moveTo(t,s).lineTo(n,s):o.moveTo(s,t).lineTo(s,n),Qi(o),o}class TR extends $e{constructor(e,t=new KC){super(e),this.chartService=t,this.options.visible||(this.options=w({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=w({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.minorTickType!==pC},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=w({},{color:this.options.line.color,width:this.options.line.width,visible:this.options.majorTickType!==pC},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(e){const t=e.rotation;ks(t)&&(e.alignRotation=t.align,e.rotation=t.angle)}createLabels(){const e=this.options,n=w({},e.labels,{align:e.vertical?ze:ve,zIndex:e.zIndex}),s=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,e.autoRotateLabels=!0);const o=this.labelsRange();for(let r=o.min;r<o.max;r+=s){let l=this.createAxisLabel(r,n,{index:r,count:o.max});l&&(this.append(l),this.labels.push(l))}}}clearLabels(){this.children=bi(this.children,e=>!(e instanceof tl)),this.labels=[]}clearTitle(){this.title&&(this.children=bi(this.children,e=>e!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:e,box:t}=this,s=e.labels.mirror,o=s?t.x1:t.x2,r=s?t.y2:t.y1,a=e.line.width||0;return e.vertical?new B(o,t.y1,o,t.y2-a):new B(t.x1,r,t.x2-a,r)}createTitle(){const e=this.options,t=w({rotation:e.vertical?-90:0,text:"",zIndex:1,visualSize:!0},e.title);if(t.visible&&t.text){const n=new Si(t.text,t);this.append(n),this.title=n}}createNotes(){const e=this.options,t=e.notes,n=t.data||[];this.notes=[];for(let s=0;s<n.length;s++){const o=w({},t,n[s]);o.value=this.parseNoteValue(o.value);const r=new vR({value:o.value,text:o.label.text,dataItem:o},o,this.chartService);r.options.visible&&(N(r.options.position)?e.vertical&&!Se(r.options.position,[Ie,ze])?r.options.position=e.reverse?Ie:ze:!e.vertical&&!Se(r.options.position,[Oe,je])&&(r.options.position=e.reverse?je:Oe):r.options.position=e.vertical?e.reverse?Ie:ze:e.reverse?je:Oe,this.append(r),this.notes.push(r))}}parseNoteValue(e){return e}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let e=this._gridLines;return e||(e=this._gridLines=new st({zIndex:-2}),this.appendVisual(this._gridLines)),e}createTicks(e){const t=this.options,n=this.lineBox(),s=t.labels.mirror,o=t.majorTicks.visible?t.majorUnit:0,r={vertical:t.vertical};function a(l,c,u){const h=l.length,d=Math.max(1,c.step);if(c.visible)for(let p=c.skip;p<h;p+=d)N(u)&&p%u==0||(r.tickX=s?n.x2:n.x2-c.size,r.tickY=s?n.y1-c.size:n.y1,r.position=l[p],e.append(CR(r,c)))}a(this.getMajorTickPositions(),t.majorTicks),a(this.getMinorTickPositions(),t.minorTicks,o/t.minorUnit)}createLine(){const e=this.options,t=e.line,n=this.lineBox();if(t.width>0&&t.visible){const s=new ne({stroke:{width:t.width,color:t.color,dashType:t.dashType}});s.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),e._alignLines&&Qi(s);const o=this._lineGroup=new st;o.append(s),this.visual.append(o),this.createTicks(o)}}getActualTickSize(){const e=this.options;let t=0;return e.majorTicks.visible&&e.minorTicks.visible?t=Math.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?t=e.majorTicks.size:e.minorTicks.visible&&(t=e.minorTicks.size),t}createBackground(){const{options:e,box:t}=this,n=e.background;n&&(this._backgroundPath=ne.fromRect(t.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const e=this.options,t=e.plotBands||[],n=e.vertical,s=this.plotArea;if(0===t.length)return;const o=this._plotbandGroup=new st({zIndex:-1}),r=bi(this.pane.axes,a=>a.options.vertical!==this.options.vertical)[0];for(let a=0;a<t.length;a++){let c,u,d,l=t[a],h=l.label;if(n?(c=(r||s.axisX).lineBox(),u=this.getSlot(l.from,l.to,!0)):(c=this.getSlot(l.from,l.to,!0),u=(r||s.axisY).lineBox()),h&&(h.vAlign=h.position||Ie,d=this.createPlotBandLabel(h,l,new B(c.x1,u.y1,c.x2,u.y2))),0!==c.width()&&0!==u.height()){const p=new Re([c.x1,u.y1],[c.width(),u.height()]),f=ne.fromRect(p,{fill:{color:l.color,opacity:l.opacity},stroke:null});o.append(f),d&&o.append(d)}}this.appendVisual(o)}createPlotBandLabel(e,t,n){if(!1===e.visible)return null;let o,s=e.text;if(N(e)&&e.visible){const r=nn(e);r?s=r({text:s,item:t}):e.format&&(s=this.chartService.format.auto(e.format,s)),e.color||(e.color=this.options.labels.color)}return o=new Si(s,e),o.reflow(n),o.renderVisual(),o.visual}createGridLines(e){const t=this.options,{minorGridLines:n,majorGridLines:s,minorUnit:o,vertical:r}=t,a=e.options.line.visible,l=s.visible?t.majorUnit:0,c=e.lineBox(),u=c[r?"y1":"x1"],h={lineStart:c[r?"x1":"y1"],lineEnd:c[r?"x2":"y2"],vertical:r},d=[],p=this.gridLinesVisual();function f(m,g,v){const x=m.length,S=Math.max(1,g.step);if(g.visible)for(let M=g.skip;M<x;M+=S){let L=V(m[M]);Se(L,d)||M%v!=0&&(!a||u!==L)&&(h.position=L,p.append(wR(h,g)),d.push(L))}}return f(this.getMajorTickPositions(),s),f(this.getMinorTickPositions(),n,l/o),p.children}reflow(e){const{options:t,labels:n,title:s}=this,o=t.vertical,r=n.length,a=o?Um:Hm,l=s?s.box[a]():0,c=this.getActualTickSize()+t.margin+l,h=((this.getRoot()||{}).box||e)[a]();let d=0;for(let p=0;p<r;p++){let f=n[p].box[a]();f+c<=h&&(d=Math.max(d,f))}this.box=o?new B(e.x1,e.y1,e.x1+d+c,e.y2):new B(e.x1,e.y1,e.x2,e.y1+d+c),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(e){return e.index}arrangeLabels(){const{options:e,labels:t}=this,n=this.labelsBetweenTicks(),s=e.vertical,o=e.labels.mirror,r=this.getLabelsTickPositions();for(let a=0;a<t.length;a++){const l=t[a],c=this.labelTickIndex(l),u=s?l.box.height():l.box.width(),h=r[c],d=r[c+1];let p,f;s?(p=n?h+(d-h)/2-u/2:h-u/2,f=p):n?(p=h,f=d):(p=h-u/2,f=p+u),this.positionLabel(l,o,p,f)}}positionLabel(e,t,n,s=n){const o=this.options,r=o.vertical,a=this.lineBox(),l=this.getActualTickSize()+o.margin;let c;if(r){let u=a.x2;t?(u+=l,e.options.rotationOrigin=Ie):(u-=l+e.box.width(),e.options.rotationOrigin=ze),c=e.box.move(u,n)}else{let u=a.y1;t?(u-=l+e.box.height(),e.options.rotationOrigin=je):(u+=l,e.options.rotationOrigin=Oe),c=new B(n,u,s,u+e.box.height())}e.reflow(c)}autoRotateLabelAngle(e,t){return e.width()<t?0:e.height()>t?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const e=this.getMajorTickPositions(),t=this.labels,n=Math.min(t.length,e.length-1);let s=0;for(let o=0;o<n;o++){const r=Math.abs(e[o+1]-e[o]),l=this.autoRotateLabelAngle(t[o].box,r);if(0!==l&&(s=l),-90===s)break}if(0!==s){for(let o=0;o<t.length;o++)t[o].options.rotation=s,t[o].reflow(new B);return!0}}arrangeTitle(){const{options:e,title:t}=this,n=e.labels.mirror;t&&(e.vertical?(t.options.align=n?ze:Ie,t.options.vAlign=t.options.position):(t.options.align=t.options.position,t.options.vAlign=n?Oe:je),t.reflow(this.box))}arrangeNotes(){for(let e=0;e<this.notes.length;e++){const t=this.notes[e],n=t.options.value;let s;N(n)?(this.shouldRenderNote(n)?t.show():t.hide(),s=this.noteSlot(n)):t.hide(),t.reflow(s||this.lineBox())}}noteSlot(e){return this.getSlot(e)}alignTo(e){const t=e.lineBox(),n=this.options.vertical,s=n?X:Y;this.box.snapTo(t,s),n?this.box.shrink(0,this.lineBox().height()-t.height()):this.box.shrink(this.lineBox().width()-t.width(),0),this.box[s+1]-=this.lineBox()[s+1]-t[s+1],this.box[s+2]-=this.lineBox()[s+2]-t[s+2]}axisLabelText(e,t,n){let s;const o=nn(t),r=()=>t.format?this.chartService.format.localeAuto(t.format,[e],t.culture):e;return s=o?o(Object.assign({},n,{get text(){return r()},value:e,format:t.format,culture:t.culture})):r(),s}slot(e,t,n){const s=this.getSlot(e,t,n);if(s)return s.toRect()}contentBox(){const e=this.box.clone(),t=this.labels;if(t.length){const n=this.options.vertical?X:Y;if(this.chartService.isPannable(n)){const s=this.maxLabelOffset();e[n+1]-=s.start,e[n+2]+=s.end}else{t[0].options.visible&&e.wrap(t[0].box);const s=t[t.length-1];s.options.visible&&e.wrap(s.box)}}return e}maxLabelOffset(){const{vertical:e,reverse:t}=this.options,n=this.labelsBetweenTicks(),s=this.getLabelsTickPositions(),o=e?X:Y,r=this.labels,a=t?1:0,l=t?0:1;let c=0,u=0;for(let h=0;h<r.length;h++){const d=r[h],p=this.labelTickIndex(d);let f,m;n?(f=s[p+a],m=s[p+l]):f=m=s[p],c=Math.max(c,f-d.box[o+1]),u=Math.max(u,d.box[o+2]-m)}return{start:c,end:u}}limitRange(e,t,n,s,o){const r=this.options;if(e<n&&o<0&&(!N(r.min)||r.min<=n)||s<t&&o>0&&(!N(r.max)||s<=r.max))return null;if(t<n&&o>0||s<e&&o<0)return{min:e,max:t};const a=t-e;let l=e,c=t;return e<n&&o<0?(l=ee(e,n,s),c=ee(e+a,n+a,s)):t>s&&o>0&&(c=ee(t,n,s),l=ee(t-a,n,s-a)),{min:l,max:c}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:e,reverse:t}=this.options;return(e?-1:1)*(t?-1:1)}lineInfo(){const{vertical:e}=this.options,t=this.lineBox(),n=e?t.height():t.width(),s=e?X:Y,o=this.lineDir(),a=s+(1===o?1:2).toString();return{axis:s,axisOrigin:a,axisDir:o,lineBox:t,lineSize:n,lineStart:t[a]}}pointOffset(e){const{axis:t,axisDir:n,axisOrigin:s,lineBox:o,lineSize:r}=this.lineInfo();return(n>0?e[t]-o[s]:o[s]-e[t])/r}scaleToDelta(e,t){const s=ee(e,-.999,.999);let o;return o=s>0?t*Math.min(1,s):t-t/(1+s),o}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}O(TR,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:wt,visible:!0},title:{visible:!0,position:ve},majorTicks:{align:jm,size:4,skip:0,step:1},minorTicks:{align:jm,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:jm,minorTickType:pC,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:wt,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const Ad=TR,vg="milliseconds",XC="seconds",ZC="minutes",Md="hours",fo="days",Pd="weeks",nl="months",qo="years",eu=6e4,xg=60*eu,Ko=24*xg,e0=7*Ko,t0=31*Ko,n0=365*Ko,mo={years:n0,months:t0,weeks:e0,days:Ko,hours:xg,minutes:eu,seconds:1e3,milliseconds:1};function s0(i,e){return i.getTime()-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*eu}function sn(i,e){return new Date(i.getTime()+e)}function Je(i){let e;return i instanceof Date?e=i:i&&(e=new Date(i)),e}function bg(i,e){return 0===e&&23===i.getHours()&&(i.setHours(i.getHours()+2),!0)}function jn(i,e,t,n){let s=i;if(i){let o=Je(i);const r=o.getHours();t===qo?(s=new Date(o.getFullYear()+e,0,1),bg(s,0)):t===nl?(s=new Date(o.getFullYear(),o.getMonth()+e,1),bg(s,r)):t===Pd?(s=jn(function(i,e=0){let t=0,n=i.getDay();if(!isNaN(n))for(;n!==e;)0===n?n=6:n--,t++;return sn(i,-t*Ko)}(o,n),7*e,fo),bg(s,r)):t===fo?(s=new Date(o.getFullYear(),o.getMonth(),o.getDate()+e),bg(s,r)):t===Md?s=function(i,e){const t=new Date(i);t.setMinutes(0,0,0);const n=(i.getTimezoneOffset()-t.getTimezoneOffset())*eu;return sn(t,n+e*xg)}(o,e):t===ZC?(s=sn(o,e*eu),s.getSeconds()>0&&s.setSeconds(0)):t===XC?s=sn(o,1e3*e):t===vg&&(s=sn(o,e)),t!==vg&&s.getMilliseconds()>0&&s.setMilliseconds(0)}return s}function o0(i,e,t){return jn(Je(i),0,e,t)}function SR(i,e,t){const n=Je(i);return n&&o0(n,e,t).getTime()===n.getTime()?n:jn(n,1,e,t)}function il(i,e){return i&&e?i.getTime()-e.getTime():-1}function go(i,e){return i.getTime()-e}function et(i){if(fn(i)){let e=[];for(let t=0;t<i.length;t++)e.push(et(i[t]));return e}if(i)return Je(i).getTime()}function r0(i,e){return i&&e?et(i)===et(e):i===e}function DR(i,e,t){return s0(i,e)/mo[t]}function sl(i,e,t,n){const s=Je(i),o=Je(e);let r;return r=t===nl?s.getMonth()-o.getMonth()+12*(s.getFullYear()-o.getFullYear())+DR(s,new Date(s.getFullYear(),s.getMonth()),fo)/new Date(s.getFullYear(),s.getMonth()+1,0).getDate():t===qo?s.getFullYear()-o.getFullYear()+sl(s,new Date(s.getFullYear(),0),nl,1)/12:t===fo||t===Pd?DR(s,o,t):go(s,e)/mo[t],r/n}function a0(i,e,t){let n;return n=t===qo?e.getFullYear()-i.getFullYear():t===nl?12*a0(i,e,qo)+e.getMonth()-i.getMonth():t===fo?Math.floor(go(e,i)/Ko):Math.floor(go(e,i)/mo[t]),n}function wn(i,e){let t;return t=Ho(e)&&i.parseDate(e)||Je(e),t}function ER(i,e){if(fn(e)){const t=[];for(let n=0;n<e.length;n++)t.push(wn(i,e[n]));return t}return wn(i,e)}function AR(i,e){return Ce(i.weekStartDay)?i.weekStartDay:e&&e.firstDay?e.firstDay():0}class Cg extends Ad{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const e=new Cg(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return e.createLabels(),e}initUserOptions(e){const t=e.categories||[],n=N(e.min),s=N(e.max);if(e.srcCategories=e.categories=t,(n||s)&&t.length){const o=n?Math.floor(e.min):0;let r;r=s?e.justified?Math.floor(e.max)+1:Math.ceil(e.max):t.length,e.categories=e.categories.slice(o,r)}return e}rangeIndices(){const e=this.options,t=e.categories.length||1,n=Ce(e.min)?e.min%1:0;let s;return s=Ce(e.max)&&e.max%1!=0&&e.max<this.totalRange().max?t-(1-e.max%1):t-(e.justified?1:0),{min:n,max:s}}totalRangeIndices(e){const t=this.options;let s,n=Ce(t.min)?t.min:0;if(s=Ce(t.max)?t.max:Ce(t.min)?n+t.categories.length:this.totalRange().max||1,e){const o=this.totalRange();n=ee(n,0,o.max),s=ee(s,0,o.max)}return{min:n,max:s}}range(){const e=this.options;return{min:Ce(e.min)?e.min:0,max:Ce(e.max)?e.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const e=this.options;return{min:0,max:Math.max(this._seriesMax||0,e.srcCategories.length)-(e.justified?1:0)}}scaleOptions(){const{min:e,max:t}=this.rangeIndices(),n=this.lineBox();return{scale:(this.options.vertical?n.height():n.width())/(t-e||1)*(this.options.reverse?-1:1),box:n,min:e,max:t}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:e,labels:t}=this;if(t.length>0){const n=this.options.vertical?X:Y,s=e[n+1],o=e[n+2],r=t[0],a=St(t);(r.box[n+1]>o||r.box[n+2]<s)&&(r.options.visible=!1),(a.box[n+1]>o||a.box[n+2]<s)&&(a.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(e){const{min:t,max:n}=this.rangeIndices(),s=Math.ceil(n);let o=Math.floor(t);const r=[];for(;o<=s;)r.push(o),o+=e;return r}getTickPositions(e){const{vertical:t,reverse:n}=this.options,{scale:s,box:o,min:r}=this.scaleOptions(),a=o[(t?X:Y)+(n?2:1)],l=this.tickIndices(e),c=[];for(let u=0;u<l.length;u++)c.push(a+V(s*(l[u]-r),3));return c}getTicks(){const e=this.options,t=this._ticks,n=this.rangeIndices(),s=this.lineBox(),o=s.getHash()+n.min+","+n.max+e.reverse+e.justified;if(t._hash!==o){const r=e.minorTicks.visible||e.minorGridLines.visible;t._hash=o,t.labelTicks=this.getTickPositions(1),t.majorTicks=this.filterOutOfRangePositions(t.labelTicks,s),t.minorTicks=r?this.filterOutOfRangePositions(this.getTickPositions(.5),s):[]}return t}filterOutOfRangePositions(e,t){if(!e.length)return e;const n=this.options.vertical?X:Y,s=l=>t[n+1]<=l&&l<=t[n+2],o=e.length-1;let r=0;for(;!s(e[r])&&r<=o;)r++;let a=o;for(;!s(e[a])&&a>=0;)a--;return e.slice(r,a+1)}lineInfo(){const{vertical:e,reverse:t}=this.options,n=this.lineBox(),s=e?n.height():n.width(),o=e?X:Y,r=t?-1:1,l=o+(1===r?1:2).toString();return{axis:o,axisOrigin:l,axisDir:r,lineBox:n,lineSize:s,lineStart:n[l]}}lineDir(){const{reverse:e}=this.options;return e?-1:1}getSlot(e,t,n){const s=this.options,{reverse:o,justified:r}=s,{scale:a,box:l,min:c}=this.scaleOptions(),{axis:u,lineStart:h}=this.lineInfo(),d=l.clone(),p=!N(t),f=de(e,0);let m=de(t,f);m=Math.max(m-1,f),m=Math.max(f,m);let g=h+(f-c)*a,v=h+(m+1-c)*a;return p&&r&&(v=g),n&&(g=ee(g,l[u+1],l[u+2]),v=ee(v,l[u+1],l[u+2])),d[u+1]=o?v:g,d[u+2]=o?g:v,d}limitSlot(e){const n=this.options.vertical?X:Y,s=this.lineBox(),o=e.clone();return o[n+1]=ee(e[n+1],s[n+1],s[n+2]),o[n+2]=ee(e[n+2],s[n+1],s[n+2]),o}slot(e,t,n){const s=Math.floor(this.options.min||0);let o=e,r=t;return"string"==typeof o?o=this.categoryIndex(o):Ce(o)&&(o-=s),"string"==typeof r?r=this.categoryIndex(r):Ce(r)&&(r-=s),super.slot(o,r,n)}pointCategoryIndex(e){const{reverse:t,justified:n,vertical:s}=this.options,o=s?X:Y,{scale:r,box:a,min:l,max:c}=this.scaleOptions(),h=a[o+1],p=e[o];if(p<h||p>a[o+2])return null;let f=(t?c:l)+(p-h)/r;const m=f%1;return n?f=Math.round(f):0===m&&f>0&&f--,Math.floor(f)}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]}categoryIndex(e){return this.totalIndex(e)-Math.floor(this.options.min||0)}categoryAt(e,t){const n=this.options;return(t?n.srcCategories:n.categories)[e]}categoriesCount(){return(this.options.categories||[]).length}translateRange(e){const t=this.options,n=this.lineBox(),s=t.vertical?n.height():n.width(),o=t.categories.length,a=V(e/(s/o),10);return{min:a,max:o+a}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),s=this.totalRangeIndices(),r=this.scaleToDelta(e,s.max-s.min),c=s.min+n*r;let u=s.max-(1-n)*r;return u-c<.1&&(u=c+.1),{min:c,max:u}}zoomRange(e,t){const{min:n,max:s}=this.totalRange(),o=this.scaleRange(e,t);return{min:ee(o.min,n,s),max:ee(o.max,n,s)}}labelsCount(){const e=this.labelsRange();return e.max-e.min}labelsRange(){const e=this.options,{justified:t,labels:n}=e;let{min:s,max:o}=this.totalRangeIndices(!0);const r=Math.floor(s);let a;return t?(s=Math.ceil(s),o=Math.floor(o)):(s=Math.floor(s),o=Math.ceil(o)),a=s>n.skip?n.skip+n.step*Math.ceil((s-n.skip)/n.step):n.skip,{min:a-r,max:(e.categories.length?o+(t?1:0):0)-r}}createAxisLabel(e,t,n){const s=this.options,o=s.dataItems?s.dataItems[e]:null,r=de(s.categories[e],"");n.dataItem=o;const a=this.axisLabelText(r,t,n);return new tl(r,a,e,o,t)}shouldRenderNote(e){const t=this.totalRangeIndices();return Math.floor(t.min)<=e&&e<=Math.ceil(t.max)}noteSlot(e){const n=e-Math.floor(this.options.min||0);return this.getSlot(n)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:e,box:t}=this;if(e&&e.length){const n=this.options.vertical?X:Y,s=t[n+1],o=t[n+2];for(let r=0;r<e.length;r++){const a=e[r];a.box&&(o<a.box[n+1]||a.box[n+2]<s)&&a.hide()}}}pan(e){const t=this.totalRangeIndices(!0),{scale:n}=this.scaleOptions(),s=V(e/n,10),o=this.totalRange();return this.limitRange(t.min+s,t.max+s,0,o.max,s)}pointsRange(e,t){const{reverse:n,vertical:s}=this.options,o=s?X:Y,r=this.totalRangeIndices(!0),{scale:a,box:l}=this.scaleOptions(),c=l[o+(n?2:1)],d=r.min+(e[o]-c)/a,p=r.min+(t[o]-c)/a,f=Math.min(d,p),m=Math.max(d,p);if(m-f>=.01)return{min:f,max:m}}valueRange(){return this.range()}totalIndex(e){const t=this.options;return this._categoriesMap?this._categoriesMap.get(e):function(i,e){if(i instanceof Date){const t=e.length;for(let n=0;n<t;n++)if(r0(e[n],i))return n;return-1}return e.indexOf(i)}(e,t.srcCategories)}currentRangeIndices(){const e=this.options;let n,t=0;return Ce(e.min)&&(t=Math.floor(e.min)),n=Ce(e.max)?e.justified?Math.floor(e.max):Math.ceil(e.max)-1:this.totalCount()-1,{min:t,max:n}}mapCategories(){if(!this._categoriesMap){const e=this._categoriesMap=new nk,t=this.options.srcCategories;for(let n=0;n<t.length;n++)e.set(t[n],n)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}O(Cg,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:wt},labels:{zIndex:1},justified:!1,_deferLabels:!0});const Yo=Cg,IR={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Qo=[vg,XC,ZC,Md,fo,Pd,nl,qo],wg="fit";function Tg(i){let e=i._range;return e||(e=i._range=DC(i),e.min=Je(e.min),e.max=Je(e.max)),e}class WX{constructor(e){this.options=e}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class l0{constructor(e,t,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;const{roundToBaseUnit:s,justified:o}=n;this.start=jn(e,0,n.baseUnit,n.weekStartDay);const r=this.roundToTotalStep(t),a=!o&&r0(t,r)&&!n.justifyEnd;this.end=this.roundToTotalStep(t,!o,a?1:0);const l=n.min||e;this.valueStart=this.roundToTotalStep(l),this.displayStart=s?this.valueStart:l;const c=n.max;if(c){const u=!o&&r0(c,this.roundToTotalStep(c))?-1:0;this.valueEnd=this.roundToTotalStep(c,!1,u),this.displayEnd=s?this.roundToTotalStep(c,!o):n.max}else this.valueEnd=r,this.displayEnd=s||a?this.end:t;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const e=this.options,{baseUnit:t,baseUnitStep:n}=e,s=sl(this.displayStart,this.valueStart,t,n),o=sl(this.displayEnd,this.valueStart,t,n);this._indices={min:s,max:o}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(e){const t=this.options;return Math.floor(sl(e,this.valueStart,t.baseUnit,t.baseUnitStep))}totalIndex(e){const t=this.options;return Math.floor(sl(e,this.start,t.baseUnit,t.baseUnitStep))}dateIndex(e){const t=this.options;return sl(e,this.valueStart,t.baseUnit,t.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let e=this._values;if(!e){const t=this.options,n=this.valueRange();this._values=e=[];for(let s=n.min;s<=n.max;)e.push(s),s=jn(s,t.baseUnitStep,t.baseUnit,t.weekStartDay)}return e}dateAt(e,t){const n=this.options;return jn(t?this.start:this.valueStart,n.baseUnitStep*e,n.baseUnit,n.weekStartDay)}roundToTotalStep(e,t,n){const{baseUnit:s,baseUnitStep:o,weekStartDay:r}=this.options,a=this.start,l=sl(e,a,s,o);let c=t?Math.ceil(l):Math.floor(l);return n&&(c+=n),jn(a,c*o,s,r)}}function kR(i,e,t){const n=Tg(i.categories),s=(i.max||n.max)-(i.min||n.min),{autoBaseUnitSteps:o,maxDateGroups:r}=i,a=i.baseUnit===wg;let d,p,f,l=e?Qo.indexOf(e):0,c=a?Qo[l++]:i.baseUnit,u=s/mo[c],h=u;for(;!p||u>=r;){d=d||o[c].slice(0);do{f=d.shift()}while(f&&e===c&&f<t);if(f)p=f,u=h/p;else{if(c===St(Qo)){p=Math.ceil(h/r);break}if(!a){u>r&&(p=Math.ceil(h/r));break}c=Qo[l++]||St(Qo),h=s/mo[c],d=null}}i.baseUnitStep=p,i.baseUnit=c}class Sg extends Yo{clone(){const e=new Sg(Object.assign({},this.options),this.chartService);return e.createLabels(),e}categoriesHash(){const e=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+e}initUserOptions(e){return e}initFields(){super.initFields();const e=this.chartService,t=e.intl;let n=this.options,s=n.categories||[];if(s._parsed||(s=ER(t,s),s._parsed=!0),n=w({roundToBaseUnit:!0},n,{categories:s,min:wn(t,n.min),max:wn(t,n.max),weekStartDay:AR(n,t)}),e.panning&&e.isPannable(n.vertical?X:Y)&&(n.roundToBaseUnit=!1),n.userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,this.options=n,n.srcCategories=s,s.length>0){const o=Tg(s),r=n.maxDivisions;if(this.dataRange=new l0(o.min,o.max,function(i){const e=(i.baseUnit||"").toLowerCase();return e!==wg&&!Se(e,Qo)&&function(i){const e=i.categories,t=N(e)?e.length:0;let s,o,n=Tt;for(let r=0;r<t;r++){const a=e[r];if(a&&s){const l=s0(a,s);l>0&&(n=Math.min(n,l),o=n>=n0?qo:n>=t0-3*Ko?nl:n>=e0?Pd:n>=Ko?fo:n>=xg?Md:n>=eu?ZC:XC)}s=a}i.baseUnit=o||fo}(i),(e===wg||"auto"===i.baseUnitStep)&&kR(i),i}(n)),r){const a=this.dataRange.displayRange(),l=Object.assign({},n,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:a.min,max:a.max,maxDateGroups:r}),c=this.dataRange.options;kR(l,c.baseUnit,c.baseUnitStep),this.divisionRange=new l0(o.min,o.max,l)}else this.divisionRange=this.dataRange}else n.baseUnit=n.baseUnit||fo,this.dataRange=this.divisionRange=new WX(n);this.rangeLabels=[]}tickIndices(e){const{dataRange:t,divisionRange:n}=this,s=n.valuesCount();if(!this.options.maxDivisions||!s)return super.tickIndices(e);const o=[];let r=n.values(),a=0;this.options.justified||(r=r.concat(n.dateAt(s)),a=.5);for(let l=0;l<r.length;l++)if(o.push(t.dateIndex(r[l])+a),1!==e&&l>=1){const c=o.length-1;o.splice(l,0,o[c-1]+(o[c]-o[c-1])*e)}return o}shouldRenderNote(e){const t=this.range(),n=this.options.categories||[];return il(e,t.min)>=0&&il(e,t.max)<=0&&n.length}parseNoteValue(e){return wn(this.chartService.intl,e)}noteSlot(e){return this.getSlot(e)}translateRange(e){const t=this.options,{baseUnit:n,weekStartDay:s,vertical:o}=t,r=this.lineBox(),a=o?r.height():r.width();let l=this.range();const u=V(e/(a/(l.max-l.min)),10);if(l.min&&l.max){const h=sn(t.min||l.min,u),d=sn(t.max||l.max,u);l={min:jn(h,0,n,s),max:jn(d,0,n,s)}}return l}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(e){if(this.isEmpty())return null;const t=this.options,n=this.lineBox(),s=t.vertical?n.height():n.width(),{min:o,max:r}=this.dataRange.displayRange(),a=this.dataRange.total(),c=V(e/(s/(r-o)),10)*(t.reverse?-1:1),u=sn(o,c),h=sn(r,c),d=this.limitRange(et(u),et(h),et(a.min),et(a.max),c);return d?(d.min=Je(d.min),d.max=Je(d.max),d.baseUnit=t.baseUnit,d.baseUnitStep=t.baseUnitStep||1,d.userSetBaseUnit=t.userSetBaseUnit,d.userSetBaseUnitStep=t.userSetBaseUnitStep,d):void 0}pointsRange(e,t){if(this.isEmpty())return null;const n=super.pointsRange(e,t),s=this.dataRange.displayRange(),o=this.dataRange.displayIndices(),r=go(s.max,s.min)/(o.max-o.min),a=this.options;return{min:sn(s.min,n.min*r),max:sn(s.min,n.max*r),baseUnit:a.userSetBaseUnit||a.baseUnit,baseUnitStep:a.userSetBaseUnitStep||a.baseUnitStep}}scaleRange(e,t){if(this.isEmpty())return{};const n=this.options,s=n.userSetBaseUnit===wg,o=this.dataRange.total(),{min:r,max:a}=this.dataRange.displayRange(),l=Math.abs(this.pointOffset(t)),u=this.scaleToDelta(e,a-r),h=Math.round(l*u),d=Math.round((1-l)*u);let{baseUnit:p}=this.dataRange.options,f=new Date(r.getTime()+h),m=new Date(a.getTime()-d);if(s){const{autoBaseUnitSteps:g,maxDateGroups:v}=n,x=St(g[p])*v*mo[p],S=go(a,r),M=go(m,f);let K,J,L=Qo.indexOf(p);if(M<mo[p]&&p!==vg)p=Qo[L-1],K=St(g[p]),J=(S-(v-1)*K*mo[p])/2,f=sn(r,J),m=sn(a,-J);else if(M>x&&p!==qo){let we=0;do{L++,p=Qo[L],we=0,J=2*mo[p];do{K=g[p][we],we++}while(we<g[p].length&&J*K<S)}while(p!==qo&&J*K<S);J=(J*K-S)/2,J>0&&(f=sn(r,-J),m=sn(a,J),f=sn(f,ee(m,o.min,o.max)-m),m=sn(m,ee(f,o.min,o.max)-f))}}return f&&m&&go(m,f)>0?{min:f,max:m,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0}zoomRange(e,t){const n=this.dataRange.total(),s=this.scaleRange(e,t);return s&&(s.min<n.min&&(s.min=n.min),s.max>n.max&&(s.max=n.max)),s}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:e,rangeLabels:t}=this;if(0===t.length)return;const n=this.lineBox(),s=e.vertical,o=e.rangeLabels.mirror||e.labels.mirror,r=t[0];if(r){const l=s?n.y1-r.box.height()/2:n.x1;this.positionLabel(r,o,l)}const a=t[1];if(a){const l=s?n.y2-a.box.height()/2:n.x2;this.positionLabel(a,o,l)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:e,labels:t}=this;if(0===e.length)return;function n(r,a){return!(a.options.visible&&!a.box.overlaps(r.box)||(a.options.visible=!1,0))}const s=e[0];if(s&&s.options.visible)for(let r=0;r<t.length&&n(s,t[r]);r++);const o=e[1];if(o&&o.options.visible)for(let r=t.length-1;r>0&&n(o,t[r]);--r);}contentBox(){const e=super.contentBox(),t=this.rangeLabels;for(let n=0;n<t.length;n++){const s=t[n];s.options.visible&&e.wrap(s.box)}return e}createAxisLabel(e,t,n={}){const s=this.options,o=s.dataItems&&!s.maxDivisions?s.dataItems[e]:null,r=this.divisionRange.dateAt(e);t.format=t.format||t.dateFormats[this.divisionRange.options.baseUnit],n.dataItem=o;const l=this.axisLabelText(r,t,n);if(l)return new tl(r,l,e,o,t)}createRangeLabels(){const{displayStart:e,displayEnd:t}=this.divisionRange,n=this.options,s=Object.assign({},n.labels,n.rangeLabels,{align:ve,zIndex:n.zIndex});if(!0!==s.visible)return;this.normalizeLabelRotation(s),s.alignRotation=ve,"auto"===s.rotation&&(s.rotation=0,n.autoRotateRangeLabels=!0),s.format=s.format||s.dateFormats[this.divisionRange.options.baseUnit];const r=(c,u,h)=>{if(h){const d=new tl(u,h,c,null,s);this.append(d),this.rangeLabels.push(d)}};r(0,e,this.axisLabelText(e,s,{index:0,count:2})),r(1,t,this.axisLabelText(t,s,{index:1,count:2}))}autoRotateRangeLabels(){const e=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==e.length)return;const t=(s,o,r)=>{const a=2*Math.abs(o[r+1]-o[r]),l=this.autoRotateLabelAngle(s.box,a);0!==l&&(s.options.rotation=l,s.reflow(new B))},n=this.getMajorTickPositions();t(e[0],n,0),t(e[1],n,n.length-2)}categoryIndex(e){return this.dataRange.valueIndex(e)}slot(e,t,n){const s=this.dataRange;let o=e,r=t;o instanceof Date&&(o=s.dateIndex(o)),r instanceof Date&&(r=s.dateIndex(r));const a=this.getSlot(o,r,n);if(a)return a.toRect()}getSlot(e,t,n){let s=e,o=t;return typeof s===fC&&(s=this.categoryIndex(s)),typeof o===fC&&(o=this.categoryIndex(o)),super.getSlot(s,o,n)}valueRange(){const t=Tg(this.options.srcCategories);return{min:Je(t.min),max:Je(t.max)}}categoryAt(e,t){return this.dataRange.dateAt(e,t)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(e){const t=this.pointCategoryIndex(e);return null===t?null:this.dataRange.dateAt(t)}totalIndex(e){return this.dataRange.totalIndex(e)}currentRangeIndices(){const e=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(e.min),max:this.dataRange.totalIndex(e.max)}}totalRange(){return this.dataRange.total()}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const e=this.options,t=Tg(e.srcCategories);return new l0(t.min,t.max,Object.assign({},e,{justified:!1,roundToBaseUnit:!0,justifyEnd:e.justified})).displayRange()}}O(Sg,{type:Vr,labels:{dateFormats:IR},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const Id=Sg;function RR(i,e){return V(Math.floor(i/e)*e,10)}function Dg(i,e){return V(Math.ceil(i/e)*e,10)}function Eg(i){return Math.max(Math.min(i,3e5),-3e5)}const c0=Math.pow(10,-9);class Ag extends Ad{constructor(e,t,n,s){super(Object.assign({},n,{seriesMin:e,seriesMax:t}),s)}initUserOptions(e){const t=function(i,e,t){const n=t.narrowRange;let s=function(i,e,t){if(!i&&!e)return 0;let n;if(i>=0&&e>=0){const s=i===e?0:i;let o=(e-s)/e;if(!1===t||!t&&o>.2)return 0;n=Math.max(0,s-(e-s)/2)}else n=i;return n}(i,e,n),o=function(i,e,t){if(!i&&!e)return 1;let n;if(i<=0&&e<=0){const s=i===e?0:e;let o=Math.abs((s-i)/s);if(!1===t||!t&&o>.2)return 0;n=Math.min(0,s-(i-s)/2)}else n=e;return n}(i,e,n);const r=bd(s,o),a={majorUnit:r};return!1!==t.roundToMajorUnit&&(s<0&&OR(s,r,1/3)&&(s-=r),o>0&&OR(o,r,1/3)&&(o+=r)),a.min=RR(s,r),a.max=Dg(o,r),a}(e.seriesMin,e.seriesMax,e);return this.totalOptions=function(i,e){return{min:N(e.min)?Math.min(i.min,e.min):i.min,max:N(e.max)?Math.max(i.max,e.max):i.max,majorUnit:i.majorUnit}}(t,e),function(i,e){let n,s,t=e;if(e){(function(i,e){for(let t=0;t<e.length;t++){const n=e[t];null===i[n]&&(i[n]=void 0)}})(e,["min","max"]),n=N(e.min),s=N(e.max);const r=n||s;r&&e.min===e.max&&(e.min>0?e.min=0:e.max=1),e.majorUnit?(i.min=RR(i.min,e.majorUnit),i.max=Dg(i.max,e.majorUnit)):r&&(t=w(i,e),i.majorUnit=bd(t.min,t.max))}i.minorUnit=(t.majorUnit||i.majorUnit)/5;const o=w(i,t);return o.min>=o.max&&(n&&!s?o.max=o.min+o.majorUnit:!n&&s&&(o.min=o.max-o.majorUnit)),o}(t,e)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new Ag(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){if(0===e)return 1;const t=this.options;return Math.floor(V((t.max-t.min)/e,3))+1}getTickPositions(e,t){const n=this.options,{axisDir:s,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo(),u=e*(a/(n.max-n.min)),h=this.getDivisions(e),d=[];let p=r[o],f=0;t&&(f=t/e);for(let m=0;m<h;m++)m%f!=0&&d.push(V(p,3)),p+=u*s;return d}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,n=!1){const s=this.options,{axis:o,axisDir:r,lineBox:a,lineSize:l,lineStart:c}=this.lineInfo(),u=r*(l/(s.max-s.min));let h=de(e,t||0),d=de(t,e||0);n&&(h=ee(h,s.min,s.max),d=ee(d,s.min,s.max));const p=Math.min(h,d)-s.min,f=Math.max(h,d)-s.min,m=new B(a.x1,a.y1,a.x1,a.y1);return m[o+1]=Eg(c+u*(r>0?p:f)),m[o+2]=Eg(c+u*(r>0?f:p)),m}getValue(e){const t=this.options,n=Number(t.max),s=Number(t.min),o=this.pointOffset(e);return o<0||o>1?null:V(s+o*(n-s),10)}translateRange(e){const t=this.options,{vertical:n,reverse:s,max:o,min:r}=t,{lineSize:a}=this.lineInfo();let u=V(e/(a/(o-r)),10);return(n||s)&&!(n&&s)&&(u=-u),{min:r+u,max:o+u,offset:u}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,n){const s=this.options,o=V(s.min+e*s.majorUnit,10),r=this.axisLabelText(o,t,n);return new tl(o,r,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const n=this.getValue(e),s=this.getValue(t),o=Math.min(n,s),r=Math.max(n,s);if(this.isValidRange(o,r))return{min:o,max:r}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),o=this.scaleToDelta(e,this.options.max-this.options.min),a=(1-n)*o,l=V(this.options.min+n*o,10);let c=V(this.options.max-a,10);return c-l<c0&&(c=l+c0),{min:l,max:c}}zoomRange(e,t){const{totalMin:n,totalMax:s}=this,o=this.scaleRange(e,t);return{min:ee(o.min,n,s),max:ee(o.max,n,s),narrowRange:!1}}isValidRange(e,t){return t-e>c0}}function OR(i,e,t){const n=V(Math.abs(i%e),10);return 0===n||n>e*(1-t)}O(Ag,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:wt},labels:{format:"#.####################"},zIndex:1});const ns=Ag;class Mg extends Ad{constructor(e,t,n,s){const o=Je(e),r=Je(t),a=s.intl;let l=n||{};l=w(l||{},{min:wn(a,l.min),max:wn(a,l.max),axisCrossingValue:ER(a,l.axisCrossingValues||l.axisCrossingValue),weekStartDay:AR(l,a)}),l=function(i,e,t){const n=t.min||i,s=t.max||e,o=t.baseUnit||(s&&n?function(i){let e=Md;return i>=n0?e=qo:i>=t0?e=nl:i>=e0?e=Pd:i>=Ko&&(e=fo),e}(s0(s,n)):Md),r=mo[o],a=t.weekStartDay||0,l=o0(et(n)-1,o,a)||Je(s),c=SR(et(s)+1,o,a),h=(t.majorUnit?t.majorUnit:void 0)||Dg(bd(l.getTime(),c.getTime()),r)/r,d=a0(l,c,o),f=Dg(d,h)-d,m=Math.floor(f/2),g=f-m;return t.baseUnit||delete t.baseUnit,t.baseUnit=t.baseUnit||o,t.min=t.min||jn(l,-m,o,a),t.max=t.max||jn(c,g,o,a),t.minorUnit=t.minorUnit||h/5,t.majorUnit=h,t}(o,r,l),super(l,s),this.intlService=a,this.seriesMin=o,this.seriesMax=r;const c=l.weekStartDay||0;this.totalMin=et(o0(et(o)-1,l.baseUnit,c)),this.totalMax=et(SR(et(r)+1,l.baseUnit,c))}clone(){return new Mg(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const e=this.options;return{min:e.min,max:e.max}}getDivisions(e){const t=this.options;return Math.floor(a0(t.min,t.max,t.baseUnit)/e+1)}getTickPositions(e){const t=this.options,{axisDir:n,lineSize:s,lineStart:o}=this.lineInfo(),r=this.getDivisions(e),l=s/go(t.max,t.min),c=t.weekStartDay||0,u=[o];for(let h=1;h<r;h++){const p=o+go(jn(t.min,h*e,t.baseUnit,c),t.min)*l*n;u.push(V(p,3))}return u}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(e,t,n){return ns.prototype.getSlot.call(this,wn(this.intlService,e),wn(this.intlService,t),n)}getValue(e){const t=ns.prototype.getValue.call(this,e);return null!==t?Je(t):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(e,t,n){const s=this.options,o=e*s.majorUnit;let a=s.min;o>0&&(a=jn(a,o,s.baseUnit,s.weekStartDay||0)),t.format=t.format||t.dateFormats[s.baseUnit];const c=this.axisLabelText(a,t,n);return new tl(a,c,e,null,t)}translateRange(e){const t=this.options,n=this.lineBox(),{vertical:s,reverse:o}=t,r=s?n.height():n.width(),a=this.range(),l=r/go(a.max,a.min);let c=V(e/l,10);return(s||o)&&(!s||!o)&&(c=-c),{min:sn(t.min,c),max:sn(t.max,c),offset:c}}shouldRenderNote(e){const t=this.range();return il(e,t.min)>=0&&il(e,t.max)<=0}pan(e){const t=this.translateRange(e,!0),n=this.limitRange(et(t.min),et(t.max),this.totalMin,this.totalMax,t.offset);if(n)return{min:Je(n.min),max:Je(n.max)}}pointsRange(e,t){const n=this.getValue(e),s=this.getValue(t),o=Math.min(n,s),r=Math.max(n,s);return{min:Je(o),max:Je(r)}}scaleRange(e,t){const n=Math.abs(this.pointOffset(t)),o=this.scaleToDelta(e,this.options.max-this.options.min),r=n*o,a=(1-n)*o,l=Je(et(this.options.min)+r);let c=Je(et(this.options.max)-a);return c-l<1e3&&(c=Je(et(l)+1e3)),{min:l,max:c}}zoomRange(e,t){const n=this.scaleRange(e,t);return{min:Je(ee(et(n.min),this.totalMin,this.totalMax)),max:Je(ee(et(n.max),this.totalMin,this.totalMax))}}}O(Mg,{type:Vr,majorGridLines:{visible:!0,width:1,color:wt},labels:{dateFormats:IR}});const FR=Mg;class Pg extends Ad{constructor(e,t,n,s){const o=w({majorUnit:10,min:e,max:t},n),r=o.majorUnit,a=function(i,e){const t=V(Fs(i,e),10)%1;let n;return n=i<=0?e:0!==t&&(t<.3||t>.9)?Math.pow(e,Fs(i,e)+.2):Math.pow(e,Math.ceil(Fs(i,e))),n}(t,r),l=function(i,e,t){const n=t.majorUnit;let s=i;return i<=0?s=e<=1?Math.pow(n,-2):1:t.narrowRange||(s=Math.pow(n,Math.floor(Fs(i,n)))),s}(e,t,o),c=function(i,e,t,n){let{min:s,max:o}=t;return N(t.axisCrossingValue)&&t.axisCrossingValue<=0&&u0(),N(n.max)?n.max<=0&&u0():o=e,N(n.min)?n.min<=0&&u0():s=i,{min:s,max:o}}(l,a,o,n);o.max=c.max,o.min=c.min,o.minorUnit=n.minorUnit||V(r-1,10),super(o,s),this.totalMin=N(n.min)?Math.min(l,n.min):l,this.totalMax=N(n.max)?Math.max(a,n.max):a,this.logMin=V(Fs(c.min,r),10),this.logMax=V(Fs(c.max,r),10),this.seriesMin=e,this.seriesMax=t,this.createLabels()}clone(){return new Pg(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(e,t,n){const{options:s,logMin:o,logMax:r}=this,{majorUnit:a,min:l,max:c}=s,{axis:u,axisDir:h,lineBox:d,lineSize:p,lineStart:f}=this.lineInfo(),m=h*(p/(r-o));let g=de(e,t||1),v=de(t,e||1);if(g<=0||v<=0)return null;n&&(g=ee(g,l,c),v=ee(v,l,c)),g=Fs(g,a),v=Fs(v,a);const x=Math.min(g,v)-o,S=Math.max(g,v)-o,M=new B(d.x1,d.y1,d.x1,d.y1);return M[u+1]=Eg(f+m*(h>0?x:S)),M[u+2]=Eg(f+m*(h>0?S:x)),M}getValue(e){const{options:t,logMin:n,logMax:s}=this,{majorUnit:o}=t,{axis:r,axisDir:a,lineStart:l,lineSize:c}=this.lineInfo(),h=a*(e[r]-l);return h<0||h>c?null:V(Math.pow(o,n+h*((s-n)/c)),10)}range(){const e=this.options;return{min:e.min,max:e.max}}translateRange(e){const{options:t,logMin:n,logMax:s}=this,{reverse:o,vertical:r,majorUnit:a}=t,l=this.lineBox(),u=(r?l.height():l.width())/(s-n);let h=V(e/u,10);return(r||o)&&!(r&&o)&&(h=-h),{min:Math.pow(a,n+h),max:Math.pow(a,s+h),offset:h}}labelsCount(){const e=Math.floor(this.logMax);return Math.floor(e-this.logMin)+1}getMajorTickPositions(){const e=[];return this.traverseMajorTicksPositions(t=>{e.push(t)},{step:1,skip:0}),e}createTicks(e){const t=this.options,{majorTicks:n,minorTicks:s,vertical:o}=t,r=t.labels.mirror,a=this.lineBox(),c={vertical:o};function u(h,d){c.tickX=r?a.x2:a.x2-d.size,c.tickY=r?a.y1-d.size:a.y1,c.position=h,e.append(CR(c,d))}return n.visible&&this.traverseMajorTicksPositions(u,n),s.visible&&this.traverseMinorTicksPositions(u,s),[]}createGridLines(e){const t=this.options,{minorGridLines:n,majorGridLines:s,vertical:o}=t,r=e.lineBox(),a={lineStart:r[o?"x1":"y1"],lineEnd:r[o?"x2":"y2"],vertical:o},l=[],c=this.gridLinesVisual();function u(h,d){Se(h,l)||(a.position=h,c.append(wR(a,d)),l.push(h))}return s.visible&&this.traverseMajorTicksPositions(u,s),n.visible&&this.traverseMinorTicksPositions(u,n),c.children}traverseMajorTicksPositions(e,t){const{lineStart:n,step:s}=this.lineInfo(),{logMin:o,logMax:r}=this;for(let a=Math.ceil(o)+t.skip;a<=r;a+=t.step)e(V(n+s*(a-o),10),t)}traverseMinorTicksPositions(e,t){const{min:n,max:s,minorUnit:o,majorUnit:r}=this.options,{lineStart:a,step:l}=this.lineInfo(),{logMin:c,logMax:u}=this;for(let d=Math.floor(c);d<u;d++){const p=this._minorIntervalOptions(d);for(let f=t.skip;f<o;f+=t.step){const m=p.value+f*p.minorStep;if(m>s)break;m>=n&&e(V(a+l*(Fs(m,r)-c),10),t)}}}createAxisLabel(e,t,n){const s=Math.ceil(this.logMin+e),o=Math.pow(this.options.majorUnit,s),r=this.axisLabelText(o,t,n);return new tl(o,r,e,null,t)}shouldRenderNote(e){const t=this.range();return t.min<=e&&e<=t.max}pan(e){const t=this.translateRange(e);return this.limitRange(t.min,t.max,this.totalMin,this.totalMax,t.offset)}pointsRange(e,t){const n=this.getValue(e),s=this.getValue(t);return{min:Math.min(n,s),max:Math.max(n,s)}}scaleRange(e,t){const{majorUnit:n}=this.options,s=Fs(this.options.min,n),o=Fs(this.options.max,n),r=Math.abs(this.pointOffset(t)),l=this.scaleToDelta(e,o-s),c=Math.pow(n,s+r*l);let u=Math.pow(n,o-(1-r)*l);return u-c<1e-6&&(u=c+1e-6),{min:c,max:u}}zoomRange(e,t){const n=this.scaleRange(e,t),{totalMin:s,totalMax:o}=this;return{min:ee(n.min,s,o),max:ee(n.max,s,o)}}_minorIntervalOptions(e){const{minorUnit:t,majorUnit:n}=this.options,s=Math.pow(n,e);return{value:s,minorStep:(Math.pow(n,e+1)-s)/t}}lineInfo(){const e=super.lineInfo();return e.step=e.axisDir*(e.lineSize/(this.logMax-this.logMin)),e}}function u0(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Fs(i,e){return Math.log(i)/Math.log(e)}O(Pg,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:wt},zIndex:1,_deferLabels:!0});const Ig=Pg,zR={createGridLines:function(i){const e=this.options,t=Math.abs(this.box.center().y-i.lineBox().y1);let o,r,n=[],s=!1;return e.majorGridLines.visible&&(o=this.majorGridLineAngles(i),s=!0,n=this.renderMajorGridLines(o,t,e.majorGridLines)),e.minorGridLines.visible&&(r=this.minorGridLineAngles(i,s),Qa(n,this.renderMinorGridLines(r,t,e.minorGridLines,i,s))),n},renderMajorGridLines:function(i,e,t){return this.renderGridLines(i,e,t)},renderMinorGridLines:function(i,e,t,n,s){const o=this.radiusCallback&&this.radiusCallback(e,n,s);return this.renderGridLines(i,e,t,o)},renderGridLines:function(i,e,t,n){const s={stroke:{width:t.width,color:t.color,dashType:t.dashType}},o=this.box.center(),r=new ts([o.x,o.y],e),a=this.gridLinesVisual();for(let l=0;l<i.length;l++){const c=new ne(s);n&&(r.radius=n(i[l])),c.moveTo(r.center).lineTo(r.pointAt(i[l]+180)),a.append(c)}return a.children},gridLineAngles:function(i,e,t,n,s){const o=this.intervals(e,t,n,s),r=i.options,a=r.visible&&!1!==(r.line||{}).visible;return sk(o,l=>{const c=this.intervalAngle(l);if(!a||90!==c)return c})}};class h0 extends Yo{range(){return{min:0,max:this.options.categories.length}}reflow(e){this.box=e,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:e,options:{labels:t}}=this,n=t.skip||0,s=t.step||1,o=new B;for(let r=0;r<e.length;r++){e[r].reflow(o);const a=e[r].box;e[r].reflow(this.getSlot(n+r*s).adjacentBox(0,a.width(),a.height()))}}intervals(e,t,n,s=!1){const o=this.options,a=o.categories.length/e||1,l=360/a,u=n||1,h=[];let d=0;for(let p=t||0;p<a;p+=u)d=o.reverse?360-p*l:p*l,d=V(d,3)%360,s&&Se(d,s)||h.push(d);return h}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(e){return(360+e+this.options.startAngle)%360}majorAngles(){return sk(this.majorIntervals(),e=>this.intervalAngle(e))}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,1,t.skip,t.step)}minorGridLineAngles(e,t){const{minorGridLines:n,majorGridLines:s}=this.options,o=t?this.intervals(1,s.skip,s.step):null;return this.gridLineAngles(e,.5,n.skip,n.step,o)}radiusCallback(e,t,n){if(t.options.type!==Fr){const s=Bt(360/(2*this.options.categories.length)),o=Math.cos(s)*e,r=this.majorAngles();return function(l){return!n&&Se(l,r)?e:o}}}createPlotBands(){const e=this.options.plotBands||[],t=this._plotbandGroup=new st({zIndex:-1});for(let n=0;n<e.length;n++){const s=e[n],o=this.plotBandSlot(s),r=this.getSlot(s.from),a=s.from-Math.floor(s.from);o.startAngle+=a*r.angle;const l=Math.ceil(s.to)-s.to;o.angle-=(l+a)*r.angle;const c=dg.current.createRing(o,{fill:{color:s.color,opacity:s.opacity},stroke:{opacity:s.opacity}});t.append(c)}this.appendVisual(t)}plotBandSlot(e){return this.getSlot(e.from,e.to-1)}getSlot(e,t){const n=this.options,s=n.justified,o=this.box,r=this.majorAngles(),a=r.length,l=360/a;let c=e;n.reverse&&!s&&(c=(c+1)%a),c=ee(Math.floor(c),0,a-1);let u=r[c];s&&(u-=l/2,u<0&&(u+=360));const p=l*(ee(Math.ceil(t||c),c,a-1)-c+1);return new sg(o.center(),0,o.height()/2,u,p)}slot(e,t){const n=this.getSlot(e,t),s=n.startAngle+180;return new $r([n.center.x,n.center.y],{startAngle:s,endAngle:s+n.angle,radiusX:n.radius,radiusY:n.radius})}pointCategoryIndex(e){const t=this.options.categories.length;let n=null;for(let s=0;s<t;s++)if(this.getSlot(s).containsPoint(e)){n=s;break}return n}}O(h0,{startAngle:90,labels:{margin:qe(10)},majorGridLines:{visible:!0},justified:!0}),w(h0.prototype,zR);const d0=h0;class p0 extends Ad{constructor(e,t){super(e,t);const n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2}getDivisions(e){return ns.prototype.getDivisions.call(this,e)-1}reflow(e){this.box=e,this.reflowLabels()}reflowLabels(){const{options:e,labels:t,options:{labels:n}}=this,s=n.skip||0,o=n.step||1,r=new B,a=this.intervals(e.majorUnit,s,o);for(let l=0;l<t.length;l++){t[l].reflow(r);const c=t[l].box;t[l].reflow(this.getSlot(a[l]).adjacentBox(0,c.width(),c.height()))}}lineBox(){return this.box}intervals(e,t,n,s=!1){const o=this.options.min,r=this.getDivisions(e),a=[],c=n||1;for(let u=t||0;u<r;u+=c){const h=(360+o+u*e)%360;s&&Se(h,s)||a.push(h)}return a}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(e){return(540-e-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(e){const t=this.options.majorGridLines;return this.gridLineAngles(e,this.options.majorUnit,t.skip,t.step)}minorGridLineAngles(e,t){const n=this.options,{minorGridLines:s,majorGridLines:o}=n,r=t?this.intervals(n.majorUnit,o.skip,o.step):null;return this.gridLineAngles(e,n.minorUnit,s.skip,s.step,r)}plotBandSlot(e){return this.getSlot(e.from,e.to)}getSlot(e,t){const{options:n,box:s}=this,o=n.startAngle;let r=ee(e,n.min,n.max),a=ee(t||r,r,n.max);if(n.reverse&&(r*=-1,a*=-1),r=(540-r-o)%360,a=(540-a-o)%360,a<r){const l=r;r=a,a=l}return new sg(s.center(),0,s.height()/2,r,a-r)}slot(e,t=e){const n=this.options,s=360-n.startAngle,o=this.getSlot(e,t),r=Math.min(e,t),a=Math.max(e,t);let l,c;return n.reverse?(l=r,c=a):(l=360-a,c=360-r),l=(l+s)%360,c=(c+s)%360,new $r([o.center.x,o.center.y],{startAngle:l,endAngle:c,radiusX:o.radius,radiusY:o.radius})}getValue(e){const t=this.options,n=this.box.center();let r=Math.round(zr(Math.atan2(e.y-n.y,e.x-n.x))),a=t.startAngle;return t.reverse||(r*=-1,a*=-1),(r+a+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}O(p0,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:qe(10)},majorGridLines:{color:wt,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),w(p0.prototype,zR,{createPlotBands:d0.prototype.createPlotBands,majorAngles:d0.prototype.majorAngles,range:ns.prototype.range,labelsCount:ns.prototype.labelsCount,createAxisLabel:ns.prototype.createAxisLabel});const rZ=p0;function Ng(i,e){return 180-Math.abs(Math.abs(i-e)-180)}const HR={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:i},plotBands:e=[]}=this.options,t=this.plotArea.polarAxis,n=t.majorAngles(),s=t.box.center(),o=this._plotbandGroup=new st({zIndex:-1});for(let r=0;r<e.length;r++){const a=e[r],l={fill:{color:a.color,opacity:a.opacity},stroke:{opacity:a.opacity}},c=this.getSlot(a.from,a.to,!0),u=new sg(s,s.y-c.y2,s.y-c.y1,0,360);let h;h=i===Fr?dg.current.createRing(u,l):ne.fromPoints(this.plotBandPoints(u,n),l).close(),o.append(h)}this.appendVisual(o)},plotBandPoints:function(i,e){const t=[],n=[],s=[i.center.x,i.center.y],o=new ts(s,i.innerRadius),r=new ts(s,i.radius);for(let a=0;a<e.length;a++)t.push(o.pointAt(e[a]+180)),n.push(r.pointAt(e[a]+180));return t.reverse(),t.push(t[0]),n.push(n[0]),n.concat(t)},createGridLines:function(i){const e=this.options,t=this.radarMajorGridLinePositions(),n=i.majorAngles(),s=i.box.center();let o=[];if(e.majorGridLines.visible&&(o=this.renderGridLines(s,t,n,e.majorGridLines)),e.minorGridLines.visible){const r=this.radarMinorGridLinePositions();Qa(o,this.renderGridLines(s,r,n,e.minorGridLines))}return o},renderGridLines:function(i,e,t,n){const s={stroke:{width:n.width,color:n.color,dashType:n.dashType}},{skip:o=0,step:r=0}=n,a=this.gridLinesVisual();for(let l=o;l<e.length;l+=r){const c=i.y-e[l];if(c>0){const u=new ts([i.x,i.y],c);if(n.type===Fr)a.append(new Wo(u,s));else{const h=new ne(s);for(let d=0;d<t.length;d++)h.lineTo(u.pointAt(t[d]+180));h.close(),a.append(h)}}}return a.children},getValue:function(i){const e=this.lineBox(),t=this.plotArea.polarAxis,n=t.majorAngles(),s=t.box.center(),o=i.distanceTo(s);let r=o;if(this.options.majorGridLines.type!==Fr&&n.length>1){const c=(zr(Math.atan2(i.y-s.y,i.x-s.x))+540)%360;n.sort(function(f,m){return Ng(f,c)-Ng(m,c)});const u=Ng(n[0],n[1])/2,h=Ng(c,n[0]),d=90-u;r=o*(Math.sin(Bt(180-h-d))/Math.sin(Bt(d)))}return this.axisType().prototype.getValue.call(this,new le(e.x1,e.y2-r))}};class jR extends ns{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const e=this.options;let t=0;return e.majorGridLines.visible&&(t=e.majorUnit),this.getTickPositions(e.minorUnit,t)}axisType(){return ns}}w(jR.prototype,HR);const lZ=jR;class UR extends Ig{radarMajorGridLinePositions(){const e=[];return this.traverseMajorTicksPositions(function(t){e.push(t)},this.options.majorGridLines),e}radarMinorGridLinePositions(){const e=[];return this.traverseMinorTicksPositions(function(t){e.push(t)},this.options.minorGridLines),e}axisType(){return Ig}}w(UR.prototype,HR);const cZ=UR;function GR(i){return i<=0?-1:1}const kg=class extends q{constructor(e){super(),this.closed=e}process(e){const t=e.slice(0),n=[];let s=this.closed,o=t.length;if(o>2&&(this.removeDuplicates(0,t),o=t.length),o<2||2===o&&t[0].equals(t[1]))return n;let c,u,r=t[0],a=t[1],l=t[2];for(n.push(new Cn(r));r.equals(t[o-1]);)s=!0,t.pop(),o--;if(2===o){const d=this.tangent(r,a,Y,X);return St(n).controlOut(this.firstControlPoint(d,r,a,Y,X)),n.push(new Cn(a,this.secondControlPoint(d,r,a,Y,X))),n}if(s){r=t[o-1],a=t[0],l=t[1];const d=this.controlPoints(r,a,l);c=d[1],u=d[0]}else{const d=this.tangent(r,a,Y,X);c=this.firstControlPoint(d,r,a,Y,X)}let h=c;for(let d=0;d<=o-3;d++)if(this.removeDuplicates(d,t),o=t.length,d+3<=o){r=t[d],a=t[d+1],l=t[d+2];const p=this.controlPoints(r,a,l);St(n).controlOut(h),h=p[1],n.push(new Cn(a,p[0]))}if(s){r=t[o-2],a=t[o-1],l=t[0];const d=this.controlPoints(r,a,l);St(n).controlOut(h),n.push(new Cn(a,d[0])),St(n).controlOut(d[1]),n.push(new Cn(l,u))}else{const d=this.tangent(a,l,Y,X);St(n).controlOut(h),n.push(new Cn(l,this.secondControlPoint(d,a,l,Y,X)))}return n}removeDuplicates(e,t){for(;t[e+1]&&(t[e].equals(t[e+1])||t[e+1].equals(t[e+2]));)t.splice(e+1,1)}invertAxis(e,t,n){let s=!1;if(e.x===t.x)s=!0;else if(t.x===n.x)(t.y<n.y&&e.y<=t.y||n.y<t.y&&t.y<=e.y)&&(s=!0);else{const o=this.lineFunction(e,t),r=this.calculateFunction(o,n.x);e.y<=t.y&&n.y<=r||t.y<=e.y&&n.y>=r||(s=!0)}return s}isLine(e,t,n){const s=this.lineFunction(e,t),o=this.calculateFunction(s,n.x);return e.x===t.x&&t.x===n.x||V(o,1)===V(n.y,1)}lineFunction(e,t){const n=(t.y-e.y)/(t.x-e.x);return[e.y-n*e.x,n]}controlPoints(e,t,n){let l,s=Y,o=X,r=!1,a=!1;if(this.isLine(e,t,n))l=this.tangent(e,t,Y,X);else{const h={x:this.isMonotonicByField(e,t,n,Y),y:this.isMonotonicByField(e,t,n,X)};if(h.x&&h.y)l=this.tangent(e,n,Y,X),r=!0;else if(this.invertAxis(e,t,n)&&(s=X,o=Y),h[s])l=0;else{let d;d=n[o]<e[o]&&e[o]<=t[o]||e[o]<n[o]&&t[o]<=e[o]?GR((n[o]-e[o])*(t[s]-e[s])):-GR((n[s]-e[s])*(t[o]-e[o])),l=.01*d,a=!0}}const c=this.secondControlPoint(l,e,t,s,o);if(a){const h=s;s=o,o=h}const u=this.firstControlPoint(l,t,n,s,o);return r&&(this.restrictControlPoint(e,t,c,l),this.restrictControlPoint(t,n,u,l)),[c,u]}restrictControlPoint(e,t,n,s){e.y<t.y?t.y<n.y?(n.x=e.x+(t.y-e.y)/s,n.y=t.y):n.y<e.y&&(n.x=t.x-(t.y-e.y)/s,n.y=e.y):n.y<t.y?(n.x=e.x-(e.y-t.y)/s,n.y=t.y):e.y<n.y&&(n.x=t.x+(e.y-t.y)/s,n.y=e.y)}tangent(e,t,n,s){const o=t[n]-e[n];let a;return a=0===o?0:(t[s]-e[s])/o,a}isMonotonicByField(e,t,n,s){return n[s]>t[s]&&t[s]>e[s]||n[s]<t[s]&&t[s]<e[s]}firstControlPoint(e,t,n,s,o){const r=t[s],l=.333*(n[s]-r);return this.point(r+l,t[o]+l*e,s,o)}secondControlPoint(e,t,n,s,o){const a=n[s],l=.333*(a-t[s]);return this.point(a-l,n[o]-l*e,s,o)}point(e,t,n,s){const o=new R;return o[n]=e,o[s]=t,o}calculateFunction(e,t){const n=e.length;let s=0;for(let o=0;o<n;o++)s+=Math.pow(t,o)*e[o];return s}},pZ=class extends q{constructor(e){super(),this._axis=e,this.options=e.options}value(e){const t=this._axis;return t.getCategory?t.getCategory(e):t.getValue(e)}slot(e,t,n=!0){return this._axis.slot(e,t,n)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function WR(i,e){for(let t=0;t<e.length;t++)if(e[t].options.name===i)return e[t].prepareUserOptions(),new pZ(e[t])}const f0=class{constructor(e){this.visual=e.visual,this.chartsVisual=e.chartContainer.visual,this._pane=e}findAxisByName(e){return WR(e,this._pane.axes)}},gZ=class extends q{constructor(e){super(),this._plotArea=e,this.visual=e.visual,this.backgroundVisual=e._bgVisual}};function m0(i){const e=i.length;let t=0;for(let n=0;n<e;n++)Ce(i[n])&&t++;return t}const g0={min:function(i){const e=i.length;let t=Tt;for(let n=0;n<e;n++){const s=i[n];Ce(s)&&(t=Math.min(t,s))}return t===Tt?i[0]:t},max:function(i){const e=i.length;let t=Vt;for(let n=0;n<e;n++){const s=i[n];Ce(s)&&(t=Math.max(t,s))}return t===Vt?i[0]:t},sum:function(i){const e=i.length;let t=0;for(let n=0;n<e;n++){const s=i[n];Ce(s)&&(t+=s)}return t},sumOrNull:function(i){let e=null;return m0(i)&&(e=g0.sum(i)),e},count:function(i){const e=i.length;let t=0;for(let n=0;n<e;n++){const s=i[n];null!==s&&N(s)&&t++}return t},avg:function(i){const e=m0(i);let t=i[0];return e>0&&(t=g0.sum(i)/e),t},first:function(i){const e=i.length;for(let t=0;t<e;t++){const n=i[t];if(null!==n&&N(n))return n}return i[0]}},yZ=g0;function Rg(i,e){return null===e?e:jo(i)(e)}class y0 extends q{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(e,t=[xi],n={}){for(let s=0;s<e.length;s++){const o=e[s];this._valueFields[o]=t,this._otherFields[o]=n,this._nullValue[o]=this._makeValue(t,null),this._undefinedValue[o]=this._makeValue(t,void 0)}}canonicalFields(e){return this.valueFields(e).concat(this.otherFields(e))}valueFields(e){return this._valueFields[e.type]||[xi]}otherFields(e){return this._otherFields[e.type]||[xi]}bindPoint(e,t,n){const s=e.data,o=N(n)?n:s[t],r={valueFields:{value:o}},a=this.valueFields(e),l=this._otherFields[e.type];let c,u;if(null===o)u=this._nullValue[e.type];else if(N(o)){if(Array.isArray(o)){const h=o.slice(a.length);u=this._bindFromArray(o,a),c=this._bindFromArray(h,l)}else if("object"==typeof o){const h=this.sourceFields(e,a),d=this.sourceFields(e,l);u=this._bindFromObject(o,a,h),c=this._bindFromObject(o,l,d)}}else u=this._undefinedValue[e.type];return N(u)&&(1===a.length?r.valueFields.value=u[a[0]]:r.valueFields=u),r.fields=c||{},r}_makeValue(e,t){const n={},s=e.length;for(let o=0;o<s;o++)n[e[o]]=t;return n}_bindFromArray(e,t){const n={};if(t){const s=Math.min(t.length,e.length);for(let o=0;o<s;o++)n[t[o]]=e[o]}return n}_bindFromObject(e,t,n=t){const s={};if(t){const o=t.length;for(let r=0;r<o;r++){const a=t[r],l=n[r];null!==l&&(s[a]=Rg(l,e))}}return s}sourceFields(e,t){const n=[];if(t){const s=t.length;for(let o=0;o<s;o++){const r=t[o],a=r===xi?"field":r+"Field";n.push(null!==e[a]?e[a]||r:null)}}return n}}y0.current=new y0;const Dt=y0,xZ=/percent(?:\w*)\((\d+)\)/,bZ=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),qR=class extends q{constructor(e,t,n){super(),this.initGlobalRanges(e,t,n)}initGlobalRanges(e,t,n){const s=t.data,o=bZ.exec(e);if(o){this.valueGetter=this.createValueGetter(t,n);const r=this.getAverage(s),a=this.getStandardDeviation(s,r,!1),l=o[1]?parseFloat(o[1]):1,c={low:r.value-a*l,high:r.value+a*l};this.globalRange=function(){return c}}else if(e.indexOf&&e.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(t,n);const r=this.getStandardError(s,this.getAverage(s));this.globalRange=function(a){return{low:a-r,high:a+r}}}}createValueGetter(e,t){const n=e.data,s=Dt.current,o=s.valueFields(e),r=N(n[0])?n[0]:{};let a;return fn(r)?a=jo("["+(t?o.indexOf(t):0)+"]"):Ce(r)?a=jo():typeof r===fC&&(a=jo(s.sourceFields(e,o)[o.indexOf(t)])),a}getErrorRange(e,t){let n,s,o;if(!N(t))return null;if(this.globalRange)return this.globalRange(e);if(fn(t))n=e-t[0],s=e+t[1];else if(Ce(o=parseFloat(t)))n=e-o,s=e+o;else{if(!(o=xZ.exec(t)))throw new Error("Invalid ErrorBar value: "+t);{const r=e*(parseFloat(o[1])/100);n=e-Math.abs(r),s=e+Math.abs(r)}}return{low:n,high:s}}getStandardError(e,t){return this.getStandardDeviation(e,t,!0)/Math.sqrt(t.count)}getStandardDeviation(e,t,n){const s=e.length,o=n?t.count-1:t.count;let r=0;for(let a=0;a<s;a++){const l=this.valueGetter(e[a]);Ce(l)&&(r+=Math.pow(l-t.value,2))}return Math.sqrt(r/o)}getAverage(e){const t=e.length;let n=0,s=0;for(let o=0;o<t;o++){const r=this.valueGetter(e[o]);Ce(r)&&(n+=r,s++)}return{value:n/s,count:s}}},is=600,Wr="fadeIn",Nd=(Kc.browser||{}).msie?.001:0,KR="errorLow",YR="errorHigh",Xo="zero",tu="interpolate",Fg="above",_0="below",nu="smooth",kd="step",Rd="area",Bs="bar",Od="boxPlot",iu="bubble",qr="bullet",su="candlestick",Zo="column",Vg="donut",Bg="funnel",v0="heatmap",ou="horizontalWaterfall",Ld="line",Fd="ohlc",Kr="pie",x0="polarArea",b0="polarLine",C0="polarScatter",zg="radarArea",Hg="radarColumn",jg="radarLine",Vd="rangeArea",ru="rangeBar",Bd="rangeColumn",w0="scatter",T0="scatterLine",au="verticalArea",lu="verticalBoxPlot",zd="verticalBullet",cu="verticalLine",uu="verticalRangeArea",Hd="waterfall",XR=[Bs,Zo,Fd,su,Od,lu,qr,Bd,ru,Hd,ou],ZR="seriesHover",JR="plotAreaHover",S0="plotAreaLeave",jd="drag",Ud="dragEnd",D0="dragStart",$d="zoomStart",hu="zoom",du="zoomEnd",E0="selectStart",Gd="select",A0="selectEnd",e2="showTooltip",t2="hideTooltip",Ug="log",yo="category",$g="insideEnd",ol="outsideEnd",Gg="DOMMouseScroll mousewheel";class i2 extends $e{constructor(e,t,n,s,o,r){super(r),this.low=e,this.high=t,this.isVertical=n,this.chart=s,this.series=o}reflow(e){const t=this.options.endCaps,n=this.isVertical,o=this.getAxis().getSlot(this.low,this.high),r=e.center(),a=this.getCapsWidth(e,n),l=n?r.x:r.y,c=l-a,u=l+a;let h;n?(h=[new le(r.x,o.y1),new le(r.x,o.y2)],t&&h.push(new le(c,o.y1),new le(u,o.y1),new le(c,o.y2),new le(u,o.y2)),this.box=new B(c,o.y1,u,o.y2)):(h=[new le(o.x1,r.y),new le(o.x2,r.y)],t&&h.push(new le(o.x1,c),new le(o.x1,u),new le(o.x2,c),new le(o.x2,u)),this.box=new B(o.x1,c,o.x2,u)),this.linePoints=h}getCapsWidth(e,t){const n=t?e.width():e.height();return Math.min(Math.floor(n/2),4)||4}createVisual(){const e=this.options,t=e.visual;t?this.visual=t({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:e.endCaps,color:e.color,line:e.line},createVisual:()=>{this.createDefaultVisual();const n=this.visual;return delete this.visual,n}}):this.createDefaultVisual()}createDefaultVisual(){const{options:e,linePoints:t}=this,n={stroke:{color:e.color,width:e.line.width,dashType:e.line.dashType}};super.createVisual();for(let s=0;s<t.length;s+=2){const o=new ne(n).moveTo(t[s].x,t[s].y).lineTo(t[s+1].x,t[s+1].y);Qi(o),this.visual.append(o)}}}O(i2,{animation:{type:Wr,delay:is},endCaps:!0,line:{width:2},zIndex:1});const s2=i2,zZ=class extends s2{getAxis(){return this.chart.seriesValueAxis(this.series)}};function Jo(i,e,t={},n=!1){const s=t.defaults=t.defaults||{},o=t.depth=t.depth||0;let r=!1;if(t.excluded=t.excluded||[],o>5)return null;for(let a in i)if(!Se(a,t.excluded)&&i.hasOwnProperty(a)){const l=i[a];ht(l)?(r=!0,n||(i[a]=de(l(e),s[a]))):ks(l)&&(n||(t.defaults=s[a]),t.depth++,r=Jo(l,e,t,n)||r,t.depth--)}return r}function P0(i){const e=i.length;let t=0;for(let n=0;n<e;n++)t=Math.max(t,i[n].data.length);return t}class o2 extends $e{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.categoryAxis=e.seriesCategoryAxis(t.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=n=w({},s,{vertical:!this.options.invertAxes},e)}return n}plotValue(e){if(!e)return 0;if(this.options.isStacked100&&Ce(e.value)){const n=this.categoryPoints[e.categoryIx],s=[];let o=0;for(let r=0;r<n.length;r++){const a=n[r];if(a){const l=e.series.stack,c=a.series.stack;if(l&&c&&l.group!==c.group)continue;Ce(a.value)&&(o+=Math.abs(a.value),s.push(Math.abs(a.value)))}}if(o>0)return e.value/o}return e.value}plotRange(e,t=0){const n=this.categoryPoints[e.categoryIx];if(this.options.isStacked){let a=this.plotValue(e);const l=a>=0;let c=t,u=!1;for(let h=0;h<n.length;h++){const d=n[h];if(e===d)break;const p=e.series.stack,f=d.series.stack;if(p&&f&&(typeof p===mC&&p!==f||p.group&&p.group!==f.group))continue;const m=this.plotValue(d);(m>=0&&l||m<0&&!l)&&(c+=m,a+=m,u=!0,this.options.isStacked100&&(a=Math.min(a,1)))}return u&&(c-=t),[c,a]}const o=this.seriesValueAxis(e.series),r=this.categoryAxisCrossingValue(o);return[r,XN(e.value)?e.value:r]}stackLimits(e,t){let n=Tt,s=Vt;for(let o=0;o<this.categoryPoints.length;o++){const r=this.categoryPoints[o];if(r)for(let a=0;a<r.length;a++){const l=r[a];if(l&&(l.series.stack===t||l.series.axis===e)){const c=this.plotRange(l,0)[1];N(c)&&isFinite(c)&&(s=Math.max(s,c),n=Math.min(n,c))}}}return{min:n,max:s}}updateStackRange(){const{isStacked:e,series:t}=this.options,n={};if(e)for(let s=0;s<t.length;s++){const o=t[s],r=o.axis,a=r+o.stack;let l=n[a];if(!l){l=this.stackLimits(r,o.stack);const c=this.errorTotals;c&&(c.negative.length&&(l.min=Math.min(l.min,DC(c.negative).min)),c.positive.length&&(l.max=Math.max(l.max,DC(c.positive).max))),l.min!==Tt||l.max!==Vt?n[a]=l:l=null}l&&(this.valueAxisRanges[r]=l)}}addErrorBar(e,t,n){const{value:s,series:o,seriesIx:r}=e,a=e.options.errorBars,l=t.fields[KR],c=t.fields[YR];let u;Ce(l)&&Ce(c)?u={low:l,high:c}:a&&N(a.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[r]=this.seriesErrorRanges[r]||new qR(a.value,o,xi),u=this.seriesErrorRanges[r].getErrorRange(s,a.value)),u&&(e.low=u.low,e.high=u.high,this.addPointErrorBar(e,n))}addPointErrorBar(e,t){const n=!this.options.invertAxes,s=e.options.errorBars;let{series:o,low:r,high:a}=e;if(this.options.isStacked){const c=this.stackedErrorRange(e,t);r=c.low,a=c.high}else{const c={categoryIx:t,series:o};this.updateRange({value:r},c),this.updateRange({value:a},c)}const l=new zZ(r,a,n,this,o,s);e.errorBars=[l],e.append(l)}stackedErrorRange(e,t){const n=this.plotRange(e,0)[1]-e.value,s=e.low+n,o=e.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},s<0&&(this.errorTotals.negative[t]=Math.min(this.errorTotals.negative[t]||0,s)),o>0&&(this.errorTotals.positive[t]=Math.max(this.errorTotals.positive[t]||0,o)),{low:s,high:o}}addValue(e,t){const{categoryIx:n,series:s,seriesIx:o}=t;let r=this.categoryPoints[n];r||(this.categoryPoints[n]=r=[]);let a=this.seriesPoints[o];a||(this.seriesPoints[o]=a=[]);const l=this.createPoint(e,t);l&&(Object.assign(l,t),l.owner=this,l.noteText=e.fields.noteText,N(l.dataItem)||(l.dataItem=s.data[n]),this.addErrorBar(l,e,n)),this.points.push(l),a.push(l),r.push(l),this.updateRange(e.valueFields,t)}evalPointOptions(e,t,n,s,o,r){const a={defaults:o._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let l=this._evalSeries[r];N(l)||(this._evalSeries[r]=l=Jo(e,{},a,!0));let c=e;return l&&(c=w({},c),Jo(c,{value:t,category:n,index:s,series:o,dataItem:o.data[s]},a)),c}updateRange(e,t){const n=t.series.axis,s=e.value;let o=this.valueAxisRanges[n];isFinite(s)&&null!==s&&(o=this.valueAxisRanges[n]=o||{min:Tt,max:Vt},o.min=Math.min(o.min,s),o.max=Math.max(o.max,s))}seriesValueAxis(e){const t=this.plotArea,n=e.axis,s=n?t.namedValueAxes[n]:t.valueAxis;if(!s)throw new Error("Unable to locate value axis with name "+n);return s}reflow(e){const t=this.categorySlots=[],n=this.points,s=this.categoryAxis;let o=0;this.traverseDataPoints((r,a)=>{const{categoryIx:l,series:c}=a,u=this.seriesValueAxis(c),h=n[o++];let d=t[l];if(d||(t[l]=d=this.categorySlot(s,l,u)),h){const p=this.plotRange(h,u.startValue()),f=this.valueSlot(u,p);if(f){const m=this.pointSlot(d,f);h.aboveAxis=this.aboveAxis(h,u),h.stackValue=p[1],this.options.isStacked100&&(h.percentage=this.plotValue(h)),this.reflowPoint(h,m)}else h.visible=!1}}),this.reflowCategories(t),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=e}valueSlot(e,t){return e.getSlot(t[0],t[1],!this.options.clip)}limitPoints(){const e=this.categoryPoints,t=e[0].concat(St(e));for(let n=0;n<t.length;n++)t[n]&&this.limitPoint(t[n])}limitPoint(e){const t=this.categoryAxis.limitSlot(e.box);t.equals(e.box)||e.reflow(t)}aboveAxis(e,t){const n=this.categoryAxisCrossingValue(t),s=e.value;return t.options.reverse?s<n:s>=n}categoryAxisCrossingValue(e){const t=this.categoryAxis,n=e.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[t.axisIndex||0]||0}reflowPoint(e,t){e.reflow(t)}reflowCategories(){}pointSlot(e,t){const s=this.options.invertAxes,o=s?t:e,r=s?e:t;return new B(o.x1,r.y1,o.x2,r.y2)}categorySlot(e,t){return e.getSlot(t)}traverseDataPoints(e){const t=this.options.series,n=P0(t),s=t.length;for(let o=0;o<s;o++)this._outOfRangeCallback(t[o],"_outOfRangeMinPoint",o,e);for(let o=0;o<n;o++)for(let r=0;r<s;r++){const a=t[r],l=this.categoryAxis.categoryAt(o);e(this._bindPoint(a,r,o),{category:l,categoryIx:o,categoriesCount:n,series:a,seriesIx:r})}for(let o=0;o<s;o++)this._outOfRangeCallback(t[o],"_outOfRangeMaxPoint",o,e)}_outOfRangeCallback(e,t,n,s){const o=e[t];if(o){const r=o.categoryIx;s(this._bindPoint(e,n,r,o.item),{category:o.category,categoryIx:r,series:e,seriesIx:n,dataItem:o.item})}}_bindPoint(e,t,n,s){this._bindCache||(this._bindCache=[]);let o=this._bindCache[t];o||(o=this._bindCache[t]=[]);let r=o[n];return r||(r=o[n]=Dt.current.bindPoint(e,n,s)),r}formatPointValue(e,t){return null===e.value?"":this.chartService.format.auto(t,e.value)}pointValue(e){return e.valueFields.value}}O(o2,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const er=o2,zs={click:function(i,e){return i.trigger("seriesClick",this.eventArgs(e))},hover:function(i,e){return i.trigger(ZR,this.eventArgs(e))},over:function(i,e){return i.trigger("seriesOver",this.eventArgs(e))},out:function(i,e){return i.trigger("seriesLeave",this.eventArgs(e))},eventArgs:function(i){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Os(i),originalEvent:i,point:this}}},pu={createNote:function(){const i=this.options.notes,e=this.noteText||i.label.text;!1!==i.visible&&N(e)&&null!==e&&(this.note=new vR({value:this.value,text:e,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};class Wg extends $e{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=de(this.options.aboveAxis,!0),this.tooltipTracking=!0}render(){const{markers:e,labels:t}=this.options;if(!this._rendered){if(this._rendered=!0,e.visible&&e.size&&(this.marker=this.createMarker(),this.append(this.marker)),t.visible){const n=nn(t),s=this.pointData();let o=this.value;n?o=n(s):t.format&&(o=this.formatValue(t.format)),this.label=new Si(o,w({align:ve,vAlign:ve,margin:{left:5,right:5},zIndex:de(t.zIndex,this.series.zIndex)},t),s),this.append(this.label)}this.createNote(),this.errorBar&&this.append(this.errorBar)}}markerBorder(){const e=this.options.markers,t=e.background,n=w({color:this.color},e.border);return N(n.color)||(n.color=new uo(t).brightness(.8).toHex()),n}createVisual(){}createMarker(){const e=this.options.markers;return new Gr({type:e.type,width:e.size,height:e.size,rotation:e.rotation,background:e.background,border:this.markerBorder(),opacity:this.series.opacity||e.opacity,zIndex:de(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(e){const{options:t,aboveAxis:n}=this,s=t.vertical;this.render(),this.box=e;const o=e.clone();if(s?n?o.y1-=o.height():o.y2+=o.height():n?o.x1+=o.width():o.x2-=o.width(),this._childBox=o,this.marker&&this.marker.reflow(o),this.reflowLabel(o),this.errorBars)for(let r=0;r<this.errorBars.length;r++)this.errorBars[r].reflow(o);if(this.note){let r=this.markerBox();if(!t.markers.visible||!t.markers.size){const a=r.center();r=new B(a.x,a.y,a.x,a.y)}this.note.reflow(r)}}reflowLabel(e){const{options:t,label:n}=this;let s=t.labels.position;n&&(s=s===Fg?Oe:s,s=s===_0?je:s,n.reflow(e),n.box.alignTo(this.markerBox(),s),n.reflow(n.box))}createHighlight(){const e=this.options.highlight.markers,t=this.markerBorder().color,n=this.options.markers,s=n.size+(n.border.width||0)+(e.border.width||0),o=new Gr({type:n.type,width:s,height:s,rotation:n.rotation,background:e.color||t,border:{color:e.border.color,width:e.border.width,opacity:de(e.border.opacity,1)},opacity:de(e.opacity,1)});return o.reflow(this._childBox),o.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const e=this.marker;let t,n;if(e)n=e.paddingBox.toRect(),t=e.visual;else{const s=this.options.markers.size,o=s/2,r=this.box.center();n=new Re([r.x-o,r.y-o],[s,s])}return{options:this.options,rect:n,visual:t}}tooltipAnchor(){const e=this.markerBox(),t=this.owner.pane.clipBox();if(!t||t.overlaps(e)){const o=Ie;let r,a;return this.aboveAxis?(r=e.y1,a=je):(r=e.y2,a=Oe),{point:new le(e.x2+5,r),align:{horizontal:o,vertical:a}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.markerBox().overlaps(e)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}}Wg.prototype.defaults={vertical:!0,markers:{visible:!0,background:Le,size:8,type:Ns,border:{width:2},opacity:1},labels:{visible:!1,position:Fg,margin:qe(3),padding:qe(4),animation:{type:Wr,delay:is}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}}},w(Wg.prototype,zs),w(Wg.prototype,pu);const rl=Wg;class r2 extends $e{constructor(e,t,n){super(),this.linePoints=e,this.series=t,this.seriesIx=n}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(e){const t=[];for(let n=0,s=e.length;n<s;n++)e[n]&&!1!==e[n].visible&&t.push(e[n]._childBox.toRect().center());return t}createVisual(){const e=this.series.visual;e?(this.visual=e({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!N(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:e,series:t}=this;let{color:n,_defaults:s}=t;ht(n)&&s&&(n=s.color);const o=ne.fromPoints(this.points(),{stroke:{color:n,width:t.width,opacity:t.opacity,dashType:t.dashType},zIndex:t.zIndex});e.closed&&o.close(),this.visual=o}aliasFor(e,t){return this.parent.getNearestPoint(t.x,t.y,this.seriesIx)}}O(r2,{closed:!1});const fu=r2;function I0(i,e,t,n,s){const o=i.box,r=new R;return r[e]=o[e+t],r[n]=o[n+s],r}const N0={calculateStepPoints:function(i){const e=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:t,vertical:n,reverse:s}=e.options,o=n?Y:X,r=n?X:Y,a=s?2:1,l=a;let c=I0(i[0],o,a,r,l);const u=[c];for(let h=1;h<i.length;h++){const d=I0(i[h],o,a,r,l);if(c[o]!==d[o]){const p=new R;p[o]=c[o],p[r]=d[r],u.push(p,d)}c=d}return t?c!==St(u)&&u.push(c):u.push(I0(St(i),o,a,r,s?1:2)),u}};class a2 extends fu{points(){return this.calculateStepPoints(this.linePoints)}}w(a2.prototype,N0);const UZ=a2,k0=class extends fu{segmentVisual(){const e=this.series,t=e._defaults;let n=e.color;ht(n)&&t&&(n=t.color);const o=new kg(this.options.closed).process(this.points()),r=new ne({stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});r.segments.push.apply(r.segments,o),this.visual=r}},R0={renderSegments:function(){const{options:i,seriesPoints:e}=this,t=i.series,n=e.length;let s;this._segments=[];for(let o=0;o<n;o++){const r=t[o],a=this.sortPoints(e[o]),l=a.length;let c=[];for(let u=0;u<l;u++){const h=a[u];h?c.push(h):this.seriesMissingValues(r)!==tu&&(c.length>1&&(s=this.createSegment(c,r,o,s),this._addSegment(s)),c=[])}c.length>1&&(s=this.createSegment(c,r,o,s),this._addSegment(s))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(i){this._segments.push(i),i.parent=this},sortPoints:function(i){return i},seriesMissingValues:function(i){const e=i.missingValues;return!e&&this.options.isStacked?Xo:e||tu},getNearestPoint:function(i,e,t){const n=new le(i,e),s=this.seriesPoints[t];let r,o=Tt;for(let a=0;a<s.length;a++){const l=s[a];if(l&&N(l.value)&&null!==l.value&&!1!==l.visible){const u=l.box.center().distanceTo(n);u<o&&(r=l,o=u)}}return r}};class O0 extends Ti{setup(){this._setEnd(this.options.box.x1)}step(e){const t=this.options.box;this._setEnd(Xi(t.x1,t.x2,e))}_setEnd(e){const t=this.element,n=t.segments,s=n[1].anchor(),o=n[2].anchor();t.suspend(),s.setX(e),t.resume(),o.setX(e)}}O(O0,{duration:is}),Ls.current.register("clip",O0);const GZ=O0;function l2(i){for(let e=0;e<i.length;e++)if(N(i[e].zIndex))return!0}const qg={createAnimation:function(){const i=this.getRoot();if(i&&!1!==(i.options||{}).transitions){const e=i.size(),t=ne.fromRect(e.toRect());this.visual.clip(t),this.animation=new GZ(t,{box:e}),l2(this.options.series)&&this._setChildrenAnimation(t)}},_setChildrenAnimation:function(i){const e=this.animationPoints();for(let t=0;t<e.length;t++){const n=e[t];n&&n.visual&&N(n.visual.options.zIndex)&&n.visual.clip(i)}}};class c2 extends er{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return rl}createPoint(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,a=this.seriesMissingValues(o);let l=e.valueFields.value;if(!N(l)||null===l){if(a!==Xo)return null;l=0}let c=this.pointOptions(o,r);c=this.evalPointOptions(c,l,s,n,o,r);let u=e.fields.color||o.color;ht(o.color)&&(u=c.color);const h=new rl(l,c);return h.color=u,this.append(h),h}plotRange(e){let t=this.plotValue(e);if(this.options.isStacked){const s=this.categoryPoints[e.categoryIx];for(let o=0;o<s.length;o++){const r=s[o];if(e===r)break;t+=this.plotValue(r),this.options.isStacked100&&(t=Math.min(t,1))}}return[t,t]}createSegment(e,t,n){const s=t.style;let o;return o=s===kd?UZ:s===nu?k0:fu,new o(e,t,n)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}w(c2.prototype,R0,qg);const L0=c2,mu=class extends fu{constructor(e,t,n,s,o){super(e,t,n),this.prevSegment=s,this.stackPoints=o}createVisual(){const e=this.series,t=e._defaults,n=e.line||{};let s=e.color;ht(s)&&t&&(s=t.color),this.visual=new st({zIndex:e.zIndex}),this.createFill({fill:{color:s,opacity:e.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:w({color:s,opacity:e.opacity,lineCap:"butt"},n)})}strokeSegments(){let e=this._strokeSegments;return e||(e=this._strokeSegments=this.createStrokeSegments()),e}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(e){return this.segmentsFromPoints(this.toGeometryPoints(e)).reverse()}segmentsFromPoints(e){return e.map(t=>new Cn(t))}createStroke(e){const t=new ne(e);t.segments.push.apply(t.segments,this.strokeSegments()),this.visual.append(t)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(e){const t=this.strokeSegments(),n=t.slice(0),s=this.hasStackSegment();if(s){const r=this.stackSegments();Qa(n,r)}const o=new ne(e);o.segments.push.apply(o.segments,n),!s&&t.length>1&&this.fillToAxes(o),this.visual.append(o)}fillToAxes(e){const t=this.parent,n=t.options.invertAxes,s=t.seriesValueAxis(this.series),o=t.categoryAxisCrossingValue(s),r=s.getSlot(o,o,!0),a=this.strokeSegments(),l=a[0].anchor(),c=St(a).anchor();let u=n?r.x1:r.y1;n?e.lineTo(u,c.y).lineTo(u,l.y):e.lineTo(c.x,u).lineTo(l.x,u)}};class u2 extends mu{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(e){return this.segmentsFromPoints(this.calculateStepPoints(e)).reverse()}}w(u2.prototype,N0);const qZ=u2,F0=class extends mu{createStrokeSegments(){const e=new kg(this.options.closed),t=this.points();return e.process(t)}createStackSegments(){const e=this.strokeSegments(),t=[];for(let n=e.length-1;n>=0;n--){const s=e[n];t.push(new Cn(s.anchor(),s.controlOut(),s.controlIn()))}return t}},QZ=class extends L0{createSegment(e,t,n,s){const r=(t.line||{}).style;let a,l,c;return this.options.isStacked&&n>0&&s&&("gap"!==this.seriesMissingValues(t)?(l=s.linePoints,a=s):l=this._gapStackPoints(e,n,r)),c=r===kd?qZ:r===nu?F0:mu,new c(e,t,n,a,l)}reflow(e){super.reflow(e);const t=this._stackPoints;if(t)for(let n=0;n<t.length;n++){const s=t[n],o=this.categoryAxis.getSlot(s.categoryIx);s.reflow(o)}}_gapStackPoints(e,t,n){const s=this.seriesPoints;let o=e[0].categoryIx,r=e.length;o<0&&(o=0,r--);const a=o+r,l=this.seriesOptions[0]._outOfRangeMinPoint?1:0,c=[];this._stackPoints=this._stackPoints||[];for(let u=o;u<a;u++){const h=u+l;let p,d=t;do{d--,p=s[d][h]}while(d>0&&!p);if(p)n!==kd&&u>o&&!s[d][h-1]&&c.push(this._previousSegmentPoint(u,h,h-1,d)),c.push(p),n!==kd&&u+1<a&&!s[d][h+1]&&c.push(this._previousSegmentPoint(u,h,h+1,d));else{const f=this._createGapStackPoint(u);this._stackPoints.push(f),c.push(f)}}return c}_previousSegmentPoint(e,t,n,s){const o=this.seriesPoints;let a,r=s;for(;r>0&&!a;)r--,a=o[r][n];return a?a=o[r][t]:(a=this._createGapStackPoint(e),this._stackPoints.push(a)),a}_createGapStackPoint(e){const t=this.pointOptions({},0),n=new rl(0,t);return n.categoryIx=e,n.series={},n}seriesMissingValues(e){return e.missingValues||Xo}supportsPointInactiveOpacity(){return!1}},Kg=class extends q{constructor(){super(),this.axisRanges={}}update(e){const t=this.axisRanges;for(let n in e){const s=e[n];let o=t[n];t[n]=o=o||{min:Tt,max:Vt},o.min=Math.min(o.min,s.min),o.max=Math.max(o.max,s.max)}}reset(e){this.axisRanges[e]=void 0}query(e){return this.axisRanges[e]}};class h2 extends $e{constructor(e,t,n){super(t),this.textBox=new Si(e,this.options,n),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(e){const t=this.options,{vertical:n,aboveAxis:s}=t,o=this.children[0],r=o.options,a=o.box,l=o.options.padding;let c=e;r.align=n?ve:Ie,r.vAlign=n?Oe:ve,t.position===$g?n?(r.vAlign=Oe,!s&&a.height()<e.height()&&(r.vAlign=je)):r.align=s?ze:Ie:t.position===ve?(r.vAlign=ve,r.align=ve):"insideBase"===t.position?n?r.vAlign=s?je:Oe:r.align=s?Ie:ze:t.position===ol&&(n?c=s?new B(e.x1,e.y1-a.height(),e.x2,e.y1):new B(e.x1,e.y2,e.x2,e.y2+a.height()):(r.align=ve,c=s?new B(e.x2,e.y1,e.x2+a.width(),e.y2):new B(e.x1-a.width(),e.y1,e.x1,e.y2))),t.rotation||(n?l.left=l.right=(c.width()-o.contentBox.width())/2:l.top=l.bottom=(c.height()-o.contentBox.height())/2),o.reflow(c)}alignToClipBox(e){const n=this.options.vertical?X:Y,s=n+"1",o=n+"2",a=this.parent.box;if(a[s]<e[s]||e[o]<a[o]){const l=this.children[0].paddingBox.clone();l[s]=Math.max(a[s],e[s]),l[o]=Math.min(a[o],e[o]),this.reflow(l)}}}O(h2,{position:ol,margin:qe(3),padding:qe(4),color:wt,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Wr,delay:is},zIndex:2});const V0=h2;function B0(i){const e=i.overlay;return e&&e.gradient&&"none"!==e.gradient}class Yg extends $e{constructor(e,t){super(),this.options=t,this.color=t.color||Le,this.aboveAxis=de(this.options.aboveAxis,!0),this.value=e}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options,t=e.labels;if(t.visible){const n=this.pointData();let o,s=nn(t);o=s?s(n):this.formatValue(t.format),this.label=new V0(o,w({vertical:e.vertical},t),n),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;if(this.box=e,t&&(t.options.aboveAxis=this.aboveAxis,t.reflow(e)),this.note&&this.note.reflow(e),this.errorBars)for(let n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(e)}createVisual(){const{box:e,options:t}=this,n=t.visual;if(!1!==this.visible)if(super.createVisual(),n){const s=this.rectVisual=n({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:e.toRect(),createVisual:()=>{const o=new st;return this.createRect(o),o},options:t});s&&this.visual.append(s)}else e.width()>0&&e.height()>0&&this.createRect(this.visual)}createRect(e){const t=this.options,n=t.border,s=N(n.opacity)?n.opacity:t.opacity,o=this.box.toRect();o.size.width=Math.round(o.size.width);const r=this.rectVisual=ne.fromRect(o,{fill:{color:this.color,opacity:t.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:s,dashType:n.dashType}}),a=this.box.width(),l=this.box.height();if((t.vertical?a:l)>6&&(Qi(r),(a<1||l<1)&&(r.options.stroke.lineJoin="round")),e.append(r),B0(t)){const u=this.createGradientOverlay(r,{baseColor:this.color},w({end:t.vertical?void 0:[0,1]},t.overlay));e.append(u)}}createHighlight(e){return Qi(ne.fromRect(this.box.toRect(),e))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}getBorderColor(){const e=this.color,t=this.options.border,n=t._brightness||.8;let s=t.color;return N(s)||(s=new uo(e).brightness(n).toHex()),s}tooltipAnchor(){const{options:e,box:t,aboveAxis:n}=this,s=this.owner.pane.clipBox()||t;let a,l,o=Ie,r=Oe;if(e.vertical)a=Math.min(t.x2,s.x2)+5,n?l=Math.max(t.y1,s.y1):(l=Math.min(t.y2,s.y2),r=je);else{const c=Math.max(t.x1,s.x1),u=Math.min(t.x2,s.x2);e.isStacked?(r=je,n?(o=ze,a=u):a=c,l=Math.max(t.y1,s.y1)-5):(n?a=u+5:(a=c-5,o=ze),l=Math.max(t.y1,s.y1))}return{point:new le(a,l),align:{horizontal:o,vertical:r}}}overlapsBox(e){return this.box.overlaps(e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}}w(Yg.prototype,zs),w(Yg.prototype,pu),Yg.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}}};const z0=Yg;function d2(i,e){i.forEach(e)}function p2(i,e){const t=i.length;for(let n=t-1;n>=0;n--)e(i[n],n-t-1)}class f2 extends $e{constructor(e){super(e),this.forEach=e.rtl?p2:d2}reflow(e){const{vertical:t,gap:n,spacing:s}=this.options,o=this.children,r=o.length,a=t?X:Y,l=r+n+s*(r-1),c=(t?e.height():e.width())/l;let u=e[a+1]+c*(n/2);this.forEach(o,(h,d)=>{const p=(h.box||e).clone();p[a+1]=u,p[a+2]=u+c,h.reflow(p),d<r-1&&(u+=c*s),u+=c})}}O(f2,{vertical:!1,gap:0,spacing:0});const Qg=f2;class m2 extends $e{reflow(e){const t=this.options.vertical?Y:X,n=this.children,s=n.length;let o=this.box=new B;for(let r=0;r<s;r++){const a=n[r];if(!1!==a.visible){const l=a.box.clone();l.snapTo(e,t),0===r&&(o=this.box=l.clone()),a.reflow(l),o.wrap(l)}}}}O(m2,{vertical:!0});const JZ=m2;class g2 extends er{render(){super.render(),this.updateStackRange()}pointType(){return z0}clusterType(){return Qg}stackType(){return JZ}stackLimits(e,t){return super.stackLimits(e,t)}createPoint(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,{options:a,children:l}=this,c=a.isStacked,u=this.pointValue(e);let h=this.pointOptions(o,r);const d=h.labels;c&&d.position===ol&&(d.position=$g),h.isStacked=c;let p=e.fields.color||o.color;u<0&&h.negativeColor&&(p=h.negativeColor),h=this.evalPointOptions(h,u,s,n,o,r),ht(o.color)&&(p=h.color);const m=new(this.pointType())(u,h);m.color=p;let g=l[n];return g||(g=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(g)),c?this.getStackWrap(o,g).append(m):g.append(m),m}getStackWrap(e,t){const n=e.stack,s=n&&(n.group||n),o=t.children;let r;if(typeof s===mC){for(let a=0;a<o.length;a++)if(o[a]._stackGroup===s){r=o[a];break}}else r=o[0];return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=s,t.append(r)),r}categorySlot(e,t,n){const s=this.options,o=e.getSlot(t),r=n.startValue();if(s.isStacked){const a=n.getSlot(r,r,!0),l=s.invertAxes?Y:X;o[l+1]=o[l+2]=a[l+1]}return o}reflowCategories(e){const t=this.children,n=t.length;for(let s=0;s<n;s++)t[s].reflow(e[s])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),l2(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const e=this.points;for(let t=0;t<e.length;t++){const n=e[t],s=n.visual;s&&N(s.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}}_setAnimationOptions(){const e=this.options,t=e.animation||{};let n;if(e.isStacked){const s=this.seriesValueAxis(e.series[0]);n=s.getSlot(s.startValue())}else n=this.categoryAxis.getSlot(0);t.origin=new R(n.x1,n.y1),t.vertical=!e.invertAxes}}O(g2,{animation:{type:Bs}});const Wd=g2;class Xg extends $e{constructor(e,t){super(t),this.value=e}reflow(e){const{options:t,value:n,owner:s}=this,o=s.seriesValueAxis(t),r=o.getSlot(n.open,n.close),a=o.getSlot(n.low,n.high);r.x1=a.x1=e.x1,r.x2=a.x2=e.x2,this.realBody=r;const l=a.center().x,c=[];c.push([[l,a.y1],[l,r.y1]]),c.push([[l,r.y2],[l,a.y2]]),this.lines=c,this.box=a.clone().wrap(r),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(e){const t=new st;return this.createBody(t,e),this.createLines(t,e),t}createBody(e,t){const n=ne.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:t.opacity},stroke:null});t.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:t.border.width,dashType:t.border.dashType,opacity:de(t.border.opacity,t.opacity)}),Qi(n),e.append(n),B0(t)&&e.append(this.createGradientOverlay(n,{baseColor:this.color},w({end:t.vertical?void 0:[0,1]},t.overlay)))}createLines(e,t){this.drawLines(e,t,this.lines,t.line)}drawLines(e,t,n,s){if(!n)return;const o={stroke:{color:s.color||this.color,opacity:de(s.opacity,t.opacity),width:s.width,dashType:s.dashType,lineCap:"butt"}};for(let r=0;r<n.length;r++){const a=ne.fromPoints(n[r],o);Qi(a),e.append(a)}}getBorderColor(){const e=this.options.border;let t=e.color;return N(t)||(t=new uo(this.color).brightness(e._brightness).toHex()),t}createOverlay(){const e=ne.fromRect(this.box.toRect(),{fill:{color:Le,opacity:0},stroke:null});this.visual.append(e)}createHighlight(){const e=this.options.highlight,t=this.color;this.color=e.color||this.color;const n=this.mainVisual(w({},this.options,{line:{color:this.getBorderColor()}},e));return this.color=t,n}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const e=this.box,t=this.owner.pane.clipBox()||e;return{point:new le(e.x2+5,Math.max(e.y1,t.y1)+5),align:{horizontal:Ie,vertical:Oe}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}}O(Xg,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}}),w(Xg.prototype,zs),w(Xg.prototype,pu);const H0=Xg;function y2(i){return m0(i)===i.length}class _2 extends er{reflowCategories(e){const t=this.children,n=t.length;for(let s=0;s<n;s++)t[s].reflow(e[s])}addValue(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,{children:a,options:l}=this,c=e.valueFields,h=y2(this.splitValue(c)),d=o.data[n];let f,p=this.categoryPoints[n];p||(this.categoryPoints[n]=p=[]),h&&(f=this.createPoint(e,t));let m=a[n];m||(m=new Qg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),f&&(this.updateRange(c,t),m.append(f),f.categoryIx=n,f.category=s,f.series=o,f.seriesIx=r,f.owner=this,f.dataItem=d,f.noteText=e.fields.noteText),this.points.push(f),p.push(f)}pointType(){return H0}createPoint(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,a=this.pointType(),l=e.valueFields;let c=w({},o),u=e.fields.color||o.color;c=this.evalPointOptions(c,l,s,n,o,r),o.type===su&&l.open>l.close&&(u=e.fields.downColor||o.downColor||o.color),ht(o.color)&&(u=c.color),c.vertical=!this.options.invertAxes;const h=new a(l,c);return h.color=u,h}splitValue(e){return[e.low,e.open,e.close,e.high]}updateRange(e,t){const n=t.series.axis,s=this.splitValue(e);let o=this.valueAxisRanges[n];o=this.valueAxisRanges[n]=o||{min:Tt,max:Vt},o=this.valueAxisRanges[n]={min:Math.min.apply(Math,s.concat([o.min])),max:Math.max.apply(Math,s.concat([o.max]))}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.open,n.high,n.low,n.close,e.category)}animationPoints(){return this.points}}w(_2.prototype,qg);const j0=_2;class U0 extends H0{constructor(e,t){super(e,t),this.createNote()}reflow(e){const{options:t,value:n,owner:s}=this,o=s.seriesValueAxis(t);let r,a;this.boxSlot=a=o.getSlot(n.q1,n.q3),this.realBody=a,this.reflowBoxSlot(e),this.whiskerSlot=r=o.getSlot(n.lower,n.upper),this.reflowWhiskerSlot(e);const l=o.getSlot(n.median);if(n.mean){const c=o.getSlot(n.mean);this.meanPoints=this.calcMeanPoints(e,c)}this.whiskerPoints=this.calcWhiskerPoints(a,r),this.medianPoints=this.calcMedianPoints(e,l),this.box=r.clone().wrap(a),this.reflowNote()}reflowBoxSlot(e){this.boxSlot.x1=e.x1,this.boxSlot.x2=e.x2}reflowWhiskerSlot(e){this.whiskerSlot.x1=e.x1,this.whiskerSlot.x2=e.x2}calcMeanPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}calcWhiskerPoints(e,t){const n=t.center().x;return[[[n-5,t.y1],[n+5,t.y1],[n,t.y1],[n,e.y1]],[[n-5,t.y2],[n+5,t.y2],[n,t.y2],[n,e.y2]]]}calcMedianPoints(e,t){return[[[e.x1,t.y1],[e.x2,t.y1]]]}renderOutliers(e){const t=this.value,n=t.outliers||[],s=3*Math.abs(t.q3-t.q1),o=[];let r=e.markers||{};for(let a=0;a<n.length;a++){const l=n[a];r=l<t.q3+s&&l>t.q1-s?e.outliers:e.extremes;let c=w({},r.border);N(c.color)||(c.color=N(this.color)?this.color:new uo(r.background).brightness(.8).toHex());const u=new Gr({type:r.type,width:r.size,height:r.size,rotation:r.rotation,background:r.background,border:c,opacity:r.opacity});u.value=l,o.push(u)}return this.reflowOutliers(o),o}reflowOutliers(e){const t=this.owner.seriesValueAxis(this.options),n=this.box.center();for(let s=0;s<e.length;s++){const r=t.getSlot(e[s].value);this.options.vertical?r.move(n.x):r.move(void 0,n.y),this.box=this.box.wrap(r),e[s].reflow(r)}}mainVisual(e){const t=super.mainVisual(e),n=this.renderOutliers(e);for(let s=0;s<n.length;s++){const o=n[s].getElement();o&&t.append(o)}return t}createLines(e,t){this.drawLines(e,t,this.whiskerPoints,t.whiskers),this.drawLines(e,t,this.medianPoints,t.median),this.drawLines(e,t,this.meanPoints,t.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}O(U0,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:Le,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:Ns,background:Le,border:{width:2,opacity:1},opacity:0}}),w(U0.prototype,zs);const v2=U0,tJ=class extends v2{reflowBoxSlot(e){this.boxSlot.y1=e.y1,this.boxSlot.y2=e.y2}reflowWhiskerSlot(e){this.whiskerSlot.y1=e.y1,this.whiskerSlot.y2=e.y2}calcMeanPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}calcWhiskerPoints(e,t){const n=t.center().y;return[[[t.x1,n-5],[t.x1,n+5],[t.x1,n],[e.x1,n]],[[t.x2,n-5],[t.x2,n+5],[t.x2,n],[e.x2,n]]]}calcMedianPoints(e,t){return[[[t.x1,e.y1],[t.x1,e.y2]]]}},iJ=class extends j0{addValue(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,{children:a,options:l}=this,c=e.valueFields,h=y2(this.splitValue(c)),d=o.data[n];let f,p=this.categoryPoints[n];p||(this.categoryPoints[n]=p=[]),h&&(f=this.createPoint(e,t));let m=a[n];m||(m=new Qg({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing,rtl:!l.invertAxes&&(this.chartService||{}).rtl}),this.append(m)),f&&(this.updateRange(c,t),m.append(f),f.categoryIx=n,f.category=s,f.series=o,f.seriesIx=r,f.owner=this,f.dataItem=d),this.points.push(f),p.push(f)}pointType(){return this.options.invertAxes?tJ:v2}splitValue(e){return[e.lower,e.q1,e.median,e.q3,e.upper]}updateRange(e,t){const n=t.series.axis;let s=this.valueAxisRanges[n],o=this.splitValue(e).concat(this.filterOutliers(e.outliers));N(e.mean)&&(o=o.concat(e.mean)),s=this.valueAxisRanges[n]=s||{min:Tt,max:Vt},s=this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([s.min])),max:Math.max.apply(Math,o.concat([s.max]))}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,e.category)}filterOutliers(e){const t=(e||[]).length,n=[];for(let s=0;s<t;s++){const o=e[s];N(o)&&null!==o&&n.push(o)}return n}supportsPointInactiveOpacity(){return!1}},oJ=class extends s2{getAxis(){const e=this.chart.seriesAxes(this.series);return this.isVertical?e.y:e.x}};function Di(i){return N(i)&&null!==i}class $0 extends $e{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(e,t,n){const s=e.value[t],o=t+"Value",r=t+"ErrorLow",a=t+"ErrorHigh",{seriesIx:l,series:c}=n,u=e.options.errorBars,h=n[r],d=n[a];if(Ce(s)){let p;Ce(h)&&Ce(d)&&(p={low:h,high:d}),u&&N(u[o])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[t][l]=this.seriesErrorRanges[t][l]||new qR(u[o],c,t),p=this.seriesErrorRanges[t][l].getErrorRange(s,u[o])),p&&this.addPointErrorBar(p,e,t)}}addPointErrorBar(e,t,n){const{low:s,high:o}=e,{series:r,options:{errorBars:a}}=t,l=n===X,c={};t[n+"Low"]=s,t[n+"High"]=o,t.errorBars=t.errorBars||[];const u=new oJ(s,o,l,this,r,a);t.errorBars.push(u),t.append(u),c[n]=s,this.updateRange(c,r),c[n]=o,this.updateRange(c,r)}addValue(e,t){const{x:n,y:s}=e,o=t.seriesIx,a=this.seriesMissingValues(this.options.series[o]),l=this.seriesPoints[o];let u,c=e;Di(n)&&Di(s)||(c=this.createMissingValue(c,a)),c&&(u=this.createPoint(c,t),u&&(Object.assign(u,t),this.addErrorBar(u,Y,t),this.addErrorBar(u,X,t)),this.updateRange(c,t.series)),this.points.push(u),l.push(u)}seriesMissingValues(e){return e.missingValues}createMissingValue(){}updateRange(e,t){const n=this.chartService.intl,{xAxis:s,yAxis:o}=t;let{x:r,y:a}=e,l=this.xAxisRanges[s],c=this.yAxisRanges[o];Di(r)&&(l=this.xAxisRanges[s]=l||{min:Tt,max:Vt},Ho(r)&&(r=wn(n,r)),l.min=Math.min(l.min,r),l.max=Math.max(l.max,r)),Di(a)&&(c=this.yAxisRanges[o]=c||{min:Tt,max:Vt},Ho(a)&&(a=wn(n,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a))}evalPointOptions(e,t,n){const{series:s,seriesIx:o}=n,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint"]};let a=this._evalSeries[o];N(a)||(this._evalSeries[o]=a=Jo(e,{},r,!0));let l=e;return a&&(l=w({},e),Jo(l,{value:t,series:s,dataItem:n.dataItem},r)),l}pointType(){return rl}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=n=w({},s,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n}createPoint(e,t){const n=t.series;let s=this.pointOptions(n,t.seriesIx),o=t.color||n.color;s=this.evalPointOptions(s,e,t),ht(n.color)&&(o=s.color);const r=new rl(e,s);return r.color=o,this.append(r),r}seriesAxes(e){const{xAxis:t,yAxis:n}=e,s=this.plotArea,o=t?s.namedXAxes[t]:s.axisX,r=n?s.namedYAxes[n]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{x:o,y:r}}reflow(e){const t=this.points,n=!this.options.clip;let s=0;this.traverseDataPoints((o,r)=>{const a=t[s++],l=this.seriesAxes(r.series),c=l.x.getSlot(o.x,o.x,n),u=l.y.getSlot(o.y,o.y,n);if(a)if(c&&u){const h=this.pointSlot(c,u);a.reflow(h)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new B(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t},seriesPoints:n}=this;for(let s=0;s<t.length;s++){const o=t[s];n[s]||(n[s]=[]);for(let a=0;a<o.data.length;a++){const{valueFields:l,fields:c}=this._bindPoint(o,s,a);e(l,w({pointIx:a,series:o,seriesIx:s,dataItem:o.data[a],owner:this},c))}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}}O($0,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),w($0.prototype,qg,{_bindPoint:er.prototype._bindPoint});const Zg=$0;class Jg extends rl{constructor(e,t){super(e,t),this.category=e.category}createHighlight(){const e=this.options.highlight,t=e.border,n=this.options.markers,s=this.box.center(),o=(n.size+n.border.width+t.width)/2,r=new st,a=new Wo(new ts([s.x,s.y+o/5+t.width/2],o+t.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),l=new Wo(new ts([s.x,s.y],o),{stroke:{color:t.color||new uo(n.background).brightness(.8).toHex(),width:t.width,opacity:t.opacity},fill:{color:n.background,opacity:e.opacity}});return r.append(a,l),r}}Jg.prototype.defaults=w({},Jg.prototype.defaults,{labels:{position:ve},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),Jg.prototype.defaults.highlight.zIndex=void 0;const x2=Jg;class b2 extends Zg{_initFields(){this._maxSize=Vt,super._initFields()}addValue(e,t){null!==e.size&&(e.size>0||e.size<0&&t.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(e.size)),super.addValue(e,t)):(this.points.push(null),this.seriesPoints[t.seriesIx].push(null))}reflow(e){this.updateBubblesSize(e),super.reflow(e)}pointType(){return x2}createPoint(e,t){const n=t.series,o=t.pointIx*(is/n.data.length),r={delay:o,duration:is-o,type:iu};let a=t.color||n.color;e.size<0&&n.negativeValues.visible&&(a=de(n.negativeValues.color,a));let l=w({labels:{animation:{delay:o,duration:is-o}}},this.pointOptions(n,t.seriesIx),{markers:{type:Ns,border:n.border,opacity:n.opacity,animation:r}});l=this.evalPointOptions(l,e,t),ht(n.color)&&(a=l.color),l.markers.background=a;const c=new x2(e,l);return c.color=a,this.append(c),c}updateBubblesSize(e){const{options:{series:t}}=this,n=Math.min(e.width(),e.height());for(let s=0;s<t.length;s++){const o=t[s],r=this.seriesPoints[s],c=(o.minSize||Math.max(.02*n,10))/2,u=(o.maxSize||.2*n)/2,h=Math.PI*c*c,f=(Math.PI*u*u-h)/this._maxSize;for(let m=0;m<r.length;m++){const g=r[m];if(g){const v=Math.abs(g.value.size)*f,x=Math.sqrt((h+v)/Math.PI),M=de(g.options.zIndex,0)+(1-x/u);w(g.options,{zIndex:M,markers:{size:2*x,zIndex:M},labels:{zIndex:M+1}})}}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.size,e.category)}createAnimation(){}createVisual(){}}O(b2,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const rJ=b2;class C2 extends Gr{}w(C2.prototype,zs);const aJ=C2;class qd extends $e{constructor(e,t){super(t),this.aboveAxis=this.options.aboveAxis,this.color=t.color||Le,this.value=e}render(){const e=this.options;this._rendered||(this._rendered=!0,N(this.value.target)&&(this.target=new aJ({type:e.target.shape,background:e.target.color||this.color,opacity:e.opacity,zIndex:e.zIndex,border:e.target.border,vAlign:Oe,align:ze}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){const t=this.options.labels;if(t.visible){const n=this.pointData();let o,s=nn(t);o=s?s(n):this.formatValue(t.format),this.label=new V0(o,t,n),this.append(this.label)}}reflow(e){this.render();const{options:t,target:n,owner:s}=this,o=t.invertAxes,r=s.seriesValueAxis(this.options),a=s.categorySlot(s.categoryAxis,t.categoryIx,r),l=r.getSlot(this.value.target),c=o?l:a,u=o?a:l;if(n){const d=new B(c.x1,u.y1,c.x2,u.y2);n.options.height=o?d.height():t.target.line.width,n.options.width=o?t.target.line.width:d.width(),n.reflow(d)}const h=this.label;h&&(h.options.aboveAxis=this.aboveAxis,h.reflow(e)),this.note&&this.note.reflow(e),this.box=e}createVisual(){super.createVisual();const e=this.options,t=ne.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&t.options.set("stroke",{color:e.border.color||this.color,width:e.border.width,dashType:e.border.dashType,opacity:de(e.border.opacity,e.opacity)}),this.bodyVisual=t,Qi(t),this.visual.append(t)}createAnimation(){this.bodyVisual&&(this.animation=Ti.create(this.bodyVisual,this.options.animation))}createHighlight(e){return ne.fromRect(this.box.toRect(),e)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(e){return this.owner.formatPointValue(this,e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(e){return this.box.overlaps(e)}}qd.prototype.tooltipAnchor=z0.prototype.tooltipAnchor,O(qd,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}}}),w(qd.prototype,zs),w(qd.prototype,pu);const lJ=qd;class G0 extends er{constructor(e,t){!function(i){const e=i.series;for(let t=0;t<e.length;t++){const n=e[t],s=n.data;s&&!fn(s[0])&&!ks(s[0])&&(n.data=[s])}}(t),super(e,t)}reflowCategories(e){const t=this.children,n=t.length;for(let s=0;s<n;s++)t[s].reflow(e[s])}plotRange(e){const n=this.seriesValueAxis(e.series),s=this.categoryAxisCrossingValue(n);return[s,e.value.current||s]}createPoint(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t,{options:a,children:l}=this,c=e.valueFields;let u=w({vertical:!a.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:a.invertAxes},o),h=e.fields.color||o.color;u=this.evalPointOptions(u,c,s,n,o,r),ht(o.color)&&(h=u.color);const d=new lJ(c,u);d.color=h;let p=l[n];return p||(p=new Qg({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(p)),p.append(d),d}updateRange(e,t){const{current:n,target:s}=e,o=t.series.axis;let r=this.valueAxisRanges[o];N(n)&&!isNaN(n)&&N(s&&!isNaN(s))&&(r=this.valueAxisRanges[o]=r||{min:Tt,max:Vt},r.min=Math.min(r.min,n,s),r.max=Math.max(r.max,n,s))}formatPointValue(e,t){return this.chartService.format.auto(t,e.value.current,e.value.target)}pointValue(e){return e.valueFields.current}aboveAxis(e){return e.value.current>0}createAnimation(){const e=this.points;this._setAnimationOptions();for(let t=0;t<e.length;t++){const n=e[t];n.options.animation=this.options.animation,n.createAnimation()}}}G0.prototype._setAnimationOptions=Wd.prototype._setAnimationOptions,O(G0,{animation:{type:Bs}});const uJ=G0;class w2 extends q{constructor(e,t){super(),this.chartService=e,this.options=w({},this.options,t)}getStyle(e,t){let{background:n,border:{color:s}}=e;if(t){const r=t.color||t.options.color;n=de(n,r),s=de(s,r)}const o=qe(e.padding||{},"auto");return{backgroundColor:n,borderColor:s,font:e.font,color:e.color,opacity:e.opacity,borderWidth:qc(e.border.width),paddingTop:qc(o.top),paddingBottom:qc(o.bottom),paddingLeft:qc(o.left),paddingRight:qc(o.right)}}show(e,t,n){e.format=t.format;const s=this.getStyle(t,n);e.style=s;const o=new uo(s.backgroundColor);!N(t.color)&&!o.isDark()&&(e.className="k-chart-tooltip-inverse"),this.chartService.notify(e2,e),this.visible=!0}hide(){this.chartService&&this.chartService.notify(t2),this.visible=!1}destroy(){delete this.chartService}}O(w2,{border:{width:1},opacity:1});const W0=w2;class T2 extends W0{constructor(e,t,n){super(e,n),this.crosshair=t,this.formatService=e.format,this.initAxisName()}initAxisName(){const e=this.crosshair.axis;let n;n=e.plotArea.categoryAxis?e.getCategory?"categoryAxis":"valueAxis":e.options.vertical?"yAxis":"xAxis",this.axisName=n}showAt(e){const{crosshair:{axis:t},options:n}=this;let s=t[n.stickyMode?"getCategory":"getValue"](e),o=s;n.format?o=this.formatService.auto(n.format,s):t.options.type===Vr&&(o=this.formatService.auto(t.options.labels.dateFormats[t.options.baseUnit],s)),this.show({point:e,anchor:this.getAnchor(),crosshair:this.crosshair,value:o,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(t2,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:e,options:{position:t,padding:n}}=this,s=!e.axis.options.vertical,o=e.line.bbox();let r,a,l;return s?(r=ve,t===je?(a=Oe,l=o.bottomLeft().translate(0,n)):(a=je,l=o.topLeft().translate(0,-n))):(a=ve,t===Ie?(r=ze,l=o.topLeft().translate(-n,0)):(r=Ie,l=o.topRight().translate(n,0))),{point:l,align:{horizontal:r,vertical:a}}}}O(T2,{padding:10});const hJ=T2;class S2 extends $e{constructor(e,t,n){super(n),this.axis=t,this.stickyMode=t instanceof Yo;const s=this.options.tooltip;s.visible&&(this.tooltip=new hJ(e,this,w({},s,{stickyMode:this.stickyMode})))}showAt(e){this.point=e,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(e)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:e,point:t}=this,n=e.options.vertical,s=this.getBox(),o=n?X:Y,r=new R(s.x1,s.y1);let a;if(a=n?new R(s.x2,s.y1):new R(s.x1,s.y2),t)if(this.stickyMode){const l=e.getSlot(e.pointCategoryIndex(t));r[o]=a[o]=l.center()[o]}else r[o]=a[o]=t[o];this.box=s,this.line.moveTo(r).lineTo(a)}getBox(){const e=this.axis,t=e.pane.axes,n=t.length,s=e.options.vertical,o=e.lineBox().clone(),r=s?Y:X;let a;for(let l=0;l<n;l++){const c=t[l];c.options.vertical!==s&&(a?a.wrap(c.lineBox()):a=c.lineBox().clone())}return o[r+1]=a[r+1],o[r+2]=a[r+2],o}createVisual(){super.createVisual();const e=this.options;this.line=new ne({stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}O(S2,{color:wt,width:2,zIndex:-1,tooltip:{visible:!1}});const dJ=S2;class D2 extends $e{constructor(e,t){super(e),this.pane=t}shouldClip(){const e=this.children,t=e.length;for(let n=0;n<t;n++)if(!0===e[n].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new st({zIndex:0}),this.shouldClip()){const t=(this.clipBox=this._clipBox()).toRect(),n=ne.fromRect(t);Qi(n),this.visual.clip(n),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:e,clipBox:t}=this;for(let n=0;n<e.length;n++){const s=e[n].points||{},o=s.length;for(let r=0;r<o;r++){const a=s[r];if(a&&!1!==a.visible&&a.overlapsBox&&a.overlapsBox(t))if(a.unclipElements)a.unclipElements();else{const{label:l,note:c}=a;l&&l.options.visible&&(l.alignToClipBox&&l.alignToClipBox(t),l.options.noclip=!0),c&&c.options.visible&&(c.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}D2.prototype.isStackRoot=!0;const pJ=D2;class Kd extends el{constructor(e){super(e),this.id="pane"+fJ++,this.createTitle(),this.content=new $e,this.chartContainer=new pJ({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let e=this.options.title;ks(e)&&(e=w({},e,{align:e.position,position:Oe})),this.title=_g.buildTitle(e,Kd.prototype.options.title),this.title&&this.append(this.title)}appendAxis(e){this.content.append(e),this.axes.push(e),e.pane=this}appendAxisAt(e,t){this.content.append(e),this.axes.splice(t,0,e),e.pane=this}appendChart(e){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(e),this.chartContainer.append(e),e.pane=this}empty(){const e=this.parent;if(e){for(let t=0;t<this.axes.length;t++)e.removeAxis(this.axes[t]);for(let t=0;t<this.charts.length;t++)e.removeChart(this.charts[t])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(e){let t;St(this.children)===this.content&&(t=this.children.pop()),super.reflow(e),t&&this.children.push(t),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const e=super.visualStyle();return e.zIndex=-10,e}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const e=this.axes,t=e.concat(this.parent.axes),n=[],s=[];for(let o=0;o<e.length;o++){const r=e[o],a=r.options.vertical,l=a?n:s;for(let c=0;c<t.length;c++)if(0===l.length){const u=t[c];a!==u.options.vertical&&Qa(l,r.createGridLines(u))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const e=this.axes,t=e.length,n=new B;for(let s=0;s<t;s++){const o=e[s],r=o.options.vertical?X:Y,a=o.lineBox();n[r+1]=a[r+1],n[r+2]=a[r+2]}if(0===n.x2){const s=this.parent.axes,o=s.length;for(let r=0;r<o;r++){const a=s[r];if(!a.options.vertical){const l=a.lineBox();n.x1=l.x1,n.x2=l.x2}}}return n}clipBox(){return this.chartContainer.clipBox}notifyRender(){const e=this.getService();e&&e.notify("paneRender",{pane:new f0(this),index:this.paneIndex,name:this.options.name})}}let fJ=1;Kd.prototype.isStackRoot=!0,O(Kd,{zIndex:-1,shrinkToFit:!0,title:{align:Ie},visible:!0});const gJ=Kd;function ey(i,e){null!==e&&i.push(e)}function yJ(i,e,t){const n=e.visible;if(N(n))return n;const s=i.pointVisibility;return s?s[t]:void 0}function E2(i){const e=i.data,t=[];let n=0,s=0;for(let o=0;o<e.length;o++){const r=Dt.current.bindPoint(i,o);let a=r.valueFields.value;Ho(a)&&(a=parseFloat(a)),Ce(a)?(r.visible=!1!==yJ(i,r.fields,o),r.value=Math.abs(a),t.push(r),r.visible&&(n+=r.value),0!==a&&s++):t.push(null)}return{total:n,points:t,count:s}}function Yr(i,e){return i&&e?i.toLowerCase()===e.toLowerCase():i===e}function Et(i,e){const t=[],n=[].concat(e);for(let s=0;s<i.length;s++){const o=i[s];Se(o.type,n)&&t.push(o)}return t}function A2(i,e,t){if(null===e)return e;const n="_date_"+i;let s=e[n];return s||(s=wn(t,jo(i)(e)),e[n]=s),s}function M2(i,e){const t=i.type,n=e instanceof Date;return!t&&n||Yr(t,Vr)}function gu(i){return 1===i.length?i[0]:i}const _J=/area/i;function q0(i,e){const n=Dt.current.bindPoint(i,null,e).valueFields;for(let s in n)if(XN(n[s]))return!0}function P2({start:i,dir:e,min:t,max:n,getter:s,hasItem:o,series:r}){let a,l,c=i;do{c+=e,o(c)&&(l=s(c),a=q0(r,l.item))}while(t<=c&&c<=n&&!a);if(a)return l}function I2(i,e,t,n,s){const{min:o,max:r}=e,a=o>0&&o<t,l=r+1<t;if(a||l){let u,h;if(function(i){return i.missingValues?i.missingValues:_J.test(i.type)||i.stack?Xo:tu}(i)!==tu)a&&(u=n(o-1)),l&&(h=n(r+1));else{let d,p;a&&(d=n(o-1),p=q0(i,d.item),u=p?d:P2({start:o,dir:-1,min:0,max:t-1,getter:n,hasItem:s,series:i})),l&&(d=n(r+1),p=q0(i,d.item),h=p?d:P2({start:r,dir:1,min:0,max:t-1,getter:n,hasItem:s,series:i}))}u&&(i._outOfRangeMinPoint=u),h&&(i._outOfRangeMaxPoint=h)}}class N2 extends $e{constructor(e,t,n){super(t),this.initFields(e,t),this.series=e,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.items=[],this.axes=[],this.crosshairs=[],this.chartService=n,this.originalOptions=t,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const e=this.series;for(let t=0;t<e.length;t++)e[t].index=t}createPanes(){const e=this.options.title||{},t=this.options.paneDefaults,n=this.options.panes||[],s=Math.max(n.length,1),o=[],r=w({title:{color:e.color}},t);for(let a=0;a<s;a++){const l=w({},r,n[a]);Ho(l.title)&&(l.title=w({text:l.title},r.title));const c=new gJ(l);c.paneIndex=a,o.push(c),this.append(c)}this.panes=o}crosshairOptions(e){return e.options.crosshair}createCrosshairs(e=this.panes){for(let t=0;t<e.length;t++){const n=e[t];for(let s=0;s<n.axes.length;s++){const o=n.axes[s],r=this.crosshairOptions(o);if(r&&r.visible){const a=new dJ(this.chartService,o,r);this.crosshairs.push(a),n.content.append(a)}}}}removeCrosshairs(e){const t=this.crosshairs,n=e.axes;for(let s=t.length-1;s>=0;s--)for(let o=0;o<n.length;o++)if(t[s].axis===n[o]){t.splice(s,1);break}}hideCrosshairs(){const e=this.crosshairs;for(let t=0;t<e.length;t++)e[t].hide()}findPane(e){const t=this.panes;let n;for(let s=0;s<t.length;s++)if(t[s].options.name===e){n=t[s];break}return n||t[0]}findPointPane(e){const t=this.panes;let n;for(let s=0;s<t.length;s++)if(t[s].box.containsPoint(e)){n=t[s];break}return n}appendAxis(e){this.findPane(e.options.pane).appendAxis(e),this.axes.push(e),e.plotArea=this}removeAxis(e){const t=[];for(let n=0;n<this.axes.length;n++){const s=this.axes[n];e!==s?t.push(s):s.destroy()}this.axes=t}appendChart(e,t){this.charts.push(e),t?t.appendChart(e):this.append(e)}removeChart(e){const t=[];for(let n=0;n<this.charts.length;n++){const s=this.charts[n];s!==e?t.push(s):s.destroy()}this.charts=t}addToLegend(e){const t=e.length,n=this.options.legend,s=n.labels||{},o=n.inactiveItems||{},r=o.labels||{},a=[];for(let l=0;l<t;l++){const c=e[l],u=!1!==c.visible;if(!1===c.visibleInLegend)continue;let h=c.name;const d=u?nn(s):nn(r)||nn(s);d&&(h=d({text:Di(h)?h:"",series:c}));const p=c._defaults;let m,g,f=c.color;ht(f)&&p&&(f=p.color),u?(m={},g=f):(m={color:r.color,font:r.font},g=o.markers.color),Di(h)&&""!==h&&a.push({text:h,labels:m,markerColor:g,series:c,active:u})}Qa(n.items,a)}groupAxes(e){const t=[],n=[];for(let s=0;s<e.length;s++){const o=e[s].axes;for(let r=0;r<o.length;r++){const a=o[r];a.options.vertical?n.push(a):t.push(a)}}return{x:t,y:n,any:t.concat(n)}}groupSeriesByPane(){const e=this.series,t={};for(let n=0;n<e.length;n++){const s=e[n],o=this.seriesPaneName(s);t[o]?t[o].push(s):t[o]=[s]}return t}filterVisibleSeries(e){const t=[];for(let n=0;n<e.length;n++){const s=e[n];!1!==s.visible&&t.push(s)}return t}reflow(e){const n=this.panes,s=qe(this.options.plotArea.margin);this.box=e.clone().unpad(s),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)}redraw(e){const t=[].concat(e);this.initSeries();const n=this.getRoot();n&&n.cleanGradients();for(let s=0;s<t.length;s++)this.removeCrosshairs(t[s]),t[s].empty();this.render(t),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(t),this.createCrosshairs(t);for(let s=0;s<t.length;s++)t[s].refresh()}axisCrossingValues(e,t){const n=e.options,s=[].concat(n.axisCrossingValues||n.axisCrossingValue),o=t.length-s.length,r=s[0]||0;for(let a=0;a<o;a++)s.push(r);return s}alignAxisTo(e,t,n,s){const o=e.getSlot(n,n,!0),r=e.options.reverse?2:1,a=t.getSlot(s,s,!0),l=t.options.reverse?2:1,c=e.box.translate(a[Y+l]-o[Y+r],a[X+l]-o[X+r]);e.pane!==t.pane&&c.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(c)}alignAxes(e,t){const n=e[0],s=t[0],o=this.axisCrossingValues(n,t),r=this.axisCrossingValues(s,e),a={},l={},c={},u={};for(let h=0;h<t.length;h++){const d=t[h],p=d.pane,f=p.id,m=!1!==d.options.visible,g=Y0(e,p)||n;let v=o;g!==n&&(v=this.axisCrossingValues(g,t)),this.alignAxisTo(d,g,r[h],v[h]),!d.options._overlap&&(V(d.lineBox().x1)===V(g.lineBox().x1)&&(a[f]&&d.reflow(d.box.alignTo(a[f].box,Ie).translate(-d.options.margin,0)),m&&(a[f]=d)),V(d.lineBox().x2)===V(g.lineBox().x2)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,g,r[h],v[h]),l[f]&&d.reflow(d.box.alignTo(l[f].box,ze).translate(d.options.margin,0)),m&&(l[f]=d)),0!==h&&s.pane===d.pane&&(d.alignTo(s),d.reflow(d.box)))}for(let h=0;h<e.length;h++){const d=e[h],p=d.pane,f=p.id,m=!1!==d.options.visible,g=Y0(t,p)||s;let v=r;g!==s&&(v=this.axisCrossingValues(g,e)),this.alignAxisTo(d,g,o[h],v[h]),!d.options._overlap&&(V(d.lineBox().y1)===V(g.lineBox().y1)&&(d._mirrored||(d.options.labels.mirror=!d.options.labels.mirror,d._mirrored=!0),this.alignAxisTo(d,g,o[h],v[h]),c[f]&&d.reflow(d.box.alignTo(c[f].box,Oe).translate(0,-d.options.margin)),m&&(c[f]=d)),V(d.lineBox().y2,3)===V(g.lineBox().y2,3)&&(u[f]&&d.reflow(d.box.alignTo(u[f].box,je).translate(0,d.options.margin)),m&&(u[f]=d)),0!==h&&(d.alignTo(n),d.reflow(d.box)))}}shrinkAxisWidth(e){const t=this.groupAxes(e).any,n=K0(t);let s=0;for(let o=0;o<e.length;o++){const r=e[o];r.axes.length>0&&(s=Math.max(s,n.width()-r.contentBox.width()))}if(0!==s)for(let o=0;o<t.length;o++){const r=t[o];r.options.vertical||r.reflow(r.box.shrink(s,0))}}shrinkAxisHeight(e){let t;for(let n=0;n<e.length;n++){const s=e[n],o=s.axes,r=Math.max(0,K0(o).height()-s.contentBox.height());if(0!==r){for(let a=0;a<o.length;a++){const l=o[a];l.options.vertical&&l.reflow(l.box.shrink(0,r))}t=!0}}return t}fitAxes(e){const t=this.groupAxes(e).any;let n=0;for(let s=0;s<e.length;s++){const o=e[s],r=o.axes,a=o.contentBox;if(r.length>0){const l=K0(r),c=Math.max(a.y1-l.y1,a.y2-l.y2);n=Math.max(n,a.x1-l.x1);for(let u=0;u<r.length;u++){const h=r[u];h.reflow(h.box.translate(0,c))}}}for(let s=0;s<t.length;s++){const o=t[s];o.reflow(o.box.translate(n,0))}}reflowAxes(e){const t=this.groupAxes(e);for(let n=0;n<e.length;n++)this.reflowPaneAxes(e[n]);t.x.length>0&&t.y.length>0&&(this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e),this.autoRotateAxisLabels(t),this.alignAxes(t.x,t.y),this.shrinkAxisWidth(e)&&this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e),this.alignAxes(t.x,t.y),this.shrinkAxisHeight(e)&&this.alignAxes(t.x,t.y),this.fitAxes(e))}autoRotateAxisLabels(e){const{panes:t}=this,n=CJ(t);let s;for(let o=0;o<n.length;o++)n[o].autoRotateLabels()&&(s=!0);if(s){for(let o=0;o<t.length;o++)this.reflowPaneAxes(t[o]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(t))}}reflowPaneAxes(e){const t=e.axes,n=t.length;if(n>0)for(let s=0;s<n;s++)t[s].reflow(e.contentBox)}reflowCharts(e){const t=this.charts,n=t.length,s=this.box;for(let o=0;o<n;o++){const r=t[o].pane;(!r||Se(r,e))&&t[o].reflow(s)}}reflowPanes(){const{box:e,panes:t}=this,n=t.length;let s=e.height(),r=0,a=e.y1;for(let l=0;l<n;l++){const c=t[l],u=c.options.height;if(c.options.width=e.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){const h=parseInt(u,10)/100;c.options.height=h*e.height()}c.reflow(e.clone()),s-=c.options.height}else r++}for(let l=0;l<n;l++){const c=t[l];c.options.height||(c.options.height=s/r)}for(let l=0;l<n;l++){const c=t[l],u=e.clone().move(e.x1,a);c.reflow(u),a+=c.options.height}}backgroundBox(){const e=this.axes,t=e.length;let n;for(let s=0;s<t;s++){const o=e[s];for(let r=0;r<t;r++){const a=e[r];if(o.options.vertical!==a.options.vertical){const l=o.lineBox().clone().wrap(a.lineBox());n=n?n.wrap(l):l}}}return n||this.box}chartsBoxes(){const e=this.panes,t=[];for(let n=0;n<e.length;n++)t.push(e[n].chartsBox());return t}addBackgroundPaths(e){const t=this.chartsBoxes();for(let n=0;n<t.length;n++)e.paths.push(ne.fromRect(t[n].toRect()))}backgroundContainsPoint(e){const t=this.chartsBoxes();for(let n=0;n<t.length;n++)if(t[n].containsPoint(e))return!0}createVisual(){super.createVisual();const e=this.options.plotArea;let{opacity:t,background:n,border:s={}}=e;(function(i){return""===i||null===i||"none"===i||"transparent"===i||!N(i)})(n)&&(n=Le,t=0);const o=this._bgVisual=new po({fill:{color:n,opacity:t},stroke:{color:s.width?s.color:"",width:s.width,dashType:s.dashType},zIndex:-1});this.addBackgroundPaths(o),this.appendVisual(o)}pointsByCategoryIndex(e){const t=this.charts,n=[];if(null!==e)for(let s=0;s<t.length;s++){if("_navigator"===t[s].pane.options.name)continue;const r=t[s].categoryPoints[e];if(r&&r.length)for(let a=0;a<r.length;a++){const l=r[a];l&&N(l.value)&&null!==l.value&&n.push(l)}}return n}pointsBySeriesIndex(e){return this.filterPoints(function(t){return t.series.index===e})}pointsBySeriesName(e){return this.filterPoints(function(t){return t.series.name===e})}filterPoints(e){const t=this.charts,n=[];for(let s=0;s<t.length;s++){const r=t[s].points;for(let a=0;a<r.length;a++){const l=r[a];l&&!1!==l.visible&&e(l)&&n.push(l)}}return n}findPoint(e){const t=this.charts;for(let n=0;n<t.length;n++){const o=t[n].points;for(let r=0;r<o.length;r++){const a=o[r];if(a&&!1!==a.visible&&e(a))return a}}}paneByPoint(e){const t=this.panes;for(let n=0;n<t.length;n++){const s=t[n];if(s.box.containsPoint(e))return s}}detachLabels(){const e=this.groupAxes(this.panes),t=e.x,n=e.y;this.detachAxisGroupLabels(n,t),this.detachAxisGroupLabels(t,n)}detachAxisGroupLabels(e,t){let n=0;for(let s=0;s<e.length;s++){const o=e[s],r=o.pane,a=Y0(t,r)||t[0],c=this.createLabelAxis(o,s+n,a);if(c){n++;const u=r.axes.indexOf(o)+n;r.appendAxisAt(c,u)}}}createLabelAxis(e,t,n){const s=e.options.labels,o=s.position;if("end"!==o&&"start"!==o||!1===s.visible)return null;const l=this.groupAxes(this.panes),u=this.axisCrossingValues(n,n.options.vertical?l.x:l.y),h="end"===o,d=n.range(),p=h?d.max:d.min;if(ee(u[t],d.min,d.max)-p==0)return null;u.splice(t+1,0,p),n.options.axisCrossingValues=u;const m=e.clone();return e.clear(),m.options.name=void 0,m.options.line.visible=!1,m.options.crosshair=void 0,m.options.notes=void 0,m.options.plotBands=void 0,m}}function xJ(i){return!i.pane.axes.some(e=>e.options.vertical===i.options.vertical&&e!==i&&!1!==e.options.visible)}function K0(i){const e=i.length;let t;for(let n=0;n<e;n++){const s=i[n],o=!1!==s.options.visible;if(o||xJ(s)){const r=o?s.contentBox():s.lineBox();t?t.wrap(r):t=r.clone()}}return t||new B}function Y0(i,e){for(let t=0;t<i.length;t++){const n=i[t];if(n&&n.pane===e)return n}}const CJ=i=>i.reduce((e,t)=>e.concat(t.axes),[]);O(N2,{series:[],plotArea:{margin:{}},background:"",border:{color:wt,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const Qr=N2,Yd={hover:function(i,e){this._dispatchEvent(i,e,JR)},click:function(i,e){this._dispatchEvent(i,e,"plotAreaClick")}};function TJ(i,e,t){let n=e,s=i;if(i.indexOf(".")>-1){const o=i.split(".");for(;o.length>1;)s=o.shift(),N(n[s])||(n[s]={}),n=n[s];s=o.shift()}n[s]=t}const SJ=class extends q{constructor(e,t,n){super();const s=t.canonicalFields(e),o=t.valueFields(e),r=t.sourceFields(e,s),a=this._seriesFields=[],l=n.query(e.type),c=e.aggregate||l;this._series=e,this._binder=t;for(let u=0;u<s.length;u++){const h=s[u];let d;if(ks(c))d=c[h];else{if(0!==u&&!Se(h,o))break;d=c}d&&a.push({canonicalName:h,name:r[u],transform:ht(d)?d:yZ[d]})}}aggregatePoints(e,t){const{_series:n,_seriesFields:s}=this,o=this._bindPoints(e||[]),r=o.dataItems[0];let a={};if(r&&!Ce(r)&&!fn(r)){const l=function(){};l.prototype=r,a=new l}for(let l=0;l<s.length;l++){const c=s[l],u=this._bindField(o.values,c.canonicalName),h=c.transform(u,n,o.dataItems,t);if(!(null===h||!ks(h)||N(h.length)||h instanceof Date)){a=h;break}N(h)&&TJ(c.name,a,h)}return a}_bindPoints(e){const{_binder:t,_series:n}=this,s=[],o=[];for(let r=0;r<e.length;r++){const a=e[r];s.push(t.bindPoint(n,a)),o.push(n.data[a])}return{values:s,dataItems:o}}_bindField(e,t){const n=[],s=e.length;for(let o=0;o<s;o++){const r=e[o],a=r.valueFields;let l;l=N(a[t])?a[t]:r.fields[t],n.push(l)}return n}};class Q0 extends q{constructor(){super(),this._defaults={}}register(e,t){for(let n=0;n<e.length;n++)this._defaults[e[n]]=t}query(e){return this._defaults[e]}}Q0.current=new Q0;const al=Q0;class X0 extends z0{createLabel(){const e=this.options.labels,t=w({},e,e.from),n=w({},e,e.to);t.visible&&(this.labelFrom=this._createLabel(t),this.append(this.labelFrom)),n.visible&&(this.labelTo=this._createLabel(n),this.append(this.labelTo))}_createLabel(e){const t=nn(e),n=this.pointData();let s;return s=t?t(n):this.formatValue(e.format),new V0(s,w({vertical:this.options.vertical},e),n)}reflow(e){this.render();const{labelFrom:t,labelTo:n,value:s}=this;this.box=e,t&&(t.options.aboveAxis=s.from>s.to,t.reflow(e)),n&&(n.options.aboveAxis=s.to>s.from,n.reflow(e)),this.note&&this.note.reflow(e)}}X0.prototype.defaults=w({},X0.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const DJ=X0;class k2 extends Wd{pointType(){return DJ}pointValue(e){return e.valueFields}formatPointValue(e,t){return null===e.value.from&&null===e.value.to?"":this.chartService.format.auto(t,e.value.from,e.value.to)}plotRange(e){return e?[e.value.from,e.value.to]:0}updateRange(e,t){const n=t.series.axis,{from:s,to:o}=e;let r=this.valueAxisRanges[n];null!==e&&Ce(s)&&Ce(o)&&(r=this.valueAxisRanges[n]=r||{min:Tt,max:Vt},r.min=Math.min(r.min,s),r.max=Math.max(r.max,s),r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}aboveAxis(e){const t=e.value;return t.from<t.to}}k2.prototype.plotLimits=er.prototype.plotLimits;const EJ=k2,R2=class extends rl{aliasFor(){return this.parent}};class ty extends $e{constructor(e,t){super(),this.value=e,this.options=t,this.aboveAxis=de(this.options.aboveAxis,!0),this.tooltipTracking=!0,this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:e,labels:t}=this.options,n=this.value,s=this.fromPoint=new R2(n,w({},this.options,{labels:t.from,markers:e.from})),o=this.toPoint=new R2(n,w({},this.options,{labels:t.to,markers:e.to}));this.copyFields(s),this.copyFields(o),this.append(s),this.append(o)}reflow(e){this.render();const{from:t,to:n}=e;this.positionLabels(t,n),this.fromPoint.reflow(t),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const e=new st;return e.append(this.fromPoint.createHighlight()),e.append(this.toPoint.createHighlight()),e}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}tooltipAnchor(){const e=this.owner.pane.clipBox();if(!e||e.overlaps(this.box)){const n=this.box,s=n.center(),o=Ie;let r,a,l;return this.options.vertical?(r=s.x,a=n.y1-5,l=je):(r=n.x2+5,a=s.y,l=ve),{point:new le(r,a),align:{horizontal:o,vertical:l}}}}formatValue(e){return this.owner.formatPointValue(this,e)}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const e=this.options.labels;e.format||((!e.from||!e.from.format)&&(e.from=Object.assign({},e.from,{format:"{0}"})),(!e.to||!e.to.format)&&(e.to=Object.assign({},e.to,{format:"{1}"})))}positionLabels(e,t){const{labels:n,vertical:s}=this.options;if("auto"===n.position){let o,r;s?t.y1<=e.y1?(r=Fg,o=_0):(r=_0,o=Fg):t.x1<=e.x1?(r=Ie,o=ze):(r=ze,o=Ie),(!n.from||!n.from.position)&&(this.fromPoint.options.labels.position=o),(!n.to||!n.to.position)&&(this.toPoint.options.labels.position=r)}}copyFields(e){e.dataItem=this.dataItem,e.category=this.category,e.series=this.series,e.color=this.color,e.owner=this.owner}}w(ty.prototype,zs),w(ty.prototype,pu),ty.prototype.defaults={markers:{visible:!1,background:Le,size:8,type:Ns,border:{width:2},opacity:1},labels:{visible:!1,margin:qe(3),padding:qe(4),animation:{type:Wr,delay:is},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:Le,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"}};const L2=ty,Z0=class extends mu{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),e}createStroke(e){const t=new ne(e),n=new ne(e);t.segments.push.apply(t.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(t),this.visual.append(n)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(e=>e.fromPoint)}toPoints(){return this.linePoints.map(e=>e.toPoint)}},kJ=class extends Z0{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),e}createCurveSegments(e){return(new kg).process(this.toGeometryPoints(e))}};class F2 extends Z0{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let e=this.fromSegments;return this.fromSegments||(e=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),e.reverse()),e}}w(F2.prototype,N0);const RJ=F2;class V2 extends er{render(){super.render(),this.renderSegments()}pointType(){return L2}createPoint(e,t){const{categoryIx:n,category:s,series:o,seriesIx:r}=t;let a=e.valueFields;if(!Di(a.from)&&!Di(a.to)){if(this.seriesMissingValues(o)!==Xo)return null;a={from:0,to:0}}let l=this.pointOptions(o,r);l=this.evalPointOptions(l,a,s,n,o,r);let c=e.fields.color||o.color;ht(o.color)&&(c=l.color);const u=new L2(a,l);return u.color=c,this.append(u),u}createSegment(e,t,n){const s=(t.line||{}).style;let o;return o="smooth"===s?kJ:"step"===s?RJ:Z0,new o(e,t,n)}plotRange(e,t){return e?[e.value.from,e.value.to]:[t,t]}valueSlot(e,t){const n=e.getSlot(t[0],t[0],!this.options.clip),s=e.getSlot(t[1],t[1],!this.options.clip);if(n&&s)return{from:n,to:s}}pointSlot(e,t){const{from:n,to:s}=t;let o,r;return this.options.invertAxes?(o=new B(n.x1,e.y1,n.x2,e.y2),r=new B(s.x1,e.y1,s.x2,e.y2)):(o=new B(e.x1,n.y1,e.x2,n.y2),r=new B(e.x1,s.y1,e.x2,s.y2)),{from:o,to:r}}addValue(e,t){const n=e.valueFields;Ce(n.from)||(n.from=n.to),Ce(n.to)||(n.to=n.from),super.addValue(e,t)}updateRange(e,t){if(null!==e&&Ce(e.from)&&Ce(e.to)){const n=t.series.axis,s=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:Tt,max:Vt},{from:o,to:r}=e;s.min=Math.min(s.min,o,r),s.max=Math.max(s.max,o,r)}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.from,n.to)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++){const s=e[n];s&&(t.push((s.fromPoint||{}).marker),t.push((s.toPoint||{}).marker))}return t.concat(this._segments)}}w(V2.prototype,R0,qg);const OJ=V2,FJ=class extends H0{reflow(e){const{options:t,value:n,owner:s}=this,o=s.seriesValueAxis(t),r=[],a=[],l=[],c=o.getSlot(n.low,n.high),u=o.getSlot(n.open,n.open),h=o.getSlot(n.close,n.close);u.x1=h.x1=c.x1=e.x1,u.x2=h.x2=c.x2=e.x2;const d=c.center().x;r.push([u.x1,u.y1]),r.push([d,u.y1]),a.push([d,h.y1]),a.push([h.x2,h.y1]),l.push([d,c.y1]),l.push([d,c.y2]),this.lines=[r,a,l],this.box=c.clone().wrap(u.clone().wrap(h)),this.reflowNote()}createBody(){}},BJ=class extends j0{pointType(){return FJ}};class B2 extends $e{constructor(e,t,n){super(),this.from=e,this.to=t,this.series=n}linePoints(){const e=this.from,{from:{box:t},to:{box:n}}=this,s=[];if(e.isVertical){const o=e.aboveAxis?t.y1:t.y2;s.push([t.x1,o],[n.x2,o])}else{const o=e.aboveAxis?t.x2:t.x1;s.push([o,t.y1],[o,n.y2])}return s}createVisual(){super.createVisual();const e=this.series.line||{},t=ne.fromPoints(this.linePoints(),{stroke:{color:e.color,width:e.width,opacity:e.opacity,dashType:e.dashType}});Qi(t),this.visual.append(t)}}O(B2,{animation:{type:Wr,delay:is}});const zJ=B2,jJ=class extends Wd{render(){super.render(),this.createSegments()}traverseDataPoints(e){const t=this.options.series,n=P0(t),s=!this.options.invertAxes;for(let o=0;o<t.length;o++){const r=t[o];let a=0,l=0;for(let c=0;c<n;c++){const u=Dt.current.bindPoint(r,c),h=u.valueFields.value,d=u.fields.summary;let f,p=a;d?"total"===d.toLowerCase()?(u.valueFields.value=a,p=0,f=a):(u.valueFields.value=l,f=p-l,l=0):Ce(h)&&(l+=h,a+=h,f=a),e(u,{category:this.categoryAxis.categoryAt(c),categoryIx:c,series:r,seriesIx:o,total:a,runningTotal:l,from:p,to:f,isVertical:s})}}}updateRange(e,t){super.updateRange({value:t.to},t)}aboveAxis(e){return e.value>=0}plotRange(e){return[e.from,e.to]}createSegments(){const e=this.options.series,t=this.seriesPoints,n=this.segments=[];for(let s=0;s<e.length;s++){const o=e[s],r=t[s];if(r){let a;for(let l=0;l<r.length;l++){const c=r[l];if(c&&a){const u=new zJ(a,c,o);n.push(u),this.append(u)}a=c}}}}},J0=[Rd,au,Vd,uu],z2=[Ld,cu].concat(J0);class ew extends Qr{initFields(e){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new Kg,e.length>0){this.invertAxes=Se(e[0].type,[Bs,qr,cu,au,uu,ru,ou,lu]);for(let t=0;t<e.length;t++){const n=e[t].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}}render(e=this.panes){this.createCategoryAxes(e),this.aggregateCategories(e),this.createCategoryAxesLabels(e),this.createCharts(e),this.createValueAxes(e)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e instanceof Yo?delete this.namedCategoryAxes[t]:(this.valueAxisRangeTracker.reset(t),delete this.namedValueAxes[t]),e===this.categoryAxis&&delete this.categoryAxis,e===this.valueAxis&&delete this.valueAxis}createCharts(e){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const s=e[n],o=t[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);if(!r)continue;const a=this.groupSeriesByCategoryAxis(r);for(let l=0;l<a.length;l++)this.createChartGroup(a[l],s)}}createChartGroup(e,t){this.createAreaChart(Et(e,[Rd,au]),t),this.createRangeAreaChart(Et(e,[Vd,uu]),t),this.createBarChart(Et(e,[Zo,Bs]),t),this.createRangeBarChart(Et(e,[Bd,ru]),t),this.createBulletChart(Et(e,[qr,zd]),t),this.createCandlestickChart(Et(e,su),t),this.createBoxPlotChart(Et(e,[Od,lu]),t),this.createOHLCChart(Et(e,Fd),t),this.createWaterfallChart(Et(e,[Hd,ou]),t),this.createLineChart(Et(e,[Ld,cu]),t)}aggregateCategories(e){const t=this.srcSeries||this.series,n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let s=0;s<t.length;s++){let o=t[s];const r=this.seriesCategoryAxis(o),a=this.findPane(r.options.pane);o=(Yr(r.options.type,Vr)||o.categoryField)&&Se(a,e)?this.aggregateSeries(o,r):this.filterSeries(o,r),n.push(o)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=t,this.series=n}filterSeries(e,t){const n=(e.data||{}).length;if(t._seriesMax=Math.max(t._seriesMax||0,n),!Ce(t.options.min)&&!Ce(t.options.max))return e;const s=t.currentRangeIndices(),o=Se(e.type,z2),r=w({},e);return r.data=(r.data||[]).slice(s.min,s.max+1),o&&I2(r,s,n,a=>({item:e.data[a],category:t.categoryAt(a,!0),categoryIx:a-s.min}),a=>N(e.data[a])),r}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(e,t){const n=`${e.index};${t.categoriesHash()}`;if(this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];const s=t.options,o=s.srcCategories,r=Yr(s.type,Vr),a=e.data,l=r?A2:Rg,c=[];r||t.mapCategories();for(let u=0;u<a.length;u++){let h;if(h=e.categoryField?l(e.categoryField,a[u],this.chartService.intl):o[u],N(h)&&null!==h){const d=t.totalIndex(h);c[d]=c[d]||{items:[],category:h},c[d].items.push(u)}}return this._currentPointsCache[n]=c,c}aggregateSeries(e,t){if(!e.data.length)return e;const s=this.seriesSourcePoints(e,t),o=w({},e),r=new SJ(w({},e),Dt.current,al.current),a=o.data=[],l=t.options.dataItems||[],c=t.currentRangeIndices(),u=h=>{const d=h-c.min;let p=s[h];if(p||(p=s[h]={}),p.categoryIx=d,!p.item){const f=t.categoryAt(h,!0);p.category=f,p.item=r.aggregatePoints(p.items,f)}return p};for(let h=c.min;h<=c.max;h++){const d=u(h);a[d.categoryIx]=d.item,d.items&&d.items.length&&(l[d.categoryIx]=d.item)}return Se(o.type,z2)&&I2(o,c,t.totalCount(),u,h=>s[h]),t.options.dataItems=l,o}appendChart(e,t){const n=e.options.series,s=this.seriesCategoryAxis(n[0]);let o=s.options.categories,r=Math.max(0,P0(n)-o.length);if(r>0)for(o=s.options.categories=s.options.categories.slice(0);r--;)o.push("");this.valueAxisRangeTracker.update(e.valueAxisRanges),super.appendChart(e,t)}seriesPaneName(e){const t=this.options,n=e.axis;return(bi([].concat(t.valueAxis),function(c){return c.name===n})[0]||{}).pane||((t.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(e){const t=e.categoryAxis,n=t?this.namedCategoryAxes[t]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+t);return n}stackableChartOptions(e,t){const n=e.stack;return{isStacked:n,isStacked100:n&&"100%"===n.type,clip:t.options.clip}}groupSeriesByCategoryAxis(e){const t=[],n={};for(let o=0;o<e.length;o++){const r=e[o].categoryAxis||"$$default$$";n.hasOwnProperty(r)||(n[r]=!0,t.push(r))}const s=[];for(let o=0;o<t.length;o++){const a=UJ(e,t[o],o);0!==a.length&&s.push(a)}return s}createBarChart(e,t){if(0===e.length)return;const n=e[0],s=new Wd(this,Object.assign({series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(n,t)));this.appendChart(s,t)}createRangeBarChart(e,t){if(0===e.length)return;const n=e[0],s=new EJ(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(s,t)}createBulletChart(e,t){if(0===e.length)return;const n=e[0],s=new uJ(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:t.options.clip});this.appendChart(s,t)}createLineChart(e,t){if(0===e.length)return;const s=new L0(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(s,t)}createAreaChart(e,t){if(0===e.length)return;const s=new QZ(this,Object.assign({invertAxes:this.invertAxes,series:e},this.stackableChartOptions(e[0],t)));this.appendChart(s,t)}createRangeAreaChart(e,t){if(0===e.length)return;const n=new OJ(this,{invertAxes:this.invertAxes,series:e,clip:t.options.clip});this.appendChart(n,t)}createOHLCChart(e,t){if(0===e.length)return;const n=e[0],s=new BJ(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(s,t)}createCandlestickChart(e,t){if(0===e.length)return;const n=e[0],s=new j0(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(s,t)}createBoxPlotChart(e,t){if(0===e.length)return;const n=e[0],s=new iJ(this,{invertAxes:this.invertAxes,gap:n.gap,series:e,spacing:n.spacing,clip:t.options.clip});this.appendChart(s,t)}createWaterfallChart(e,t){if(0===e.length)return;const n=e[0],s=new jJ(this,{series:e,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(s,t)}axisRequiresRounding(e,t){const n=Et(this.series,XR);for(let s=0;s<this.series.length;s++){const o=this.series[s];if(Se(o.type,J0)){const r=o.line;r&&r.style===kd&&n.push(o)}}for(let s=0;s<n.length;s++){const o=n[s].categoryAxis||"";if(o===e||!o&&0===t)return!0}}aggregatedAxis(e,t){const n=this.series;for(let s=0;s<n.length;s++){const o=n[s].categoryAxis||"";if((o===e||!o&&0===t)&&n[s].categoryField)return!0}}createCategoryAxesLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t]instanceof Yo&&e[t].createLabels()}createCategoryAxes(e){const t=this.invertAxes,n=[].concat(this.options.categoryAxis),s=[];for(let r=0;r<n.length;r++){let a=n[r];if(Se(this.findPane(a.pane),e)){const{name:c,categories:u=[]}=a;let h;if(a=w({vertical:t,reverse:!t&&this.chartService.rtl,axisCrossingValue:t?Tt:0},a),N(a.justified)||(a.justified=this.isJustified()),this.axisRequiresRounding(c,r)&&(a.justified=!1),h=M2(a,u[0])?new Id(a,this.chartService):new Yo(a,this.chartService),n[r].categories=h.options.srcCategories,c){if(this.namedCategoryAxes[c])throw new Error(`Category axis with name ${c} is already defined`);this.namedCategoryAxes[c]=h}h.axisIndex=r,s.push(h),this.appendAxis(h)}}const o=this.categoryAxis||s[0];this.categoryAxis=o,t?this.axisY=o:this.axisX=o}isJustified(){const e=this.series;for(let t=0;t<e.length;t++)if(!Se(e[t].type,J0))return!1;return!0}createValueAxes(e){const t=this.valueAxisRangeTracker,n=t.query(),s=[].concat(this.options.valueAxis),o=this.invertAxes,r={vertical:!o,reverse:o&&this.chartService.rtl},a=[];this.stack100&&(r.roundToMajorUnit=!1,r.labels={format:"P0"});for(let c=0;c<s.length;c++){const u=s[c];if(Se(this.findPane(u.pane),e)){const d=u.name,p=Yr(u.type,Ug)?{min:.1,max:1}:{min:0,max:1},f=t.query(d)||n||p;let m;0===c&&f&&n&&(f.min=Math.min(f.min,n.min),f.max=Math.max(f.max,n.max)),m=Yr(u.type,Ug)?Ig:ns;const g=new m(f.min,f.max,w({},r,u),this.chartService);if(d){if(this.namedValueAxes[d])throw new Error(`Value axis with name ${d} is already defined`);this.namedValueAxes[d]=g}g.axisIndex=c,a.push(g),this.appendAxis(g)}}const l=this.valueAxis||a[0];this.valueAxis=l,o?this.axisX=l:this.axisY=l}_dispatchEvent(e,t,n){const s=e._eventCoordinates(t),o=new le(s.x,s.y),r=this.pointPane(o),a=[],l=[];if(!r)return;const c=r.axes;for(let u=0;u<c.length;u++){const h=c[u];h.getValue?ey(l,h.getValue(o)):ey(a,h.getCategory(o))}0===a.length&&ey(a,this.categoryAxis.getCategory(o)),a.length>0&&l.length>0&&e.trigger(n,{element:Os(t),originalEvent:t,category:gu(a),value:gu(l)})}pointPane(e){const t=this.panes;for(let n=0;n<t.length;n++){const s=t[n];if(s.contentBox.containsPoint(e))return s}}updateAxisOptions(e,t){H2(this.options,e,t),H2(this.originalOptions,e,t)}}function H2(i,e,t){w([].concat(e instanceof Yo?i.categoryAxis:i.valueAxis)[e.axisIndex],t)}function UJ(i,e,t){return bi(i,function(n){return 0===t&&!n.categoryAxis||n.categoryAxis===e})}O(ew,{categoryAxis:{},valueAxis:{}}),w(ew.prototype,Yd);const ll=ew;function tw(i,e){let n,t=0;if(!e||e<=0)return i;const s=function(){const o=gd()-t,r=arguments,a=function(){i.apply(null,r),t=gd()};if(!t)return a();n&&clearTimeout(n),o>e?a():n=setTimeout(a,e-o)};return s.cancel=function(){clearTimeout(n)},s}function j2(i){return"function"==typeof i}function U2(i){return"string"==typeof i?[i]:i}function GJ(){this._defaultPrevented=!0}function WJ(){return!0===this._defaultPrevented}const qJ=class extends q{constructor(){super(),this._events={}}bind(e,t,n){const s=U2(e),o=j2(t),r=s.length;if(void 0===t){for(let a in e)this.bind(a,e[a]);return this}for(let a=0;a<r;a++){const l=s[a];let c=o?t:t[l];if(c){if(n){const h=c;c=()=>{this.unbind(l,c),h.apply(this,arguments)},c.original=h}(this._events[l]=this._events[l]||[]).push(c)}}return this}one(e,t){return this.bind(e,t,!0)}first(e,t){const n=U2(e),s=j2(t);for(let o=0,r=n.length;o<r;o++){const a=n[o],l=s?t:t[a];l&&(this._events[a]=this._events[a]||[]).unshift(l)}return this}trigger(e,t={}){let n=this._events[e];if(n){const s=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=GJ,t.isDefaultPrevented=WJ,n=n.slice();for(let o=0;o<s;o++)n[o].call(this,t);return!0===t._defaultPrevented}return!1}unbind(e,t){const n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(let s=n.length-1;s>=0;s--)(n[s]===t||n[s].original===t)&&n.splice(s,1);else this._events[e]=[];return this}},KJ=["click","mouseenter","mouseleave","mousemove","resize"],nw=class extends qJ{constructor(e,t){super(),this.options=Object.assign({},t),this.element=e,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new st,yd(e,this.options),this.bind(KJ,this.options),this._enableTracking()}draw(e){this._visual.children.push(e)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(e){let n,t=lk(e);for(;!n&&t&&(n=t._kendoNode,t!==this.element);)t=t.parentElement;if(n)return n.srcElement}exportVisual(){return this._visual}getSize(){return yd(this.element)}currentSize(e){if(!e)return this._size;this._size=e}setSize(e){yd(this.element,e),this.currentSize(e),this._resize()}resize(e){const t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}size(e){if(!e)return this.getSize();this.setSize(e)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(e){return t=>{const n=this.eventTarget(t);n&&!this._suspendedTracking&&this.trigger(e,{element:n,originalEvent:t,type:e})}}_elementOffset(){const e=this.element,t=dk(e),{left:n,top:s}=uk(e);return{left:n+t.left,top:s+t.top}}_surfacePoint(e){const t=this._elementOffset(),n=ak(e),s=n.x-t.left,o=n.y-t.top,r=fk(this.element).invert();return new R(s,o).transform(r)}},Qd=class extends q{constructor(e){super(),this.childNodes=[],this.parent=null,e&&(this.srcElement=e,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const e=this.childNodes;for(let t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(e){this.childNodes.push(e),e.parent=this}insertAt(e,t){this.childNodes.splice(t,0,e),e.parent=this}remove(e,t){const n=e+t;for(let s=e;s<n;s++)this.childNodes[s].removeSelf();this.childNodes.splice(e,t)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}};function cl(i,e){return oe(e)&&null!==e?` ${i}="${e}" `:""}function ul(i){let e="";for(let t=0;t<i.length;t++)e+=cl(i[t][0],i[t][1]);return e}function $2(i){let e="";for(let t=0;t<i.length;t++){let n=i[t][1];oe(n)&&(e+=i[t][0]+":"+n+";")}if(""!==e)return e}const tr={},Xd="http://www.w3.org/2000/svg",ny="none";let G2=function(i,e){i.innerHTML=e};if("undefined"!=typeof document){const i="<svg xmlns='"+Xd+"'></svg>",e=document.createElement("div"),t="undefined"!=typeof DOMParser;e.innerHTML=i,t&&e.firstChild.namespaceURI!==Xd&&(G2=function(n,s){const r=(new DOMParser).parseFromString(s,"text/xml"),a=document.adoptNode(r.documentElement);n.innerHTML="",n.appendChild(a)})}const W2=G2,q2="transform",iy={clip:"clip-path",fill:"fill"};function K2(i,e){return"clip"===i||"fill"===i&&(!e||"Gradient"===e.nodeType)}const Xr=class extends Qd{constructor(e,t){super(e),this.definitions={},this.options=t}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(e,t){for(let n=0;n<e.length;n++){const s=e[n],o=s.children,r=new tr[s.nodeType](s,this.options);oe(t)?this.insertAt(r,t):this.append(r),r.createDefinitions(),o&&o.length>0&&r.load(o);const a=this.element;a&&r.attachTo(a,t)}}root(){let e=this;for(;e.parent;)e=e.parent;return e}attachTo(e,t){const n=document.createElement("div");W2(n,"<svg xmlns='"+Xd+"' version='1.1'>"+this.render()+"</svg>");const s=n.firstChild.firstChild;s&&(oe(t)?e.insertBefore(s,e.childNodes[t]||null):e.appendChild(s),this.setElement(s))}setElement(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;const t=this.childNodes;for(let n=0;n<t.length;n++)t[n].setElement(e.childNodes[n])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const e=this.childNodes;for(let t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}removeSelf(){if(this.element){const e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const e=this.childNodes;let t="";for(let n=0;n<e.length;n++)t+=e[n].render();return t}optionsChange(e){const{field:t,value:n}=e;"visible"===t?this.css("display",n?"":ny):iy[t]&&K2(t,n)?this.updateDefinition(t,n):"opacity"===t?this.attr("opacity",n):"cursor"===t?this.css("cursor",n):"id"===t&&(n?this.attr("id",n):this.removeAttr("id")),super.optionsChange(e)}attr(e,t){this.element&&this.element.setAttribute(e,t)}allAttr(e){for(let t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}css(e,t){this.element&&(this.element.style[e]=t)}allCss(e){for(let t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}removeAttr(e){this.element&&this.element.removeAttribute(e)}mapTransform(e){const t=[];return e&&t.push([q2,"matrix("+e.matrix().toString(6)+")"]),t}renderTransform(){return ul(this.mapTransform(this.srcElement.transform()))}transformChange(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr(q2)}mapStyle(){const e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display",ny]),t}renderStyle(){return cl("style",$2(this.mapStyle(!0)))}renderOpacity(){return cl("opacity",this.srcElement.options.opacity)}renderId(){return cl("id",this.srcElement.options.id)}createDefinitions(){const e=this.srcElement,t=this.definitions;if(e){const n=e.options;let s;for(let o in iy){let r=n.get(o);r&&K2(o,r)&&(t[o]=r,s=!0)}s&&this.definitionChange({action:"add",definitions:t})}}definitionChange(e){this.parent&&this.parent.definitionChange(e)}updateDefinition(e,t){const n=this.definitions,s=n[e],o=iy[e],r={};s&&(r[e]=s,this.definitionChange({action:"remove",definitions:r}),delete n[e]),t?(r[e]=t,this.definitionChange({action:"add",definitions:r}),n[e]=t,this.attr(o,this.refUrl(t.id))):s&&this.removeAttr(o)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return ul(this.mapDefinitions())}mapDefinitions(){const e=this.definitions,t=[];for(let n in e)t.push([iy[n],this.refUrl(e[n].id)]);return t}refUrl(e){const t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return`url(${t?"":n}#${e})`}baseUrl(){return function(){const i=document.getElementsByTagName("base")[0];let e=document.location.href,t="";if(i&&!(Kc.browser||{}).msie){const n=e.indexOf("#");-1!==n&&(e=e.substring(0,n)),t=e}return t}()}},Y2=class extends Xr{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return cl("offset",this.srcElement.offset())}mapStyle(){const e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}optionsChange(e){"offset"===e.field?this.attr(e.field,e.value):("color"===e.field||"opacity"===e.field)&&this.css("stop-"+e.field,e.value)}},Q2=class extends Xr{constructor(e){super(e),this.id=e.id,this.loadStops()}loadStops(){const e=this.srcElement.stops,t=this.element;for(let n=0;n<e.length;n++){let s=new Y2(e[n]);this.append(s),t&&s.attachTo(t)}}optionsChange(e){"gradient.stops"===e.field?(Qd.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return ul(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},X2=class extends Q2{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}},Z2=class extends Q2{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}},J2=class extends Xr{constructor(e){super(),this.srcElement=e,this.id=e.id,this.load([e])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},eO=class extends Xr{constructor(){super(),this.definitionMap={}}attachTo(e){this.element=e}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(e){const{definitions:t,action:n}=e;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}createDefinition(e,t){let n;return"clip"===e?n=J2:"fill"===e&&(t instanceof fg?n=X2:t instanceof mg&&(n=Z2)),new n(t)}addDefinitions(e){for(let t in e)this.addDefinition(t,e[t])}addDefinition(e,t){const{element:n,definitionMap:s}=this,o=t.id,r=s[o];if(r)r.count++;else{const a=this.createDefinition(e,t);s[o]={element:a,count:1},this.append(a),n&&a.attachTo(this.element)}}removeDefinitions(e){for(let t in e)this.removeDefinition(e[t])}removeDefinition(e){const t=this.definitionMap,n=e.id,s=t[n];s&&(s.count--,0===s.count&&(this.remove(this.childNodes.indexOf(s.element),1),delete t[n]))}},sw=class extends Xr{constructor(e){super(),this.options=e,this.defs=new eO}attachTo(e){this.element=e,this.defs.attachTo(e.firstElementChild)}clear(){Qd.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(e){this.defs.definitionChange(e)}},tO={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},ow="solid",ree={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Zr=class extends Xr{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:const t=ree[e.field];t&&this.attr(t,e.value)}super.optionsChange(e)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(e){const t=[];return e&&!Ya(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),oe(e.opacity)&&t.push(["stroke-opacity",e.opacity]),oe(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke",ny]),t}renderStroke(){return ul(this.mapStroke(this.srcElement.options.stroke))}renderDashType(e){const{dashType:t,width:n=1}=e;if(t&&t!==ow){const s=tO[t.toLowerCase()],o=[];for(let r=0;r<s.length;r++)o.push(s[r]*n);return o.join(" ")}}renderLinecap(e){const{dashType:t,lineCap:n}=e;return t&&"solid"!==t?"butt":n}mapFill(e){const t=[];return e&&"Gradient"===e.nodeType||(e&&!Ya(e.color)?(t.push(["fill",e.color]),oe(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill",ny])),t}renderFill(){return ul(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${cl("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}},iO=class extends Zr{renderData(){return this.srcElement.toPath().toString(3)}},sO=class extends Zr{geometryChange(){const e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderTransform()} ></circle>`}},oO=class extends Xr{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(e){"transform"===e.field&&this.transformChange(e.value),super.optionsChange(e)}},hee=/&/g,dee=/</g,pee=/"/g,fee=/'/g,mee=/>/g;function rw(i){return String(i).replace(hee,"&amp;").replace(dee,"&lt;").replace(mee,"&gt;").replace(pee,"&quot;").replace(fee,"&#39;")}const rO=class extends Zr{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(e){"src"===e.field&&this.allAttr(this.mapSource()),super.optionsChange(e)}mapPosition(){const e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}renderPosition(){return ul(this.mapPosition())}mapSource(e){let t=this.srcElement.src();return e&&(t=rw(t)),[["xlink:href",t]]}renderSource(){return ul(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}></image>`}},aO=class extends Zr{renderData(){return this.srcElement.toString(3)||"undefined"}},lO=class extends Zr{geometryChange(){const e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.attr("rx",e.cornerRadius[0]),this.attr("ry",e.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},aw=/&(?:[a-zA-Z]+|#\d+);/g;function lw(i){if(!i||"string"!=typeof i||!aw.test(i))return i;const e=lw._element;return aw.lastIndex=0,i.replace(aw,t=>(e.innerHTML=t,e.textContent||e.innerText))}"undefined"!=typeof document&&(lw._element=document.createElement("span"));const cO=class extends Zr{geometryChange(){const e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}optionsChange(e){"font"===e.field?(this.attr("style",$2(this.mapStyle())),this.geometryChange()):"content"===e.field&&super.content(this.srcElement.content()),super.optionsChange(e)}mapStyle(e){const t=super.mapStyle(e);let n=this.srcElement.options.font;return e&&(n=rw(n)),t.push(["font",n],["white-space","pre"]),t}pos(){const e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}renderContent(){let e=this.srcElement.content();return e=lw(e),e=rw(e),wC(e)}renderTextAnchor(){let e;return(this.options||{}).rtl&&!(Kc.browser.msie||Kc.browser.edge)&&(e="end"),cl("text-anchor",e)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderFill()}>${this.renderContent()}</text>`}};tr.Arc=iO,tr.Circle=sO,tr.Group=oO,tr.Image=rO,tr.MultiPath=aO,tr.Path=Zr,tr.Rect=lO,tr.Text=cO;const uO=class extends nw{get type(){return"svg"}constructor(e,t){super(e,t),this._root=new sw(Object.assign({rtl:"rtl"===Km(e,"direction").direction},this.options)),W2(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function(i){let e;try{e=i.getScreenCTM?i.getScreenCTM():null}catch(t){}if(e){const t=-e.e%1,n=-e.f%1,s=i.style;(0!==t||0!==n)&&(s.left=t+"px",s.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),bC(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,CC(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(e){const t=`${Math.round(e.x)} ${Math.round(e.y)} ${this._size.width} ${this._size.height}`;this._offset=e,this._rootElement.setAttribute("viewBox",t)}draw(e){super.draw(e),this._root.load([e])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:e,_offset:t}=this;if(t){const n=new st;n.children.push(e),n.transform(Ue().translate(-t.x,-t.y)),e=n}return e}_resize(){this._offset&&this.translate(this._offset)}_template(e){return`<svg ${"string"==typeof e?e:"style='width: 100%; height: 100%; overflow: hidden;' "}xmlns='${Xd}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},nr={};function sy(i,e){const t=e.segments;if(0===t.length)return;let n=t[0],s=n.anchor();i.moveTo(s.x,s.y);for(let o=1;o<t.length;o++){n=t[o],s=n.anchor();let a=t[o-1].controlOut(),l=n.controlIn();a&&l?i.bezierCurveTo(a.x,a.y,l.x,l.y,s.x,s.y):i.lineTo(s.x,s.y)}e.options.closed&&i.closePath()}const cw=class extends Qd{constructor(e){super(e),e&&this.initClip()}initClip(){const e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(e){this.clip&&(e.beginPath(),sy(e,this.clip),e.clip())}optionsChange(e){"clip"===e.field&&(this.clearClip(),this.initClip()),super.optionsChange(e)}setTransform(e){if(this.srcElement){const t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}loadElements(e,t,n){for(let s=0;s<e.length;s++){let o=e[s],r=o.children,a=new nr[o.nodeType](o,n);r&&r.length>0&&a.load(r,t,n),oe(t)?this.insertAt(a,t):this.append(a)}}load(e,t,n){this.loadElements(e,t,n),this.invalidate()}setOpacity(e){if(this.srcElement){const t=this.srcElement.opacity();oe(t)&&this.globalAlpha(e,t)}}globalAlpha(e,t){let n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}visible(){const e=this.srcElement;return!e||e&&!1!==e.options.visible}};class Tee extends(HC(cw,"childNodes")){renderTo(e){if(!this.visible())return;e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);const t=this.childNodes;for(let n=0;n<t.length;n++){let s=t[n];s.visible()&&s.renderTo(e)}e.restore()}}const uw=Tee;class Dee extends(HC(uw,"childNodes")){constructor(e,t){super(),this.canvas=e,this.size=t,this.ctx=e.getContext("2d");const n=this._invalidate.bind(this);this.invalidate=tw(()=>{aR(n)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(e,t,n){this.loadElements(e,t,n),this._invalidate()}_rescale(e){const{canvas:t,size:n}=this;t.width=n.width*e,t.height=n.height*e,this.ctx.scale(e,e)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(e){if(!this.ctx)return;const n=e&&e.fixedScale?1:this._devicePixelRatio();this._rescale(n),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const hO=Dee,dO=class extends q{constructor(){super(),this.shapes=[]}_add(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}pointShapes(e){const t=this.shapes,n=t.length,s=[];for(let o=0;o<n;o++)t[o].bbox.containsPoint(e)&&s.push(t[o].shape);return s}insert(e,t){this._add(e,t)}remove(e){const t=this.shapes,n=t.length;for(let s=0;s<n;s++)if(t[s].shape===e){t.splice(s,1);break}}};class yu extends dO{constructor(e){super(),this.children=[],this.rect=e}inBounds(e){const t=this.rect,n=t.bottomRight(),s=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&s.x<=n.x&&s.y<=n.y}pointShapes(e){const t=this.children,n=t.length,s=super.pointShapes(e);for(let o=0;o<n;o++)fd(s,t[o].pointShapes(e));return s}insert(e,t){const n=this.children;let s=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(let o=0;o<n.length;o++)if(n[o].insert(e,t)){s=!0;break}s||this._add(e,t)}s=!0}return s}_initChildren(){const{rect:e,children:t}=this,n=e.center(),s=e.width()/2,o=e.height()/2;t.push(new yu(new Re([e.origin.x,e.origin.y],[s,o])),new yu(new Re([n.x,e.origin.y],[s,o])),new yu(new Re([e.origin.x,n.y],[s,o])),new yu(new Re([n.x,n.y],[s,o])))}}const pO=yu,_o=3e3;function Pee(i,e){return i._zIndex<e._zIndex?1:i._zIndex>e._zIndex?-1:0}const hw=class extends q{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new dO,this.rootElements=[]}clear(){const e=this.rootElements;for(let t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}pointShape(e){const t=(this.rootMap[Math.floor(e.x/_o)]||{})[Math.floor(e.y/_o)];let n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(Pee);for(let s=0;s<n.length;s++)if(n[s].containsPoint(e))return n[s]}assignZindex(e){for(let t=0;t<e.length;t++){let n=e[t],s=0,o=Math.pow(1e4,75),r=[];for(;n;)r.push(n),n=n.parent;for(;r.length;)n=r.pop(),s+=((n.parent?n.parent.children:this.rootElements).indexOf(n)+1)*o,o/=1e4;e[t]._zIndex=s}}optionsChange(e){("transform"===e.field||"stroke.width"===e.field)&&this.bboxChange(e.element)}geometryChange(e){this.bboxChange(e.element)}bboxChange(e){if("Group"===e.nodeType)for(let t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}add(e){const t=Array.isArray(e)?e.slice(0):[e];fd(this.rootElements,t),this._insert(t)}childrenChange(e){if("remove"===e.action)for(let t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}_insert(e){let t;for(;e.length>0;)t=e.pop(),t.addObserver(this),"Group"===t.nodeType?fd(e,t.children):this._insertShape(t)}_insertShape(e){const t=e.bbox();if(t){const n=this.getSectors(t),s=n[0][0],o=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{const r=this.rootMap;r[s]||(r[s]={}),r[s][o]||(r[s][o]=new pO(new Re([s*_o,o*_o],[_o,_o]))),r[s][o].insert(e,t)}}}remove(e){if(e.removeObserver(this),"Group"===e.nodeType){const t=e.children;for(let n=0;n<t.length;n++)this.remove(t[n])}else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}inRoot(e){return e[0].length>1||e[1].length>1}getSectors(e){const t=e.bottomRight(),n=Math.floor(t.x/_o),s=Math.floor(t.y/_o),o=[[],[]];for(let r=Math.floor(e.origin.x/_o);r<=n;r++)o[0].push(r);for(let r=Math.floor(e.origin.y/_o);r<=s;r++)o[1].push(r);return o}},Jr=class extends cw{renderTo(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}setFill(e){const t=this.srcElement.options.fill;let n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):Ya(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}setGradientFill(e,t){const n=this.srcElement.rawBBox();let s;if(t instanceof fg){let o=t.start(),r=t.end();s=e.createLinearGradient(o.x,o.y,r.x,r.y)}else if(t instanceof mg){let o=t.center();s=e.createRadialGradient(o.x,o.y,0,o.x,o.y,t.radius())}(function(i,e){for(let t=0;t<e.length;t++){let n=e[t],s=Jm(n.color());s.a*=n.opacity(),i.addColorStop(n.offset(),s.toCssRgba())}})(s,t.stops),e.save(),t.userSpace()||e.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),e.fillStyle=s,e.fill(),e.restore()}setStroke(e){const t=this.srcElement.options.stroke;if(t&&!Ya(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=xC(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}dashType(){const e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}setLineDash(e){const t=this.dashType();if(t&&t!==ow){const n=tO[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}setLineCap(e){const t=this.dashType(),n=this.srcElement.options.stroke;t&&t!==ow?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)}setLineJoin(e){const t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}renderPoints(e,t){sy(e,t)}},mO=class extends Jr{renderPoints(e){sy(e,this.srcElement.toPath())}},gO=class extends Jr{renderPoints(e){const{center:t,radius:n}=this.srcElement.geometry();e.arc(t.x,t.y,n,0,2*Math.PI)}},yO=class extends Jr{constructor(e,t){super(e),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=md();const n=this.img=new Image,s=e.src();t&&!/^data:/i.test(s)&&(n.crossOrigin=t),s&&(n.src=s),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}renderTo(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}optionsChange(e){"src"===e.field?(this.loading=md(),this.img.src=this.srcElement.src()):super.optionsChange(e)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(e){const t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}},_O=class extends Jr{renderPoints(e){const t=this.srcElement.paths;for(let n=0;n<t.length;n++)sy(e,t[n])}},vO=class extends Jr{renderPoints(e){const t=this.srcElement.geometry(),[n,s]=t.cornerRadius;if(0===n&&0===s){const{origin:o,size:r}=t;e.rect(o.x,o.y,r.width,r.height)}else super.renderPoints(e,ne.fromRect(t))}},xO=class extends Jr{renderTo(e){const t=this.srcElement,n=t.position(),s=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),n.x,n.y+s.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+s.baseline)),e.restore()}};nr.Arc=mO,nr.Circle=gO,nr.Group=uw,nr.Image=yO,nr.MultiPath=_O,nr.Path=Jr,nr.Rect=vO,nr.Text=xO;const dw=class extends nw{get type(){return"canvas"}constructor(e,t){super(e,t),this.element.innerHTML=this._template(this);const n=this.element.firstElementChild;n.style.width="100%",n.style.height="100%";const s=yd(e);n.width=s.width,n.height=s.height,this._rootElement=n,this._root=new hO(n,s),this._mouseTrackHandler=this._trackMouse.bind(this),bC(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),CC(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(e){super.draw(e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(e){if(this._searchTree){const t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}image(){const{_root:e,_rootElement:t}=this,n=[];e.traverse(r=>{r.loading&&n.push(r.loading)});const s=md(),o=()=>{e._invalidate({fixedScale:!0});try{const r=t.toDataURL();s.resolve(r)}catch(r){s.reject(r)}};return ck(n).then(o,o),s}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new hw;const e=this._root.childNodes,t=[];for(let n=0;n<e.length;n++)t.push(e[n].srcElement);this._searchTree.add(t)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new hw,this._cursor=new class{constructor(e){e.bind("mouseenter",this._mouseenter.bind(this)),e.bind("mouseleave",this._mouseleave.bind(this)),this.element=e.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(e){const t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(e){let t=e.element;for(;t&&!oe(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(e){this.element&&(this.element.style.cursor=e,this._current=e)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}(this),super._enableTracking()}_trackMouse(e){if(this._suspendedTracking)return;const t=this.eventTarget(e);if("click"!==e.type){const n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}};let pw,fw;const bO=()=>"undefined"!=typeof document;class mw extends q{static get support(){return fw||(fw={canvas:bO()&&document.createElement("canvas").getContext,svg:bO()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),fw}static get current(){return pw||(pw=new mw),pw}constructor(){super(),this._items=[{name:"svg",type:uO},{name:"canvas",type:dw}]}create(e,t){const n=this._items;let s=n[0];if(t&&t.type){const o=t.type.toLowerCase();for(let r=0;r<n.length;r++)if(n[r].name===o){s=n[r];break}}if(s)return new s.type(e,t);ok(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const gw=mw,Zd=class extends nw{static get support(){return gw.support}static create(e,t){return gw.current.create(e,t)}};function Wee(){this._defaultPrevented=!0}const qee=class extends q{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(e,t){const n=[].concat(e);this.hide();for(let s=0;s<n.length;s++){const o=n[s];o&&o.toggleHighlight&&o.hasHighlight()&&(this.togglePointHighlight(o,!0,t),this._points.push(o))}}togglePointHighlight(e,t,n){const s=(e.options.highlight||{}).toggle;if(s){const o={category:e.category,series:e.series,dataItem:e.dataItem,value:e.value,stackValue:e.stackValue,preventDefault:Wee,visual:e.highlightVisual(),show:t};s(o),o._defaultPrevented||e.toggleHighlight(t,n)}else e.toggleHighlight(t,n)}hide(){const e=this._points;for(;e.length;)this.togglePointHighlight(e.pop(),!1)}isHighlighted(e){const t=this._points;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}};function CO(i,e){const t=(e||"").toLowerCase(),n=i.event;return"none"===t&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[t+"Key"]}function yw(i){const e={};for(let t=0;t<i.length;t++){const n=i[t];n.axis.options.name&&(e[n.axis.options.name]={min:n.range.min,max:n.range.max})}return e}class wO extends q{constructor(e,t){super(),this.plotArea=e,this.options=w({},this.options,t)}start(e){return this._active=CO(e,this.options.key),this._active}move(e){if(this._active){const t=this.axisRanges=this._panAxes(e,Y).concat(this._panAxes(e,X));if(t.length)return this.axisRanges=t,yw(t)}}end(){const e=this._active;return this._active=!1,e}pan(){const{plotArea:e,axisRanges:t}=this;if(t.length){for(let n=0;n<t.length;n++){const s=t[n];e.updateAxisOptions(s.axis,s.range)}e.redraw(e.panes)}}destroy(){delete this.plotArea}_panAxes(e,t){const n=this.plotArea,s=-e[t].delta,o=(this.options.lock||"").toLowerCase(),r=[];if(0!==s&&(o||"").toLowerCase()!==t){const a=n.axes;for(let l=0;l<a.length;l++){const c=a[l];if(t===Y&&!c.options.vertical||t===X&&c.options.vertical){const u=c.pan(s);u&&(u.limitRange=!0,r.push({axis:c,range:u}))}}}return r}}wO.prototype.options={key:"none",lock:"none"};const Kee=wO;class TO extends q{constructor(e,t){super(),this.chart=e,this.options=w({},this.options,t),this.createElement()}createElement(){const e=this._marquee=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");t.className="k-marquee-color",e.appendChild(t)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(e){dt(this._marquee,e)}start(e){if(CO(e,this.options.key)){const t=this.chart,n=t._eventCoordinates(e),s=this._zoomPane=t._plotArea.paneByPoint(n),o=s?s.chartsBox().clone():null;if(s&&o){const r=this._elementOffset();return o.translate(r.left,r.top),this._zoomPaneClipBox=o,document.body.appendChild(this._marquee),this.setStyles({left:e.pageX+1,top:e.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const e=this.chart.element,{paddingLeft:t,paddingTop:n}=dt(e,["paddingLeft","paddingTop"]),s=Xc(e);return{left:t+s.left,top:n+s.top}}move(e){this._zoomPane&&this.setStyles(this._selectionPosition(e))}end(e){if(this._zoomPane){const n=this._elementOffset(),s=this._selectionPosition(e);return s.left-=n.left,s.top-=n.top,this._updateAxisRanges({x:s.left,y:s.top},{x:s.left+s.width,y:s.top+s.height}),this.removeElement(),delete this._zoomPane,yw(this.axisRanges)}}zoom(){const e=this.axisRanges;if(e&&e.length){const t=this.chart._plotArea;for(let n=0;n<e.length;n++){const s=e[n];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(e,t){const n=(this.options.lock||"").toLowerCase(),s=[],o=this._zoomPane.axes;for(let r=0;r<o.length;r++){const a=o[r],l=a.options.vertical;if((n!==Y||l)&&(n!==X||!l)&&N(a.axisIndex)){const c=a.pointsRange(e,t);c&&s.push({axis:a,range:c})}}this.axisRanges=s}_selectionPosition(e){const t=this._zoomPaneClipBox,n={x:e.x.startLocation,y:e.y.startLocation},{x:{location:s},y:{location:o}}=e,r=(this.options.lock||"").toLowerCase();let a=Math.min(n.x,s),l=Math.min(n.y,o),c=Math.abs(n.x-s),u=Math.abs(n.y-o);return r===Y&&(a=t.x1,c=t.width()),r===X&&(l=t.y1,u=t.height()),s>t.x2&&(c=t.x2-n.x),s<t.x1&&(c=n.x-t.x1),o>t.y2&&(u=t.y2-n.y),o<t.y1&&(u=n.y-t.y1),{left:Math.max(a,t.x1),top:Math.max(l,t.y1),width:c,height:u}}}TO.prototype.options={key:"shift",lock:"none"};const Yee=TO,ete=class extends q{constructor(e,t){super(),this.chart=e,this.options=w({rate:.3},this.options,t)}updateRanges(e,t){const n=(this.options.lock||"").toLowerCase(),s=[],o=this.chart._plotArea.axes;for(let r=0;r<o.length;r++){const a=o[r],l=a.options.vertical;if((n!==Y||l)&&(n!==X||!l)&&a.zoomRange){const c=ee(this.options.rate,.01,.9),u=a.zoomRange(-e*c,t);u&&s.push({axis:a,range:u})}}return this.axisRanges=s,yw(s)}zoom(){const e=this.axisRanges,t=this.chart._plotArea;if(e&&e.length&&t.updateAxisOptions){for(let n=0;n<e.length;n++){const s=e[n];t.updateAxisOptions(s.axis,s.range)}t.redraw(t.panes)}}destroy(){delete this.chart}};function oy(i,e,t){const n=t.transform()||Ue(),s=n.matrix();s.e+=i.x-e.origin.x,s.f+=i.y-e.origin.y,n.matrix(s),t.transform(n)}function Jd(i,e,t,n,s){let o;return o="start"===t?e.origin[n]:"end"===t?e.origin[n]+e.size[s]-i:e.origin[n]+(e.size[s]-i)/2,o}function tte(i,e,t,n,s){let o;return o="start"===t?e.origin[n]+e.size[s]-i:"end"===t?e.origin[n]:e.origin[n]+(e.size[s]-i)/2,o}const nte={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},ite=(i,e)=>{i.forEach(e)},ste=(i,e)=>{for(let n=i.length-1;n>=0;n--)e(i[n],n)},SO=class extends st{constructor(e,t){super(Object.assign({},nte,t)),this._rect=e,this._fieldMap={}}rect(e){return e?(this._rect=e,this):this._rect}_initMap(){const e=this.options,t=this._fieldMap;"horizontal"===e.orientation?(t.sizeField="width",t.groupsSizeField="height",t.groupAxis="x",t.groupsAxis="y"):(t.sizeField="height",t.groupsSizeField="width",t.groupAxis="y",t.groupsAxis="x"),e.reverse?(this.forEach=ste,this.justifyAlign=tte):(this.forEach=ite,this.justifyAlign=Jd)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const e=this.options,t=this._rect,{groups:n,groupsSize:s}=this._initGroups(),{sizeField:o,groupsSizeField:r,groupAxis:a,groupsAxis:l}=this._fieldMap,c=new R,u=new R,h=new Ja;let p,f,m,d=Jd(s,t,e.alignContent,l,r);const g=(v,x)=>{const S=f.elements[x];u[a]=p,u[l]=Jd(v.size[r],m,e.alignItems,l,r),oy(u,v,S),p+=v.size[o]+e.spacing};for(let v=0;v<n.length;v++)f=n[v],c[a]=p=this.justifyAlign(f.size,t,e.justifyContent,a,o),c[l]=d,h[o]=f.size,h[r]=f.lineSize,m=new Re(c,h),this.forEach(f.bboxes,g),d+=f.lineSize+e.lineSpacing;if(!e.wrap&&f.size>t.size[o]){const v=t.size[o]/m.size[o],x=m.topLeft().scale(v,v),M=Jd(m.size[r]*v,t,e.alignContent,l,r),L=Ue();"x"===a?L.translate(t.origin.x-x.x,M-x.y):L.translate(M-x.x,t.origin.y-x.y),L.scale(v,v),this.transform(L)}}_initGroups(){const{options:e,children:t}=this,{lineSpacing:n,wrap:s,spacing:o}=e,r=this._fieldMap.sizeField;let a=this._newGroup();const l=[],c=function(){l.push(a),u+=a.lineSize+n};let u=-n;for(let h=0;h<t.length;h++){let d=t[h],p=t[h].clippedBBox();d.visible()&&p&&(s&&a.size+p.size[r]+o>this._rect.size[r]?0===a.bboxes.length?(this._addToGroup(a,p,d),c(),a=this._newGroup()):(c(),a=this._newGroup(),this._addToGroup(a,p,d)):this._addToGroup(a,p,d))}return a.bboxes.length&&c(),{groups:l,groupsSize:u}}_addToGroup(e,t,n){e.size+=t.size[this._fieldMap.sizeField]+this.options.spacing,e.lineSize=Math.max(t.size[this._fieldMap.groupsSizeField],e.lineSize),e.bboxes.push(t),e.elements.push(n)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},ate=class extends $e{constructor(e,t){super(e),this.chartService=t}render(){const{children:e,options:t}=this,n=t.vertical;this.visual=new SO(null,{spacing:n?0:t.spacing,lineSpacing:n?t.spacing:0,orientation:n?"vertical":"horizontal",reverse:t.rtl,alignItems:n?"start":"center"});for(let s=0;s<e.length;s++){let o=e[s];o.reflow(new B),o.renderVisual()}}reflow(e){this.visual.rect(e.toRect()),this.visual.reflow();const t=this.visual.clippedBBox();this.box=t?gg(t):new B}renderVisual(){this.addVisual()}createVisual(){}},cte=class extends el{constructor(e){super(e),this.createContainer(),e.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel())}createContainer(){this.container=new qC({vertical:!1,wrap:!1,align:ve,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.container.append(new Gr(this.markerOptions()))}markerOptions(){const e=this.options,t=e.markerColor;return w({},e.markers,{background:t,border:{color:t}})}createLabel(){const e=this.options,t=w({},e.labels);this.container.append(new Si(e.text,t))}renderComplete(){super.renderComplete();const e=this.options.cursor||{},t=this._itemOverlay=ne.fromRect(this.container.box.toRect(),{fill:{color:Le,opacity:0},stroke:null,cursor:e.style||e});this.appendVisual(t)}click(e,t){const n=this.eventArgs(t);!e.trigger("legendItemClick",n)&&t&&"contextmenu"===t.type&&t.preventDefault()}over(e,t){const n=this.eventArgs(t);return e.trigger("legendItemHover",n)||e._legendItemHover(n.seriesIndex,n.pointIndex),!0}out(e,t){e._unsetActivePoint(),e.trigger("legendItemLeave",this.eventArgs(t))}eventArgs(e){const t=this.options;return{element:Os(e),text:t.text,series:t.series,seriesIndex:t.series.index,pointIndex:t.pointIndex}}renderVisual(){const e=this.options,t=e.visual;t?(this.visual=t({active:e.active,series:e.series,sender:this.getSender(),pointIndex:e.pointIndex,options:{markers:this.markerOptions(),labels:e.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const n=this.visual;return delete this.visual,n}}),this.addVisual()):super.renderVisual()}},DO="horizontal",ry="custom";class EO extends $e{constructor(e,t={}){super(e),this.chartService=t,Se(this.options.position,[Oe,ze,je,Ie,ry])||(this.options.position=ze),this.createContainers(),this.createLegendTitle(e.title),this.createItems()}createContainers(){const e=this.options,{position:t,align:n}=e;let s=t,o=ve;t===ry?s=Ie:Se(t,[Oe,je])?(s="start"===n?Ie:"end"===n?ze:ve,o=t):n&&("start"===n?o=Oe:"end"===n&&(o=je)),this.container=new el({margin:e.margin,padding:e.padding,background:e.background,border:e.border,vAlign:o,align:s,zIndex:e.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new el({vAlign:o,align:s,zIndex:e.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const e=this.getService(),t=this.options,n=this.isVertical(),s=new ate({vertical:n,spacing:t.spacing,rtl:e.rtl},e);let o=t.items;t.reverse&&(o=o.slice(0).reverse());const r=o.length;for(let a=0;a<r;a++)s.append(new cte(w({},{markers:t.markers,labels:t.labels,rtl:e.rtl},t.item,o[a])));s.render(),this.itemsContainer.append(s)}isVertical(){const{orientation:e,position:t}=this.options;return t===ry&&e!==DO||(N(e)?e!==DO:Se(t,[Ie,ze]))}hasItems(){return this.container.children[0].children.length>0}reflow(e){const t=this.options,n=e.clone();this.hasItems()?(t.position===ry?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new B(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n}containerReflow(e){const{options:t,container:n}=this,{position:s,width:o,height:r}=t,a=s===Oe||s===je?Y:X,l=this.isVertical(),c=e.clone();let u=e.clone();(s===Ie||s===ze)&&(u.y1=c.y1=0),l&&r?(u.y2=u.y1+r,u.align(c,X,n.options.vAlign)):!l&&o&&(u.x2=u.x1+o,u.align(c,Y,n.options.align)),n.reflow(u),u=n.box;const h=u.clone();(t.offsetX||t.offsetY)&&(u.translate(t.offsetX,t.offsetY),n.reflow(u)),h[a+1]=e[a+1],h[a+2]=e[a+2],this.box=h}containerCustomReflow(e){const{options:t,container:n}=this,{offsetX:s,offsetY:o,width:r,height:a}=t,l=this.isVertical();let c=e.clone();l&&a?c.y2=c.y1+a:!l&&r&&(c.x2=c.x1+r),n.reflow(c),c=n.box,n.reflow(new B(s,o,s+c.width(),o+c.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(e){let t=w({},{color:wt,position:Oe,align:ve},e),n=t.text;if(e&&!1!==e.visible){if(N(t)&&t.visible){const s=nn(t);s?n=s({text:n}):t.format&&(n=this.chartService.format.auto(t.format,n))}this.title=new Si(n,t),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new qC({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return Boolean(this.options.title&&!1!==this.options.title.visible)}appendTitleLayoutContent(){this.options.title.position===je?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}O(EO,{position:ze,items:[],offsetX:0,offsetY:0,margin:qe(5),padding:qe(5),border:{color:wt,width:0},item:{cursor:"pointer",spacing:6},spacing:6,background:"",zIndex:1,markers:{border:{width:0},width:15,height:3,type:"rect",align:Ie,vAlign:ve}});const hte=EO;class _w extends q{constructor(){super(),this._registry=[]}register(e,t){this._registry.push({type:e,seriesTypes:t})}create(e,t,n){const s=this._registry;let r,o=s[0];for(let a=0;a<s.length;a++){const l=s[a];if(r=Et(e,l.seriesTypes),r.length>0){o=l;break}}return new o.type(r,t,n)}}_w.current=new _w;const ir=_w;function sr(i){const e=document.createElement("div");return i&&(e.className=i),e}function AO(i){let e=i;for(;e&&!pd(e,"k-handle");)e=e.parentNode;return e}class MO extends q{constructor(e,t,n,s){super();const o=e.element;this.options=w({},this.options,n),this.chart=e,this.observer=s,this.chartElement=o,this.categoryAxis=t,this._dateAxis=this.categoryAxis instanceof Id,this.initOptions(),this.visible=this.options.visible&&o.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(e){return this.categoryAxis.pane===e}createElements(){const e=this.options,t=this.wrapper=sr("k-selector");dt(t,{top:e.offset.top,left:e.offset.left,width:e.width,height:e.height,direction:"ltr"});const n=this.selection=sr("k-selection");this.leftMask=sr("k-mask"),this.rightMask=sr("k-mask"),t.appendChild(this.leftMask),t.appendChild(this.rightMask),t.appendChild(n),n.appendChild(sr("k-selection-bg"));const s=this.leftHandle=sr("k-handle k-left-handle"),o=this.rightHandle=sr("k-handle k-right-handle");s.appendChild(sr()),o.appendChild(sr()),n.appendChild(s),n.appendChild(o),this.chartElement.appendChild(t);const r=dt(n,["borderLeftWidth","borderRightWidth","height"]),a=dt(s,"height").height,l=dt(o,"height").height;e.selection={border:{left:r.borderLeftWidth,right:r.borderRightWidth}},dt(s,{top:(r.height-a)/2}),dt(o,{top:(r.height-l)/2}),t.style.cssText=t.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),_d(this.wrapper,{[Gg]:this._mousewheelHandler})),this._domEvents=QC.create(this.wrapper,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:e,categoryAxis:t}=this,n=t.pane.chartsBox(),s=this.chart.chartService.intl;this._dateAxis&&w(e,{min:wn(s,e.min),max:wn(s,e.max),from:wn(s,e.from),to:wn(s,e.to)});const{paddingLeft:o,paddingTop:r}=dt(this.chartElement,["paddingLeft","paddingTop"]);this.options=w({},{width:n.width(),height:n.height()+.1,padding:{left:o,top:r},offset:{left:n.x1+o,top:n.y1+r},from:e.min,to:e.max},e)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(vd(this.wrapper,{[Gg]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(e){return{axis:this.categoryAxis.options,from:this._value(e.from),to:this._value(e.to)}}_start(e){const t=this.options,n=Os(e);if(this._state||!n)return;this.chart._unsetActivePoint(),this._state={moveTarget:AO(n)||n,startLocation:e.x?e.x.location:0,range:{from:this._index(t.from),to:this._index(t.to)}};const s=this._rangeEventArgs({from:this._index(t.from),to:this._index(t.to)});this.trigger(E0,s)&&(this._state=null)}_press(e){let t;t=this._state?this._state.moveTarget:AO(Os(e)),t&&Hn(t,"k-handle-active")}_move(e){if(!this._state)return;const{_state:t,options:n,categoryAxis:s}=this,{range:o,moveTarget:r}=t,a=s.options.reverse,l=this._index(n.from),c=this._index(n.to),u=this._index(n.min),h=this._index(n.max),d=t.startLocation-e.x.location,p_from=o.from,p_to=o.to,f=o.to-o.from,m=dt(this.wrapper,"width").width/(s.categoriesCount()-1),g=Math.round(d/m)*(a?-1:1);if(!r)return;const v=pd(r,"k-left-handle"),x=pd(r,"k-right-handle");pd(r,"k-selection k-selection-bg")?(o.from=Math.min(Math.max(u,l-g),h-f),o.to=Math.min(o.from+f,h)):v&&!a||x&&a?(o.from=Math.min(Math.max(u,l-g),h-1),o.to=Math.max(o.from+1,o.to)):(v&&a||x&&!a)&&(o.to=Math.min(Math.max(u+1,c-g),h),o.from=Math.min(o.to-1,o.from)),(o.from!==p_from||o.to!==p_to)&&(this.move(o.from,o.to),this.trigger(Gd,this._rangeEventArgs(o)))}_end(){if(this._state){const e=this._state.moveTarget;e&&function(i,e){i&&i.className&&(i.className=i.className.replace("k-handle-active","").replace(FY," "))}(e);const t=this._state.range;this.set(t.from,t.to),this.trigger(A0,this._rangeEventArgs(t)),delete this._state}}_tap(e){const{options:t,categoryAxis:n}=this,s=this.chart._eventCoordinates(e),o=n.pointCategoryIndex(new le(s.x,n.box.y1)),r=this._index(t.from),a=this._index(t.to),l=this._index(t.min),c=this._index(t.max),u=a-r,d={},p=3===e.event.which;let f=Math.round(r+u/2-o);this._state||p||(this.chart._unsetActivePoint(),n.options.justified||f--,d.from=Math.min(Math.max(l,r-f),c-u),d.to=Math.min(d.from+u,c),this._start(e),this._state&&(this._state.range=d,this.trigger(Gd,this._rangeEventArgs(d)),this._end()))}_mousewheel(e){let t=yC(e);if(this._start({target:this.selection}),this._state){const n=this._state.range;e.preventDefault(),e.stopPropagation(),Math.abs(t)>1&&(t*=3),this.options.mousewheel.reverse&&(t*=-1),this.expand(t)&&this.trigger(Gd,{axis:this.categoryAxis.options,delta:t,originalEvent:e,from:this._value(n.from),to:this._value(n.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(e){const t=this.options;this._state={range:{from:this._index(t.from),to:this._index(t.to)}};const n=this._rangeEventArgs(this._state.range);this.trigger(E0,n)?this._state=null:e.preventDefault()}_gestureend(){this._state&&(this.trigger(A0,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(e){const{chart:t,_state:n,options:s,categoryAxis:o}=this,r=n.range,a=t._toModelCoordinates(e.touches[0].x.location).x,l=t._toModelCoordinates(e.touches[1].x.location).x,c=Math.min(a,l),u=Math.max(a,l);e.preventDefault(),r.from=o.pointCategoryIndex(new le(c))||s.min,r.to=o.pointCategoryIndex(new le(u))||s.max,this.move(r.from,r.to),this.trigger(Gd,this._rangeEventArgs(r))}_index(e){let t=e;return e instanceof Date&&(t=this.categoryAxis.categoryIndex(e)),t}_value(e){let t=e;return this._dateAxis&&(t=this.categoryAxis.categoryAt(e),t>this.options.max&&(t=this.options.max)),t}_slot(e){const t=this.categoryAxis,n=this._index(e);return t.getSlot(n,n,!0)}move(e,t){const n=this.options,s=this.categoryAxis.options.reverse,{offset:o,padding:r,selection:{border:a}}=n,c=s?e:t,u="x"+(s?2:1);let h=this._slot(s?t:e);const d=V(h[u]-o.left+r.left);dt(this.leftMask,{width:d}),dt(this.selection,{left:d}),h=this._slot(c);const p=V(n.width-(h[u]-o.left+r.left));dt(this.rightMask,{width:p});let f=n.width-p;f!==n.width&&(f+=a.right),dt(this.rightMask,{left:f}),dt(this.selection,{width:Math.max(n.width-(d+p)-a.right,0)})}set(e,t){const n=this.options,s=this._index(n.min),o=this._index(n.max),r=ee(this._index(e),s,o),a=ee(this._index(t),r+1,o);n.visible&&this.move(r,a),n.from=this._value(r),n.to=this._value(a)}expand(e){const t=this.options,n=this._index(t.min),s=this._index(t.max),o=t.mousewheel.zoom,r=this._index(t.from),a=this._index(t.to);let l={from:r,to:a};const c=w({},l);if(this._state&&(l=this._state.range),o!==ze&&(l.from=ee(ee(r-e,0,a-1),n,s)),o!==Ie&&(l.to=ee(ee(a+e,l.from+1,s),n,s)),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}zoom(e,t){const n=this.options,s=this._index(n.min),o=this._index(n.max),r=this._index(n.from),a=this._index(n.to);let l={from:r,to:a};const c=w({},l),{reverse:u}=this.categoryAxis.options,h=Y+(u?"2":"1"),d=this.categoryAxis.lineBox(),p=Math.abs(d[h]-t.x),f=d.width(),m=V(p/f,2),g=V(m*e),v=V((1-m)*e);if(this._state&&(l=this._state.range),l.from=ee(ee(r-g,0,a-1),s,o),l.to=ee(ee(a+v,l.from+1,o),s,o),l.from!==c.from||l.to!==c.to)return this.set(l.from,l.to),!0}trigger(e,t){return(this.observer||this.chart).trigger(e,t)}}O(MO,{visible:!0,mousewheel:{zoom:"both"},min:Vt,max:Tt});const PO=MO,mte=class extends W0{show(e){if(!e||!e.tooltipAnchor||this._current&&this._current===e)return;const t=w({},this.options,e.options.tooltip),n=e.tooltipAnchor();n?(this._current=e,super.show({point:e,anchor:n},t,e)):this.hide()}hide(){delete this._current,super.hide()}};class IO extends W0{constructor(e,t){super(e.chartService,t),this.plotArea=e,this.formatService=e.chartService.format}showAt(e,t){const n=bi(e,function(s){const o=s.series.tooltip;return!(o&&!1===o.visible)});if(n.length>0){const s=n[0],o=this.plotArea.categoryAxis.getSlot(s.categoryIx),r=t?this._slotAnchor(t,o):this._defaultAnchor(s,o);this.show({anchor:r,shared:!0,points:e,category:s.category,categoryText:this.formatService.auto(this.options.categoryFormat,s.category),series:this.plotArea.series},this.options)}}_slotAnchor(e,t){return this.plotArea.categoryAxis.options.vertical||(e.x=t.center().x),{point:e,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(e,t){const n=e.owner.pane.chartsBox(),s=this.plotArea.categoryAxis.options.vertical,o=n.center(),r=t.center();let l;return l=s?new le(o.x,r.y):new le(r.x,o.y),{point:l,align:{horizontal:"center",vertical:"center"}}}}O(IO,{categoryFormat:"{0:d}"});const NO=IO;class kO extends Ti{setup(){const{element:e,options:t}=this;if(e.bbox()){this.origin=t.origin;const s=t.vertical?X:Y,o=this.fromScale=new R(1,1);o[s]=Nd,e.transform(Ue().scale(o.x,o.y))}else this.abort()}step(e){const t=Xi(this.fromScale.x,1,e),n=Xi(this.fromScale.y,1,e);this.element.transform(Ue().scale(t,n,this.origin))}abort(){super.abort(),this.element.transform(null)}}O(kO,{duration:is}),Ls.current.register(Bs,kO);class RO extends Ti{setup(){const e=this.center=this.element.bbox().center();this.element.transform(Ue().scale(Nd,Nd,e))}step(e){this.element.transform(Ue().scale(e,e,this.center))}}O(RO,{easing:"easeOutElastic"}),Ls.current.register(iu,RO);class OO extends Ti{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(e){this.element.opacity(e*this.fadeTo)}}O(OO,{duration:200,easing:"linear"}),Ls.current.register(Wr,OO);class LO extends Ti{setup(){this.element.transform(Ue().scale(Nd,Nd,this.options.center))}step(e){this.element.transform(Ue().scale(e,e,this.options.center))}}O(LO,{easing:"easeOutElastic",duration:is}),Ls.current.register(Kr,LO);class FO extends Zg{render(){super.render(),this.renderSegments()}createSegment(e,t,n){let o;return o=t.style===nu?k0:fu,new o(e,t,n)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(e,t){if(t===Xo){const n={x:e.x,y:e.y};return Di(n.x)||(n.x=0),Di(n.y)||(n.y=0),n}}}w(FO.prototype,R0);const VO=FO;class vw extends Qr{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new Kg,this.yAxisRangeTracker=new Kg}render(e=this.panes){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const s=e[n],o=t[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||(this.createScatterChart(Et(r,w0),s),this.createScatterLineChart(Et(r,T0),s),this.createBubbleChart(Et(r,iu),s))}this.createAxes(e)}appendChart(e,t){this.xAxisRangeTracker.update(e.xAxisRanges),this.yAxisRangeTracker.update(e.yAxisRanges),super.appendChart(e,t)}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?(this.yAxisRangeTracker.reset(t),delete this.namedYAxes[t]):(this.xAxisRangeTracker.reset(t),delete this.namedXAxes[t]),e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}seriesPaneName(e){const t=this.options,n=e.xAxis,o=bi([].concat(t.xAxis),function(d){return d.name===n})[0],r=e.yAxis,l=bi([].concat(t.yAxis),function(d){return d.name===r})[0];return(o||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}createScatterChart(e,t){e.length>0&&this.appendChart(new Zg(this,{series:e,clip:t.options.clip}),t)}createScatterLineChart(e,t){e.length>0&&this.appendChart(new VO(this,{series:e,clip:t.options.clip}),t)}createBubbleChart(e,t){e.length>0&&this.appendChart(new rJ(this,{series:e,clip:t.options.clip}),t)}createXYAxis(e,t,n){const s=e.name,o=t?this.namedYAxes:this.namedXAxes,r=t?this.yAxisRangeTracker:this.xAxisRangeTracker,a=w({reverse:!t&&this.chartService.rtl},e,{vertical:t}),l=Yr(a.type,Ug),c=r.query(),u=l?{min:.1,max:1}:{min:0,max:1},h=r.query(s)||c||u,d=[a.min,a.max],p=this.series;for(let v=0;v<p.length;v++){const x=p[v],S=x[t?"yAxis":"xAxis"];if(S===a.name||0===n&&!S){const M=Dt.current.bindPoint(x,0).valueFields;d.push(M[t?"y":"x"]);break}}let f,m;0===n&&c&&(h.min=Math.min(h.min,c.min),h.max=Math.max(h.max,c.max));for(let v=0;v<d.length;v++)if(d[v]instanceof Date){f=!0;break}m=Yr(a.type,Vr)||!a.type&&f?FR:l?Ig:ns;const g=new m(h.min,h.max,a,this.chartService);if(g.axisIndex=n,s){if(o[s])throw new Error(`${t?"Y":"X"} axis with name ${s} is already defined`);o[s]=g}return this.appendAxis(g),g}createAxes(e){const t=this.options,n=[].concat(t.xAxis),s=[],o=[].concat(t.yAxis),r=[];for(let a=0;a<n.length;a++)Se(this.findPane(n[a].pane),e)&&s.push(this.createXYAxis(n[a],!1,a));for(let a=0;a<o.length;a++)Se(this.findPane(o[a].pane),e)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}_dispatchEvent(e,t,n){const s=e._eventCoordinates(t),o=new le(s.x,s.y),r=this.axes,a=r.length,l=[],c=[];for(let u=0;u<a;u++){const h=r[u],d=h.options.vertical?c:l,p=h.getValue(o);null!==p&&d.push(p)}l.length>0&&c.length>0&&e.trigger(n,{element:Os(t),originalEvent:t,x:gu(l),y:gu(c)})}updateAxisOptions(e,t){const n=e.options.vertical,s=this.groupAxes(this.panes),o=(n?s.y:s.x).indexOf(e);BO(this.options,o,n,t),BO(this.originalOptions,o,n,t)}}function BO(i,e,t,n){w([].concat(t?i.yAxis:i.xAxis)[e],n)}O(vw,{xAxis:{},yAxis:{}}),w(vw.prototype,Yd);const gte=vw;class xw extends $e{constructor(e,t,n){super(n),this.value=e,this.sector=t}render(){const e=this.options.labels,t=this.owner.chartService;let n=this.value;if(this._rendered||!1===this.visible)return;this._rendered=!0;const s=nn(e),o=this.pointData();if(s?n=s(o):e.format&&(n=t.format.auto(e.format,n)),e.visible&&(n||0===n)){if(e.position===ve||e.position===$g)e.color||(e.color=PC(this.options.color)),e.background||(e.background=this.options.color);else{const r=t.theme.seriesDefaults.labels;e.color=e.color||r.color,e.background=e.background||r.background}this.label=new Si(n,w({},e,{align:ve,vAlign:"",animation:{type:Wr,delay:this.animationDelay}}),o),this.append(this.label)}}reflow(e){this.render(),this.box=e,this.reflowLabel()}reflowLabel(){const{options:{labels:e},label:t}=this,n=this.sector.clone(),s=e.distance,o=n.middle();if(t){const r=t.box.height(),a=t.box.width();let l;if(e.position===ve)n.radius=Math.abs((n.radius-r)/2)+r,l=n.point(o),t.reflow(new B(l.x,l.y-r/2,l.x,l.y));else if(e.position===$g)n.radius=n.radius-r/2,l=n.point(o),t.reflow(new B(l.x,l.y-r/2,l.x,l.y));else{let c;l=n.clone().expand(s).point(o),l.x>=n.center.x?(c=l.x+a,t.orientation=ze):(c=l.x-a,t.orientation=Ie),t.reflow(new B(c,l.y-r,l.x,l.y))}}}createVisual(){const{sector:e,options:t}=this;if(super.createVisual(),this.value)if(t.visual){const n=(e.startAngle+180)%360,s=t.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new R(e.center.x,e.center.y),radius:e.radius,innerRadius:e.innerRadius,startAngle:n,endAngle:n+e.angle,options:t,sender:this.getSender(),createVisual:()=>{const o=new st;return this.createSegmentVisual(o),o}});s&&this.visual.append(s)}else this.createSegmentVisual(this.visual)}createSegmentVisual(e){const{sector:t,options:n}=this,s=n.border||{},r=n.color,a={color:r,opacity:n.opacity},l=this.createSegment(t,w({fill:a,stroke:{opacity:n.opacity},zIndex:n.zIndex},s.width>0?{stroke:{color:s.color,width:s.width,opacity:s.opacity,dashType:s.dashType}}:{}));e.append(l),B0(n)&&e.append(this.createGradientOverlay(l,{baseColor:r,fallbackFill:a},w({center:[t.center.x,t.center.y],innerRadius:t.innerRadius,radius:t.radius,userSpace:!0},n.overlay)))}createSegment(e,t){return t.singleSegment?new Wo(new ts(new R(e.center.x,e.center.y),e.radius),t):dg.current.createRing(e,t)}createAnimation(){const{options:e,sector:{center:t}}=this;w(e,{animation:{center:[t.x,t.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(e){const t=this.options.highlight||{},n=t.border||{};return this.createSegment(this.sector,w({},e,{fill:{color:t.color,opacity:t.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=this.sector;return{options:this.options,radius:e.radius,innerRadius:e.innerRadius,center:new R(e.center.x,e.center.y),startAngle:e.startAngle,endAngle:e.angle+e.startAngle,visual:this.visual}}tooltipAnchor(){const e=this.sector.clone().expand(5),t=e.middle();return{point:e.point(t),align:vte(t+180)}}formatValue(e){return this.owner.formatPointValue(this,e)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}}const yte=V(Bt(30),10),_te=V(Bt(60),10);function vte(i){const e=Bt(i),t=V(Math.sin(e),10),n=V(Math.cos(e),10);let s,o;return s=Math.abs(t)>_te?ve:n<0?ze:Ie,o=Math.abs(t)<yte?ve:t<0?je:Oe,{horizontal:s,vertical:o}}O(xw,{color:Le,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:UN,margin:qe(.5),align:Ns,zIndex:1,position:ol},animation:{type:Kr},highlight:{visible:!0,border:{width:1}},visible:!0}),w(xw.prototype,zs);const zO=xw,HO={createLegendItem:function(i,e,t){const n=this.options.legend||{},s=n.labels||{},o=n.inactiveItems||{},r=o.labels||{};if(t&&!1!==t.visibleInLegend){const a=!1!==t.visible,l=a?nn(s):nn(r)||nn(s);let u,h,c=t.category;l&&(c=l({text:c,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:i})),a?(u={},h=e.color):(u={color:r.color,font:r.font},h=(o.markers||{}).color),Di(c)&&""!==c&&this.legendItems.push({active:a,pointIndex:t.index,text:c,series:t.series,markerColor:h,labels:u})}}};class ay extends $e{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(e){const{options:t,plotArea:{options:{seriesColors:n=[]}}}=this,s=n.length,o=t.series,r=o.length;for(let a=0;a<r;a++){const l=o[a],c=l.data,{total:u,points:h,count:d}=E2(l),p=360/u;let f,m;isFinite(p)||(f=360/d),m=N(l.startAngle)?l.startAngle:t.startAngle,a!==r-1&&l.labels.position===ol&&(l.labels.position=ve);for(let g=0;g<h.length;g++){const v=h[g];if(!v)continue;const{fields:x,value:S,visible:M}=v,L=0!==S?f||S*p:0,K=1!==c.length&&Boolean(x.explode);ht(l.color)||(l.color=x.color||n[g%s]),e(S,new sg(null,0,0,m,L),{owner:this,category:N(x.category)?x.category:"",index:g,series:l,seriesIx:a,dataItem:c[g],percentage:0!==u?S/u:0,explode:K,visibleInLegend:x.visibleInLegend,visible:M,zIndex:r-a,animationDelay:this.animationDelay(g,a,r)}),!1!==M&&(m+=L)}}}evalSegmentOptions(e,t,n){const s=n.series;Jo(e,{value:t,series:s,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:s._defaults,excluded:["data","content","template","visual","toggle"]})}addValue(e,t,n){const s=w({},n.series,{index:n.index});if(this.evalSegmentOptions(s,e,n),this.createLegendItem(e,s,n),!1===n.visible)return;const o=new zO(e,t,s);Object.assign(o,n),this.append(o),this.points.push(o)}reflow(e){const{options:t,points:n,seriesConfigs:s=[]}=this,o=n.length,r=e.clone(),l=Math.min(r.width(),r.height()),c=l/2,u=l-.85*l,h=new B(r.x1,r.y1,r.x1+l,r.y1+l),d=h.center(),p=r.center(),f=t.series.length,m=[],g=[];let v=de(t.padding,u);this.targetBox=e,v=v>c-5?c-5:v,h.translate(p.x-d.x,p.y-d.y);const x=c-v,S=new le(x+h.x1+v,x+h.y1+v);for(let M=0;M<o;M++){const L=n[M],K=L.sector,J=L.seriesIx;if(K.radius=x,K.center=S,s.length){const Qe=s[J];K.innerRadius=Qe.innerRadius,K.radius=Qe.radius}J===f-1&&L.explode&&(K.center=K.clone().setRadius(.15*K.radius).point(K.middle())),L.reflow(h);const we=L.label;we&&we.options.position===ol&&J===f-1&&(we.orientation===ze?g.push(we):m.push(we))}m.length>0&&(m.sort(this.labelComparator(!0)),this.leftLabelsReflow(m)),g.length>0&&(g.sort(this.labelComparator(!1)),this.rightLabelsReflow(g)),this.box=h}leftLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}rightLabelsReflow(e){const t=this.distanceBetweenLabels(e);this.distributeLabels(t,e)}distanceBetweenLabels(e){const t=St(this.points),n=t.sector,s=e.length-1,o=n.radius+t.options.labels.distance,r=[];let a=e[0].box,l=V(a.y1-(n.center.y-o-a.height()-a.height()/2));r.push(l);for(let c=0;c<s;c++)a=e[c].box,l=V(e[c+1].box.y1-a.y2),r.push(l);return l=V(n.center.y+o-e[s].box.y2-e[s].box.height()/2),r.push(l),r}distributeLabels(e,t){const n=e.length;let s,o,r;for(let a=0;a<n;a++)for(r=-e[a],s=o=a;r>0&&(s>=0||o<n);)r=this._takeDistance(e,a,--s,r),r=this._takeDistance(e,a,++o,r);this.reflowLabels(e,t)}_takeDistance(e,t,n,s){let o=s;if(e[n]>0){const r=Math.min(e[n],o);o-=r,e[n]-=r,e[t]+=r}return o}reflowLabels(e,t){const n=St(this.points),s=n.sector,o=n.options.labels,r=t.length,a=o.distance;let c,l=s.center.y-(s.radius+a)-t[0].box.height();e[0]+=2;for(let u=0;u<r;u++){const h=t[u],d=h.box;l+=e[u],c=this.hAlignLabel(d.x2,s.clone().expand(a),l,l+d.height(),h.orientation===ze),h.orientation===ze?(o.align!==Ns&&(c=s.radius+s.center.x+a),h.reflow(new B(c+d.width(),l,c,l))):(o.align!==Ns&&(c=s.center.x-s.radius-a),h.reflow(new B(c-d.width(),l,c,l))),l+=d.height()}}createVisual(){const{options:{connectors:e},points:t}=this,n=t.length;super.createVisual(),this._connectorLines=[];for(let o=0;o<n;o++){const r=t[o],{sector:a,label:l}=r,c=a.middle(),u=(r.options.connectors||{}).color||e.color;if(l){const h=new ne({stroke:{color:u,width:e.width},animation:{type:Wr,delay:r.animationDelay}});if(l.options.position===ol){const d=l.box,p=a.center;let g,v,x,f=a.point(c),m=new le(d.x1,d.center().y);f=a.clone().expand(e.padding).point(c),h.moveTo(f.x,f.y),l.orientation===ze?(v=new le(d.x1-e.padding,d.center().y),x=jO(p,f,m,v),m=new le(v.x-4,v.y),x=x||m,x.x=Math.min(x.x,m.x),this.pointInCircle(x,a.center,a.radius+4)||x.x<a.center.x?(g=a.center.x+a.radius+4,h.lineTo(r.options.labels.align!==Zo?g<m.x?g:f.x+8:g,f.y),h.lineTo(m.x,v.y)):(x.y=v.y,h.lineTo(x.x,x.y))):(v=new le(d.x2+e.padding,d.center().y),x=jO(p,f,m,v),m=new le(v.x+4,v.y),x=x||m,x.x=Math.max(x.x,m.x),this.pointInCircle(x,a.center,a.radius+4)||x.x>a.center.x?(g=a.center.x-a.radius-4,h.lineTo(r.options.labels.align!==Zo?g>m.x?g:f.x-8:g,f.y),h.lineTo(m.x,v.y)):(x.y=v.y,h.lineTo(x.x,x.y))),h.lineTo(v.x,v.y),this._connectorLines.push(h),this.visual.append(h)}}}}renderVisual(){if(super.renderVisual(),xk(this.options.series,e=>e.autoFit)){const e=this.targetBox,t=this.box.center(),n=this.visual.bbox();if(!n)return;const s=n.bottomRight(),o=Math.min((t.y-e.y1)/(t.y-n.origin.y),(e.y2-t.y)/(s.y-t.y),(t.x-e.x1)/(t.x-n.origin.x),(e.x2-t.x)/(s.x-t.x));o<1&&this.visual.transform(Ue().scale(o,o,[t.x,t.y]))}}labelComparator(e){const t=e?-1:1;return function(n,s){return((n.parent.sector.middle()+270)%360-(s.parent.sector.middle()+270)%360)*t}}hAlignLabel(e,t,n,s,o){const{radius:r,center:{x:a,y:l}}=t,c=Math.min(Math.abs(l-n),Math.abs(l-s));return c>r?e:a+Math.sqrt(r*r-c*c)*(o?1:-1)}pointInCircle(e,t,n){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<Math.pow(n,2)}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}animationDelay(e){return 70*e}stackRoot(){return this}}function jO(i,e,t,n){const o=(n.y-t.y)*(e.x-i.x)-(n.x-t.x)*(e.y-i.y);let r;if(0!==o){const a=((n.x-t.x)*(i.y-t.y)-(n.y-t.y)*(i.x-t.x))/o;r=new le(i.x+a*(e.x-i.x),i.y+a*(e.y-i.y))}return r}O(ay,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),w(ay.prototype,HO),ay.prototype.isStackRoot=!0;const UO=ay,$O=class extends Qr{render(){this.createPieChart(this.series)}createPieChart(e){const t=e[0],n=new UO(this,{series:e,padding:t.padding,startAngle:t.startAngle,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}appendChart(e,t){super.appendChart(e,t),Qa(this.options.legend.items,e.legendItems)}};class bw extends zO{reflowLabel(){const{options:{labels:e},label:t}=this,n=this.sector.clone(),s=n.middle();if(t){const o=t.box.height();if(e.position===ve){n.radius-=(n.radius-n.innerRadius)/2;const r=n.point(s);t.reflow(new B(r.x,r.y-o/2,r.x,r.y))}else super.reflowLabel()}}createSegment(e,t){return dg.current.createRing(e,t)}}O(bw,{overlay:{gradient:"roundedGlass"},labels:{position:ve},animation:{type:Kr}}),w(bw.prototype,zs);const GO=bw;class WO extends UO{addValue(e,t,n){const s=w({},n.series,{index:n.index});if(this.evalSegmentOptions(s,e,n),this.createLegendItem(e,s,n),!1===n.visible)return;const o=new GO(e,t,s);Object.assign(o,n),this.append(o),this.points.push(o)}reflow(e){const t=this.options,n=e.clone(),o=Math.min(n.width(),n.height()),r=o/2,l=t.series,c=l.length;let u=de(t.padding,o-.85*o);u=u>r-5?r-5:u;let p,h=r-u,d=0;for(let x=0;x<c;x++){const S=l[x];0===x&&N(S.holeSize)&&(p=S.holeSize,h-=S.holeSize),N(S.size)?h-=S.size:d++,N(S.margin)&&x!==c-1&&(h-=S.margin)}N(p)||(p=(r-u)/(c+.75)*.75,h-=p);let g,v,f=p,m=0;this.seriesConfigs=[];for(let x=0;x<c;x++){const S=l[x];g=de(S.size,h/d),f+=m,v=f+g,this.seriesConfigs.push({innerRadius:f,radius:v}),m=S.margin||0,f=v}super.reflow(e)}animationDelay(e,t,n){return 50*e+is*(t+1)/(n+1)}}O(WO,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const wte=WO,qO=class extends Qr{initFields(){this.valueAxisRangeTracker=new Kg}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const e=this.valueAxis,t=e.range(),s=e.getSlot(e.options.reverse?t.max:t.min),o=this.polarAxis.getSlot(0).center,r=e.box.translate(o.x-s.x1,o.y-s.y1);e.reflow(r)}createValueAxis(){const e=this.valueAxisRangeTracker,t=e.query(),n=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let s,o;n.type===Ug?(s=cZ,o={min:.1,max:1}):(s=lZ,o={min:0,max:1});const r=e.query(name)||t||o;r&&t&&(r.min=Math.min(r.min,t.min),r.max=Math.max(r.max,t.max));const a=new s(r.min,r.max,n,this.chartService);this.valueAxis=a,this.appendAxis(a)}reflowAxes(){const{options:{plotArea:e},valueAxis:t,polarAxis:n,box:s}=this,o=.15*Math.min(s.width(),s.height()),r=qe(e.padding||{},o),a=s.clone().unpad(r),l=a.clone();l.y2=l.y1+Math.min(l.width(),l.height()),l.align(a,X,ve);const c=l.clone().shrink(0,l.height()/2);n.reflow(l),t.reflow(c);const u=t.lineBox().height()-t.box.height();t.reflow(t.box.unpad({top:u})),this.axisBox=l,this.alignAxes(l)}backgroundBox(){return this.box}detachLabels(){}};class KO extends Zg{pointSlot(e,t){const s=le.onCircle(e.center,e.startAngle,e.center.y-t.y1);return new B(s.x,s.y,s.x,s.y)}}O(KO,{clip:!1});const YO=KO;class Cw extends VO{}Cw.prototype.pointSlot=YO.prototype.pointSlot,O(Cw,{clip:!1});const QO=Cw,Mte=class extends F0{fillToAxes(e){const t=this._polarAxisCenter();e.lineTo(t.x,t.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let e=this._strokeSegments;if(!e){const t=this._polarAxisCenter(),n=new kg(!1),s=this.points();s.push(t),e=this._strokeSegments=n.process(s),e.pop()}return e}},Ite=class extends mu{fillToAxes(e){const n=this.parent.plotArea.polarAxis.box.center(),s=new Cn([n.x,n.y]);e.segments.unshift(s),e.segments.push(s)}};function kte(i,e){return i.value.x-e.value.x}const Rte=class extends QO{createSegment(e,t,n){let o;return o=(t.line||{}).style===nu?new Mte(e,t,n):new Ite(e,t,n),o}createMissingValue(e,t){let n;return Di(e.x)&&t!==tu&&(n={x:e.x,y:e.y},t===Xo&&(n.y=0)),n}seriesMissingValues(e){return e.missingValues||Xo}_hasMissingValuesGap(){const e=this.options.series;for(let t=0;t<e.length;t++)if("gap"===this.seriesMissingValues(e[t]))return!0}sortPoints(e){if(e.sort(kte),this._hasMissingValuesGap())for(let t=0;t<e.length;t++){const n=e[t];n&&!Di(n.value.y)&&"gap"===this.seriesMissingValues(n.series)&&delete e[t]}return e}};class ww extends qO{createPolarAxis(){const e=new rZ(this.options.xAxis,this.chartService);this.polarAxis=e,this.axisX=e,this.appendAxis(e)}valueAxisOptions(e){return w(e,{majorGridLines:{type:Fr},minorGridLines:{type:Fr}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}appendChart(e,t){this.valueAxisRangeTracker.update(e.yAxisRanges),Qr.prototype.appendChart.call(this,e,t)}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createLineChart(Et(e,[b0]),t),this.createScatterChart(Et(e,[C0]),t),this.createAreaChart(Et(e,[x0]),t)}createLineChart(e,t){if(0===e.length)return;const n=new QO(this,{series:e});this.appendChart(n,t)}createScatterChart(e,t){if(0===e.length)return;const n=new YO(this,{series:e});this.appendChart(n,t)}createAreaChart(e,t){if(0===e.length)return;const n=new Rte(this,{series:e});this.appendChart(n,t)}_dispatchEvent(e,t,n){const s=e._eventCoordinates(t),o=new le(s.x,s.y),r=this.axisX.getValue(o),a=this.axisY.getValue(o);null!==r&&null!==a&&e.trigger(n,{element:Os(t),x:r,y:a})}createCrosshairs(){}}O(ww,{xAxis:{},yAxis:{}}),w(ww.prototype,Yd);const Ote=ww;class XO extends L0{pointSlot(e,t){const n=e.center.y-t.y1,s=le.onCircle(e.center,e.middle(),n);return new B(s.x,s.y,s.x,s.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const e=function(i){const e=[];for(let t=0;t<i.length;t++){const n=i[t];e[n.seriesIx]=e[n.seriesIx]||[],e[n.seriesIx].push(n)}return e}(this._segments);for(let t=0;t<e.length;t++){const n=e[t];if(n&&n.length>1){const s=n[0].linePoints[0],o=St(n),r=St(o.linePoints),l=r.categoryIx===r.categoriesCount-1;0===s.categoryIx&&l&&St(n).linePoints.push(s)}}}}createSegment(e,t,n){let o;o=t.style===nu?k0:fu;const r=new o(e,t,n),a=this.seriesMissingValues(t);return(e.length===t.data.length||a===tu)&&(r.options.closed=!0),r}}O(XO,{clip:!1,limitPoints:!1});const ZO=XO,Vte=class extends F0{fillToAxes(){}},zte=class extends mu{fillToAxes(){}},jte=class extends ZO{createSegment(e,t,n,s){const r=(t.line||{}).style;let a,l,c;return this.options.isStacked&&n>0&&s&&(l=s.linePoints.slice(0),a=s),r===nu?(c=new Vte(e,t,n,a,l),c.options.closed=!0):(e.push(e[0]),c=new zte(e,t,n,a,l)),c}seriesMissingValues(e){return e.missingValues||Xo}};class JO extends GO{constructor(e,t){super(e,null,t)}}O(JO,{overlay:{gradient:"none"},labels:{distance:10}});const Ute=JO;class eL extends $e{constructor(e){super(e),this.forEach=e.rtl?p2:d2}reflow(e){const{options:t,children:n}=this,{gap:s,spacing:o}=t,r=n.length,l=e.angle/(r+s+o*(r-1));let c=e.startAngle+l*(s/2);this.forEach(n,u=>{const h=e.clone();h.startAngle=c,h.angle=l,u.sector&&(h.radius=u.sector.radius),u.reflow(h),u.sector=h,c+=l+l*o})}}O(eL,{gap:1,spacing:0});const $te=eL,Wte=class extends $e{reflow(e){const{options:{reverse:t},children:n}=this,s=n.length,o=t?s-1:0,r=t?-1:1;this.box=new B;for(let a=o;a>=0&&a<s;a+=r){const l=n[a].sector;l.startAngle=e.startAngle,l.angle=e.angle}}};class Tw extends Wd{pointType(){return Ute}clusterType(){return $te}stackType(){return Wte}categorySlot(e,t){return e.getSlot(t)}pointSlot(e,t){const n=e.clone(),s=e.center.y;return n.radius=s-t.y1,n.innerRadius=s-t.y2,n}reflowPoint(e,t){e.sector=t,e.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}Tw.prototype.reflow=er.prototype.reflow,O(Tw,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const qte=Tw;class Sw extends qO{createPolarAxis(){const e=new d0(this.options.categoryAxis,this.chartService);this.polarAxis=e,this.categoryAxis=e,this.appendAxis(e),this.aggregateCategories(),this.createCategoryAxesLabels()}valueAxisOptions(e){return this._hasBarCharts&&w(e,{majorGridLines:{type:Fr},minorGridLines:{type:Fr}}),this._isStacked100&&w(e,{roundToMajorUnit:!1,labels:{format:"P0"}}),w(e,this.options.valueAxis)}aggregateCategories(){ll.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){ll.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(e){return e}createCharts(){const e=this.filterVisibleSeries(this.series),t=this.panes[0];this.createAreaChart(Et(e,[zg]),t),this.createLineChart(Et(e,[jg]),t),this.createBarChart(Et(e,[Hg]),t)}chartOptions(e){const t={series:e},n=e[0];if(n){const s=this.filterVisibleSeries(e),o=n.stack;t.isStacked=o&&s.length>1,t.isStacked100=o&&"100%"===o.type&&s.length>1,t.isStacked100&&(this._isStacked100=!0)}return t}createAreaChart(e,t){if(0===e.length)return;const n=new jte(this,this.chartOptions(e));this.appendChart(n,t)}createLineChart(e,t){if(0===e.length)return;const n=new ZO(this,this.chartOptions(e));this.appendChart(n,t)}createBarChart(e,t){if(0===e.length)return;const n=e[0],s=this.chartOptions(e);s.gap=n.gap,s.spacing=n.spacing;const o=new qte(this,s);this.appendChart(o,t),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(e,t,n){const s=e._eventCoordinates(t),o=new le(s.x,s.y),r=this.categoryAxis.getCategory(o),a=this.valueAxis.getValue(o);null!==r&&null!==a&&e.trigger(n,{element:Os(t),category:r,value:a})}createCrosshairs(){}}w(Sw.prototype,Yd,{appendChart:ll.prototype.appendChart,aggregateSeries:ll.prototype.aggregateSeries,seriesSourcePoints:ll.prototype.seriesSourcePoints}),O(Sw,{categoryAxis:{categories:[]},valueAxis:{}});const Kte=Sw;class Dw extends $e{constructor(e,t,n){super(t),this.value=e,this.options.index=n.index}reflow(e){const t=this.points,n=this.children[0];this.box=new B(t[0].x,t[0].y,t[1].x,t[2].y),n&&n.reflow(new B(e.x1,t[0].y,e.x2,t[2].y))}createVisual(){const e=this.options;let t;super.createVisual(),t=e.visual?e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:e,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),t&&this.visual.append(t)}createPath(){const e=this.options,t=e.border;return ne.fromPoints(this.points,{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.color,opacity:t.opacity,width:t.width}}).close()}createHighlight(e){return ne.fromPoints(this.points,e)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const e=ne.fromPoints(this.points).close();return{options:this.options,path:e}}tooltipAnchor(){const e=this.box;return{point:new le(e.center().x,e.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(e){return this.owner.formatPointValue(this,e)}}O(Dw,{color:Le,border:{width:1}}),w(Dw.prototype,zs);const Yte=Dw;class Ew extends $e{constructor(e,t){super(t),this.plotArea=e,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(e,t){return this.chartService.format.auto(t,e.value)}render(){const{options:e,plotArea:{options:{seriesColors:t=[]}}}=this,n=e.series[0],s=n.data;if(!s)return;const{total:o,points:r}=E2(n);for(let a=0;a<r.length;a++){const l=r[a];if(!l)continue;let c=l.fields;ht(n.color)||(n.color=c.color||t[a%t.length]),c=w({index:a,owner:this,series:n,dataItem:s[a],percentage:l.value/o},c,{visible:l.visible});const u=l.valueFields.value,h=this.createSegment(u,c),d=this.createLabel(u,c);h&&d&&h.append(d)}}evalSegmentOptions(e,t,n){const s=n.series;Jo(e,{value:t,series:s,dataItem:n.dataItem,index:n.index},{defaults:s._defaults,excluded:["data","content","template","toggle","visual"]})}createSegment(e,t){const n=w({},t.series);if(this.evalSegmentOptions(n,e,t),this.createLegendItem(e,n,t),!1!==t.visible){const s=new Yte(e,n,t);return Object.assign(s,t),this.append(s),this.points.push(s),s}}createLabel(e,t){const{series:n,dataItem:s}=t,o=w({},this.options.labels,n.labels);let r=e;if(o.visible){const a=nn(o),l={dataItem:s,value:e,percentage:t.percentage,category:t.category,series:n};a?r=a(l):o.format&&(r=this.plotArea.chartService.format.auto(o.format,r)),o.color||(o.color=PC(n.color),o.background||(o.background=n.color)),this.evalSegmentOptions(o,e,t);const c=new Si(r,w({vAlign:o.position},o),l);return this.labels.push(c),c}}labelPadding(){const e=this.labels,t={left:0,right:0};for(let n=0;n<e.length;n++){const o=e[n].options.align;if(o!==ve){const r=e[n].box.width();o===Ie?t.left=Math.max(t.left,r):t.right=Math.max(t.right,r)}}return t}dynamicSlopeReflow(e,t,n){const{options:s,points:o}=this,r=o.length,a=o[0];let l=a;for(let d=0;d<o.length;d++)o[d].percentage>l.percentage&&(l=o[d]);let c=a.percentage/l.percentage*t,u=(t-c)/2,h=0;for(let d=0;d<r;d++){const p=o[d].percentage,f=o[d+1],m=f?f.percentage:p,g=o[d].points=[],v=s.dynamicHeight?n*p:n/r;let x;x=p?(t-c*(m/p))/2:m?0:t/2,x=ee(x,0,t),g.push(new R(e.x1+u,e.y1+h)),g.push(new R(e.x1+t-u,e.y1+h)),g.push(new R(e.x1+t-x,e.y1+v+h)),g.push(new R(e.x1+x,e.y1+v+h)),u=x,h+=v+s.segmentSpacing,c=ee(t-2*x,0,t)}}constantSlopeReflow(e,t,n){const{options:s,points:o}=this,r=o.length,a=s.neckRatio<=1;let c=a?0:(t-t/s.neckRatio)/2;const h=((a?t:t-2*c)-(a?s.neckRatio*t:t))/2;let d=0;for(let p=0;p<r;p++){const f=o[p].points=[],m=o[p].percentage,g=s.dynamicHeight?h*m:h/r,v=s.dynamicHeight?n*m:n/r;f.push(new R(e.x1+c,e.y1+d)),f.push(new R(e.x1+t-c,e.y1+d)),f.push(new R(e.x1+t-c-g,e.y1+v+d)),f.push(new R(e.x1+c+g,e.y1+v+d)),c+=g,d+=v+s.segmentSpacing}}reflow(e){const t=this.points,n=t.length;if(!n)return;const s=this.options,o=e.clone().unpad(this.labelPadding()),r=o.height()-s.segmentSpacing*(n-1),a=o.width();s.dynamicSlope?this.dynamicSlopeReflow(o,a,r):this.constantSlopeReflow(o,a,r);for(let l=0;l<n;l++)t[l].reflow(e)}}O(Ew,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:ve,position:ve,zIndex:1}}),w(Ew.prototype,HO);const Qte=Ew;class ly extends $e{constructor(e,t){super(),this.options=t,this.color=t.color||Le,this.value=e}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const t=this.options.labels;if(t.visible){const n=this.pointData();let o,s=nn(t),r=t.color;o=s?s(n):this.formatValue(t.format),r||(r=PC(this.color)),this.label=new Si(o,w({align:ve,vAlign:ve,margin:{left:5,right:5},zIndex:de(t.zIndex,this.series.zIndex)},t,{color:r}),n),this.append(this.label)}}formatValue(e){return this.owner.formatPointValue(this,e)}reflow(e){this.render();const t=this.label;this.box=e,t&&t.reflow(this.markerBox()),this.note&&this.note.reflow(e),this.marker.reflow(this.markerBox())}markerBox(){const t=this.options.markers,n=t.border,s=this.box.toRect(),r=de(t.type,"rect")===KN;let a=de(n.width,r?1:0);const l=Math.round(a/2);if(t.size){const c=s.center();s.size.width=s.size.height=t.size,s.origin.x=Math.round(c.x-s.size.width/2),s.origin.y=Math.round(c.y-s.size.height/2)}return s.size.width-=a,s.size.height-=a,s.origin.y+=l+.5,s.origin.x+=l+.5,gg(s)}markerBorder(){const e=this.options,n=e.markers.border,s=de(n.opacity,e.opacity);return{color:n.color||this.color,width:n.width,opacity:s,dashType:n.dashType}}createMarker(){const e=this.options,t=e.markers,n=new Gr({type:de(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:this.color,border:this.markerBorder(),borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:de(e.zIndex,this.series.zIndex),animation:e.animation,visual:e.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)}createHighlight(e){const t=this.options,n=this.options.highlight.markers||this.options.markers,s=new Gr({type:de(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||t.opacity,zIndex:de(t.zIndex,this.series.zIndex)});s.reflow(this.markerBox());const o=s.getElement();return o.options.fill=e.fill,o.options.stroke=e.stroke,o}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}tooltipAnchor(){const e=this.box.center().x;return{point:new le(e,this.box.y1-5),align:{horizontal:ve,vertical:je}}}overlapsBox(e){return this.box.overlaps(e)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}w(ly.prototype,zs),w(ly.prototype,pu),ly.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}}};const tL=ly;class Aw extends $e{constructor(e,t){super(t),this.plotArea=e,this.chartService=e.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:Tt,max:Vt},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:e}}=this;for(let t=0;t<e.length;t++){const n=e[t];for(let s=0;s<n.data.length;s++){const{valueFields:o}=this._bindPoint(n,t,s);N(o.value)&&null!==o.value&&(this.valueRange.min=Math.min(this.valueRange.min,o.value),this.valueRange.max=Math.max(this.valueRange.max,o.value))}}}addValue(e,t){let n;e&&N(e.value)&&null!==e.value&&(n=this.createPoint(e,t),n&&Object.assign(n,t)),this.points.push(n)}evalPointOptions(e,t,n){const{series:s,seriesIx:o}=n,r={defaults:s._defaults,excluded:["data","tooltip","content","template","visual","toggle"]};let a=this._evalSeries[o];N(a)||(this._evalSeries[o]=a=Jo(e,{},r,!0));let l=e;return a&&(l=w({},e),Jo(l,{value:t,series:s,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},r)),l}pointType(){return tL}pointOptions(e,t){let n=this.seriesOptions[t];if(!n){const s=this.pointType().prototype.defaults;this.seriesOptions[t]=n=w({},s,{markers:{opacity:e.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},e)}return n}createPoint(e,t){const n=t.series;let s=this.pointOptions(n,t.seriesIx),o=t.color||n.color;s=this.evalPointOptions(s,e,t),ht(n.color)?o=s.color:0!==this.valueRange.max&&(o=((i,e=.05)=>{const t=Jm(i),n=1-e;return s=>{const o=t.toHSL(),r=100-o.l;return o.l+=Math.min((n-s)*r,r),o.toCss()}})(o)(e.value/this.valueRange.max));const r=new tL(e,s);return r.color=o,this.append(r),r}seriesAxes(e){const{xAxis:t,yAxis:n}=e,s=this.plotArea,o=t?s.namedXAxes[t]:s.axisX,r=n?s.namedYAxes[n]:s.axisY;if(!o)throw new Error("Unable to locate X axis with name "+t);if(!r)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:o,yAxis:r}}reflow(e){const t=this.points,n=!this.options.clip;let s=0;this.traverseDataPoints((o,r)=>{const a=t[s++],{xAxis:l,yAxis:c}=this.seriesAxes(r.series),u=l.categoryIndex(o.x),h=c.categoryIndex(o.y),d=l.getSlot(u,u,n),p=c.getSlot(h,h,n);if(a)if(d&&p){const f=this.pointSlot(d,p);a.reflow(f)}else a.visible=!1}),this.box=e}pointSlot(e,t){return new B(e.x1,t.y1,e.x2,t.y2)}traverseDataPoints(e){const{options:{series:t}}=this;for(let n=0;n<t.length;n++){const s=t[n],{xAxis:o,yAxis:r}=this.seriesAxes(s),a=o.currentRangeIndices(),l=r.currentRangeIndices();for(let c=0;c<s.data.length;c++){const{valueFields:u,fields:h}=this._bindPoint(s,n,c),d=o.totalIndex(u.x),p=r.totalIndex(u.y),m=l.min<=p&&p<=l.max;a.min<=d&&d<=a.max&&m&&e(u,w({pointIx:c,series:s,seriesIx:n,dataItem:s.data[c],owner:this},h))}}}formatPointValue(e,t){const n=e.value;return this.chartService.format.auto(t,n.x,n.y,n.value)}animationPoints(){const e=this.points,t=[];for(let n=0;n<e.length;n++)t.push((e[n]||{}).marker);return t}}O(Aw,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0}),w(Aw.prototype,{_bindPoint:er.prototype._bindPoint});const ene=Aw;class Mw extends Qr{initFields(){this.namedXAxes={},this.namedYAxes={}}render(e=this.panes){this.bindCategories(),this.createAxes(e),this.createCharts(e),this.createAxisLabels()}bindCategories(){const e=this.srcSeries||this.series;for(let t=0;t<e.length;t++){const n=e[t],s=n.data||[],{xAxis:o,yAxis:r}=this.seriesAxes(n),a=Ek(o.categories||[]),l=Ek(r.categories||[]);for(let c=0;c<s.length;c++){const{x:u,y:h}=Dt.current.bindPoint(n,c).valueFields;a.has(u)||a.add(u),l.has(h)||l.add(h)}o.categories=a.values(),r.categories=l.values()}}createCharts(e){const t=this.groupSeriesByPane();for(let n=0;n<e.length;n++){const s=e[n],o=t[s.options.name||"default"]||[];this.addToLegend(o);const r=this.filterVisibleSeries(o);!r||this.createHeatmapChart(Et(r,[v0]),s)}}createHeatmapChart(e,t){const n=new ene(this,{series:e});this.appendChart(n,t)}seriesPaneName(e){const t=this.options,n=e.xAxis,o=bi([].concat(t.xAxis),function(d){return d.name===n})[0],r=e.yAxis,l=bi([].concat(t.yAxis),function(d){return d.name===r})[0];return(o||{}).pane||(l||{}).pane||(t.panes||[{}])[0].name||"default"}seriesAxes(e){let t,n;const s=this.options,o=[].concat(s.xAxis),r=e.xAxis;t=r?o.find(c=>c.name===r):o[0];const a=[].concat(s.yAxis),l=e.yAxis;if(n=l?a.find(c=>c.name===l):a[0],!t)throw new Error("Unable to locate X axis with name "+r);if(!n)throw new Error("Unable to locate Y axis with name "+l);return{xAxis:t,yAxis:n}}createAxisLabels(){const e=this.axes;for(let t=0;t<e.length;t++)e[t].createLabels()}createXYAxis(e,t,n){const s=e.name,o=t?this.namedYAxes:this.namedXAxes,r=Object.assign({axisCrossingValue:0},e,{vertical:t,reverse:t||this.chartService.rtl?!e.reverse:e.reverse,justified:!1}),l=[r.min,r.max,r.categories?r.categories[0]:null],c=this.series;for(let p=0;p<c.length;p++){const f=c[p],m=f[t?"yAxis":"xAxis"];if(m===r.name||0===n&&!m){const g=Dt.current.bindPoint(f,0).valueFields;l.push(g[t?"y":"x"]);break}}let u,h;for(let p=0;p<l.length;p++)if(l[p]instanceof Date){u=!0;break}h=Yr(r.type,Vr)||!r.type&&u?Id:Yo;const d=new h(r,this.chartService);if(d.axisIndex=n,s){if(o[s])throw new Error(`${t?"Y":"X"} axis with name ${s} is already defined`);o[s]=d}return this.appendAxis(d),d.mapCategories(),d}createAxes(e){const t=this.options,n=[].concat(t.xAxis),s=[],o=[].concat(t.yAxis),r=[];for(let a=0;a<n.length;a++)Se(this.findPane(n[a].pane),e)&&s.push(this.createXYAxis(n[a],!1,a));for(let a=0;a<o.length;a++)Se(this.findPane(o[a].pane),e)&&r.push(this.createXYAxis(o[a],!0,a));this.axisX=this.axisX||s[0],this.axisY=this.axisY||r[0]}removeAxis(e){const t=e.options.name;super.removeAxis(e),e.options.vertical?delete this.namedYAxes[t]:delete this.namedXAxes[t],e===this.axisX&&delete this.axisX,e===this.axisY&&delete this.axisY}_dispatchEvent(e,t,n){const s=e._eventCoordinates(t),o=new le(s.x,s.y),r=this.axes,a=r.length,l=[],c=[];for(let u=0;u<a;u++){const h=r[u];ey(h.options.vertical?c:l,h.getCategory(o))}l.length>0&&c.length>0&&e.trigger(n,{element:Os(t),originalEvent:t,x:gu(l),y:gu(c)})}updateAxisOptions(e,t){const n=e.options.vertical,s=this.groupAxes(this.panes),o=(n?s.y:s.x).indexOf(e);nL(this.options,o,n,t),nL(this.originalOptions,o,n,t)}crosshairOptions(e){return Object.assign({},e.options.crosshair,{zIndex:0})}}function nL(i,e,t,n){w([].concat(t?i.yAxis:i.xAxis)[e],n)}O(Mw,{xAxis:{},yAxis:{}}),w(Mw.prototype,Yd);const tne=Mw,Ei="color",Ai="first",Un="max",or="noteText";ir.current.register(ll,[Bs,Zo,Ld,cu,Rd,au,su,Fd,qr,zd,Od,lu,Bd,ru,Hd,ou,Vd,uu]),ir.current.register(gte,[w0,T0,iu]),ir.current.register($O,[Kr]),ir.current.register(class extends $O{render(){this.createDonutChart(this.series)}createDonutChart(e){const t=e[0],n=new wte(this,{series:e,padding:t.padding,connectors:t.connectors,legend:this.options.legend});this.appendChart(n)}},[Vg]),ir.current.register(class extends Qr{render(){this.createFunnelChart(this.series)}createFunnelChart(e){const t=e[0],n=new Qte(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(n)}appendChart(e,t){super.appendChart(e,t),Qa(this.options.legend.items,e.legendItems)}},[Bg]),ir.current.register(Ote,[x0,b0,C0]),ir.current.register(Kte,[zg,Hg,jg]),ir.current.register(tne,[v0]),Dt.current.register([Bs,Zo,Ld,cu,Rd,au],[xi],[yo,Ei,or,KR,YR]),Dt.current.register([Bd,ru,Vd,uu],["from","to"],[yo,Ei,or]),Dt.current.register([Hd,ou],[xi],[yo,Ei,or,"summary"]),Dt.current.register([x0,b0,C0],[Y,X],[Ei]),Dt.current.register([zg,Hg,jg],[xi],[Ei]),Dt.current.register([Bg],[xi],[yo,Ei,"visibleInLegend","visible"]),al.current.register([Bs,Zo,Ld,cu,Rd,au,Hd,ou],{value:Un,color:Ai,noteText:Ai,errorLow:"min",errorHigh:Un}),al.current.register([Bd,ru,Vd,uu],{from:"min",to:Un,color:Ai,noteText:Ai}),al.current.register([zg,Hg,jg],{value:Un,color:Ai}),Dt.current.register([w0,T0,iu],[Y,X],[Ei,or,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Dt.current.register([iu],[Y,X,"size"],[Ei,yo,or]),Dt.current.register([v0],[Y,X,xi],[Ei,or]),Dt.current.register([su,Fd],["open","high","low","close"],[yo,Ei,"downColor",or]),al.current.register([su,Fd],{open:Un,high:Un,low:"min",close:Un,color:Ai,downColor:Ai,noteText:Ai}),Dt.current.register([Od,lu],["lower","q1","median","q3","upper","mean","outliers"],[yo,Ei,or]),al.current.register([Od,lu],{lower:Un,q1:Un,median:Un,q3:Un,upper:Un,mean:Un,outliers:Ai,color:Ai,noteText:Ai}),Dt.current.register([qr,zd],["current","target"],[yo,Ei,"visibleInLegend",or]),al.current.register([qr,zd],{current:Un,target:Un,color:Ai,noteText:Ai}),Dt.current.register([Kr,Vg],[xi],[yo,Ei,"explode","visibleInLegend","visible"]);const Iw=[yo,xi,Y,X],hl="mousemove",iL="contextmenu",sL="mouseleave";class oL extends q{constructor(e,t,n,s={}){super(),this.observers=[],this.addObserver(s.observer),this.chartService=new KC(this,s),this.chartService.theme=n,this._initElement(e);const o=w({},this.options,t);this._originalOptions=w({},o),this._theme=n,this._initTheme(o,n),this._initHandlers(),this._initSurface(),this.bindCategories(),cQ.preloadFonts(t,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(e){for(this._setElementClass(e),e.style.position="relative";e.firstChild;)e.removeChild(e.firstChild);this.element=e}_setElementClass(e){Hn(e,"k-chart")}_initTheme(e,t){const n=[],s=e.series||[];for(let o=0;o<s.length;o++)n.push(Object.assign({},s[o]));e.series=n,function(i){const e=Iw;for(let t=0;t<e.length;t++){const n=e[t]+"Axes";i[n]&&(i[e[t]+"Axis"]=i[n],delete i[n])}}(e),this.applyDefaults(e,t),null===e.seriesColors&&delete e.seriesColors,this.options=w({},t,e),this.applySeriesColors()}getSize(){const e=this.options.chartArea||{};return{width:e.width?parseInt(e.width,10):Math.floor(this.element.offsetWidth),height:e.height?parseInt(e.height,10):Math.floor(this.element.offsetHeight)}}resize(e){const t=this.getSize(),n=this._size,s=t.width>0||t.height>0;e||s&&(!n||t.width!==n.width||t.height!==n.height)?(this._size=t,this._resize(t,e),this.trigger("resize",t)):s&&this._selections&&xk(this._selections,o=>!o.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(e){if(this.applyDefaults(this.options),this.applySeriesColors(),e){const t=this._model._plotArea,n=t.findPane(e);t.redraw(n)}else this._redraw()}getAxis(e){return WR(e,this._plotArea.axes)}findAxisByName(e){return this.getAxis(e)}findPaneByName(e){const t=this._plotArea.panes;for(let n=0;n<t.length;n++)if(t[n].options.name===e)return new f0(t[n])}findPaneByIndex(e){const t=this._plotArea.panes;if(t[e])return new f0(t[e])}plotArea(){return new gZ(this._plotArea)}toggleHighlight(e,t){const n=this._plotArea,s=(n.srcSeries||n.series||[])[0];let o;if(ht(t))o=n.filterPoints(t);else{let r,a;ks(t)?(r=t.series,a=t.category):r=a=t,o=s.type===Vg?rL(n.pointsBySeriesName(r),a):s.type===Kr||s.type===Bg?rL((n.charts[0]||{}).points,a):n.pointsBySeriesName(r)}o&&this.togglePointsHighlight(e,o)}togglePointsHighlight(e,t){const n=this._highlight;for(let s=0;s<t.length;s++)n.togglePointHighlight(t[s],e)}showTooltip(e){const t=this._sharedTooltip(),{_tooltip:n,_plotArea:s}=this;let o,r;if(ht(e)?(o=s.findPoint(e),o&&t&&(r=o.categoryIx)):t&&N(e)&&(r=s.categoryAxis.categoryIndex(e)),t){if(r>=0){const a=this._plotArea.pointsByCategoryIndex(r);n.showAt(a)}}else o&&n.show(o)}hideTooltip(){this._tooltip.hide()}_initSurface(){const e=this.surface,t=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&Uo(t,{width:n.width}),n.height&&Uo(t,{height:n.height}),e&&e.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Zd.create(t,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const e=this._getModel();this._size={width:e.options.width,height:e.options.height},this._destroyView(),this._model=e,this._plotArea=e._plotArea,e.renderVisual(),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.setup()}),this._initSurface(),this.surface.draw(e.visual),!1!==this.options.transitions&&e.traverse(function(t){t.animation&&t.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new qee,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),lL(this._plotArea.panes),this._navState||this._cancelDomEvents()}exportVisual(e){let t;if(e&&(e.width||e.height||e.options)){const n=this.options,s=w({},e.options,{chartArea:{width:e.width,height:e.height}});Nw(this._originalOptions,s),this.options=w({},this._originalOptions,s),this._initTheme(this.options,this._theme),this.bindCategories();const o=this._getModel();o.renderVisual(),lL(o._plotArea.panes),t=o.visual,this.options=n}else t=this.surface.exportVisual();return t}_sharedTooltip(){return this._plotArea instanceof ll&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const e=this.options;!1!==e.pannable&&(this._pannable=new Kee(this._plotArea,e.pannable))}_createZoomSelection(){const e=this.options.zoomable,t=(e||{}).selection;!1!==e&&!1!==t&&(this._zoomSelection=new Yee(this,t))}_createMousewheelZoom(){const e=this.options.zoomable,t=(e||{}).mousewheel;!1!==e&&!1!==t&&(this._mousewheelZoom=new ete(this,t))}_toggleDragZoomEvents(){const t=this.options.zoomable,s=(t||{}).mousewheel,o=!(this.options.pannable||!1!==t&&!1!==(t||{}).selection||this.requiresHandlers([D0,jd,Ud])),r=(!1===t||!1===s)&&!this.requiresHandlers([$d,hu,du]),a=this.element;this._dragZoomEnabled&&o&&r?(a.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(o&&r)&&(a.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!o,!r)}_toggleDomEvents(e,t){const n=this.domEvents;!n||(n.toggleDrag&&n.toggleDrag(e),n.toggleZoom&&n.toggleZoom(t))}_createTooltip(){const{options:{tooltip:e}}=this;let t;return t=this._sharedTooltip()?this._createSharedTooltip(e):new mte(this.chartService,e),t}_createSharedTooltip(e){return new NO(this._plotArea,e)}applyDefaults(e,t){(function(i,e){const t=(e||{}).axisDefaults||{};let n,s,o;function r(a){const l=(a||{}).color||s.color,c=w({},t,t[n],s,s[n],{line:{color:l},labels:{color:l},title:{color:l}},a);return delete c[n],c}for(let a=0;a<Iw.length;a++)n=Iw[a]+"Axis",s=i.axisDefaults||{},o=[].concat(i[n]),o=o.map(r),i[n]=o.length>1?o:o[0]})(e,t),function(i,e){const t=i.series,n=t.length,s=i.seriesDefaults,o=w({},i.seriesDefaults),r=e?w({},e.seriesDefaults):{},a=w({},r);aL(o),aL(a);for(let l=0;l<n;l++){const c=t[l].type||i.seriesDefaults.type,u=w({data:[]},a,r[c],{tooltip:i.tooltip},o,s[c]);t[l]._defaults=u,t[l]=w({},u,t[l]),t[l].data=t[l].data||[]}}(e,t)}applySeriesColors(){const e=this.options,t=e.series,n=e.seriesColors||[];for(let s=0;s<t.length;s++){const o=t[s],r=n[s%n.length],a=o._defaults;o.color=o.color||r,a&&(a.color=a.color||r)}}_getModel(){const e=this.options,t=this._createPlotArea(),n=new SX(this._modelOptions());n.chart=this,n._plotArea=t;const s=_g.buildTitle(e.title),o=_g.buildTitle(e.subtitle,{align:e.title.align,position:e.title.position});return n.append.apply(n,_g.orderTitles([s,o])),e.legend&&e.legend.visible&&n.append(new hte(t.options.legend,this.chartService)),n.append(t),n.reflow(),n}_modelOptions(){const e=this.options,t=this.getSize();return w({transitions:e.transitions,width:t.width||600,height:t.height||400},e.chartArea)}_createPlotArea(e){const t=this.options;return ir.current.create(e?[]:t.series,t,this.chartService)}_setupSelection(){const{_plotArea:{axes:e}}=this,t=this._selections=[];for(let n=0;n<e.length;n++){const s=e[n],o=s.options;if(s instanceof Yo&&o.select&&!o.vertical){const r=s.range(),a=new PO(this,s,w({min:r.min,max:r.max},o.select));t.push(a)}}}_selectStart(e){return this.trigger(E0,e)}_select(e){return this.trigger(Gd,e)}_selectEnd(e){return this.trigger(A0,e)}_initHandlers(){this._clickHandler=this._click.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=tw(this._mousemove.bind(this),20)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0}trigger(e,t={}){e===e2&&(t.anchor.point=this._toDocumentCoordinates(t.anchor.point)),t.sender=this;const n=this.observers;let s=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(s=!0);return s}_attachEvents(){const e=this.element;this._touchAction=e.style.touchAction,_d(e,{[iL]:this._clickHandler,[Gg]:this._mousewheelHandler,[sL]:this._mouseleaveHandler}),this._shouldAttachMouseMove()&&_d(e,{[hl]:this._mousemove}),this.domEvents=QC.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(e){this._hoveredPoint&&(this._hoveredPoint.out(this,e),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(S0))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(e){this._mousewheelZoom&&!this._stopChartHandlers(e)&&(this._gestureDistance=e.distance,this._unsetActivePoint(),this.surface.suspendTracking())}_gestureend(e){this._zooming&&!this._stopChartHandlers(e)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(du,{}))}_gesturechange(e){const t=this._mousewheelZoom;if(t&&!this._stopChartHandlers(e)){e.preventDefault();let s=-e.distance/this._gestureDistance+1;if(Math.abs(s)>=.1){s=Math.round(10*s),this._gestureDistance=e.distance;const o={delta:s,axisRanges:ep(this._plotArea.axes),originalEvent:e};if(this._zooming||!this.trigger($d,o)){const r=this._eventCoordinates(e);this._zooming||(this._zooming=!0),(o.axisRanges=t.updateRanges(s,r))&&!this.trigger(hu,o)&&t.zoom()}}}}_mouseout(e){if(e.element){const t=this._drawingChartElement(e.element,e);t&&t.leave&&t.leave(this,e.originalEvent)}}_start(e){const t=this._eventCoordinates(e);this._stopChartHandlers(e)||!this._plotArea.backgroundContainsPoint(t)||(this.requiresHandlers([D0,jd,Ud])&&this._startNavigation(e,t,D0),this._pannable&&this._pannable.start(e)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(e)&&this.trigger($d,{axisRanges:ep(this._plotArea.axes),originalEvent:e}))}_move(e){let{_navState:t,_pannable:n}=this;if(!this._stopChartHandlers(e)){if(n){const s=n.move(e);s&&!this.trigger(jd,{axisRanges:s,originalEvent:e})&&n.pan()}else if(t){const s={},o=t.axes;for(let r=0;r<o.length;r++){const a=o[r];if(a.options.name){const c=a.options.vertical?e.y:e.x,u=c.startLocation-c.location;0!==u&&(s[a.options.name]=a.translateRange(u))}}t.axisRanges=s,this.trigger(jd,{axisRanges:s,originalEvent:e})}this._zoomSelection&&this._zoomSelection.move(e)}}_end(e){if(this._stopChartHandlers(e))return;const t=this._pannable;if(t&&t.end(e)?(this.surface.resumeTracking(),this.trigger(Ud,{axisRanges:ep(this._plotArea.axes),originalEvent:e}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(e,Ud),this._zoomSelection){const n=this._zoomSelection.end(e);n&&!this.trigger(hu,{axisRanges:n,originalEvent:e})&&(this._zoomSelection.zoom(),this.trigger(du,{axisRanges:n,originalEvent:e}))}}_stopChartHandlers(e){const t=this._selections||[];if(!t.length)return!1;const n=this._eventCoordinates(e),s=this._plotArea.paneByPoint(n);if(s)for(let o=0;o<t.length;o++)if(t[o].onPane(s))return!0}_mousewheelZoomRate(){return de(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(e){const t=yC(e),n=this._mousewheelZoom,s=this._eventCoordinates(e);if(!this._stopChartHandlers(e)&&this._plotArea.backgroundContainsPoint(s))if(n){const o={delta:t,axisRanges:ep(this._plotArea.axes),originalEvent:e};(this._zooming||!this.trigger($d,o))&&(e.preventDefault(),this._zooming||(this._unsetActivePoint(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),o.axisRanges=n.updateRanges(t,s),o.axisRanges&&!this.trigger(hu,o)&&n.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(du,o),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let o=this._navState;if(o||this._startNavigation(e,s,$d)||(o=this._navState),o){const r=o.totalDelta||t;o.totalDelta=r+t;const a=this._navState.axes,l={};for(let c=0;c<a.length;c++){const u=a[c],h=u.options.name;h&&(l[h]=u.scaleRange(-r*this._mousewheelZoomRate(),s))}this.trigger(hu,{delta:t,axisRanges:l,originalEvent:e}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(e,du)},150)}}}_startNavigation(e,t,n){const s=this._model._plotArea,o=s.findPointPane(t),r=s.axes.slice(0);if(!o)return;const a=ep(r);this.trigger(n,{axisRanges:a,originalEvent:e})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._navState={axisRanges:a,pane:o,axes:r})}_endNavigation(e,t){this._navState&&(this.trigger(t,{axisRanges:this._navState.axisRanges,originalEvent:e}),this._suppressHover=!1,this._navState=null)}_getChartElement(e,t){const n=this.surface.eventTarget(e);if(n)return this._drawingChartElement(n,e,t)}_drawingChartElement(e,t,n){let o,s=e;for(;s&&!o;)o=s.chartElement,s=s.parent;if(o)return o.aliasFor&&(o=o.aliasFor(t,this._eventCoordinates(t))),n&&(o=o.closest(n),o&&o.aliasFor&&(o=o.aliasFor())),o}_eventCoordinates(e){const t=rQ(e);return this._toModelCoordinates(t.x,t.y)}_elementPadding(){if(!this._padding){const{paddingLeft:e,paddingTop:t}=dt(this.element,["paddingLeft","paddingTop"]);this._padding={top:t,left:e}}return this._padding}_toDocumentCoordinates(e){const t=this._elementPadding(),n=Xc(this.element);return{left:V(e.x+t.left+n.left),top:V(e.y+t.top+n.top)}}_toModelCoordinates(e,t){const n=this.element,s=Xc(n),o=this._elementPadding(),r=function(i){if(!i)return Qm.unit();let e=bk(i),t=i.parentElement;for(;t;){const n=bk(t);e=e.multiplyCopy(n),t=t.parentElement}return e.b=e.c=e.e=e.f=0,e}(n).invert(),a=new R(e-s.left-o.left,t-s.top-o.top).transform(r);return new le(a.x,a.y)}_tap(e){const t=this.surface.eventTarget(e),n=this._drawingChartElement(t,e),s=this._sharedTooltip();!this._startHover(t,e)&&!s&&this._unsetActivePoint(),s&&this._trackSharedTooltip(this._eventCoordinates(e),e,!0),this._propagateClick(n,e),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(e){const t=this._getChartElement(e);this._propagateClick(t,e)}_propagateClick(e,t){let n=e;for(;n;)n.click&&n.click(this,t),n=n.parent}_startHover(e,t){if(this._suppressHover)return!1;let n=this._drawingChartElement(e,t,function(s){return(s.hover||s.over)&&!(s instanceof Qr)});return this._showInactiveOpacity(n,t),n}_displayTooltip(e){w({},this.options.tooltip,e.options.tooltip).visible&&this._tooltip.show(e)}_displayInactiveOpacity(e,t,n){const s=this._activeChartInstance=this._chartInstanceFromPoint(e);if(s)if(t)this._updateSeriesOpacity(e),this._applySeriesOpacity(s.children,null,!0),this._applySeriesOpacity(s.children,e.series),this._highlight.show(n||e);else{let o;if(!s.supportsPointInactiveOpacity())return void this._highlight.show(e);o=this._getInactivePoints(e,s),o&&o.length&&this._highlight.show(o,1-this._getInactiveOpacityForSeries(e.series))}}_getInactivePoints(e,t){return this._getAllPointsOfType(t,e.constructor).filter(s=>s!==e)}_getAllPointsOfType(e,t){let n=[];for(let s=0;s<e.children.length;s++){const o=e.children[s];o.constructor===t?n.push(o):o.children&&o.children.length&&(n=n.concat(this._getAllPointsOfType(o,t)))}return n}_updateHoveredPoint(e,t){const n=this._hoveredPoint;n&&n!==e&&(n.out(this,t),this._hoveredPoint=null),e&&n!==e&&e.over&&(this._hoveredPoint=e,e.over(this,t))}_updateSeriesOpacity(e,t){const n=this._plotArea,s=n.series.length;for(let o=0;o<s;o++){const r=n.series[o],a=this._getDefaultOpacityForSeries(r),l=this._getInactiveOpacityForSeries(r);t||r===e.series?(r.opacity=a,r.line&&(r.line.opacity=a)):(r.defaultOpacity=a,r.opacity=l,r.line&&(r.line.opacity=l))}}_applySeriesOpacity(e,t,n,s){for(let o=0;o<e.length;o++){const r=e[o],a=r.series||s;if(a&&(a.highlight||{}).visible&&r.visual){const c=s?s.opacity:r.series.opacity;(a!==t||n)&&r.visual.opacity(n?1:c)}r.children&&r.children.length&&this._applySeriesOpacity(r.children,t,n,r.series)}}_chartInstanceFromPoint(e){let t=e.parent;for(;t&&!t.plotArea;)t=t.parent;return t}_showInactiveOpacity(e,t){const n=this._activePoint,s=this._plotArea.series.length>1,o=this._hasInactiveOpacity();return this._updateHoveredPoint(e,t),e&&n!==e&&e.hover&&(this._activePoint=e,!this._sharedTooltip()&&!e.hover(this,t)&&(this._displayTooltip(e),o?this._displayInactiveOpacity(e,s):this._highlight.show(e))),e}_hideInactiveOpacity(e){const t=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(t&&this._activeChartInstance&&(this._updateSeriesOpacity(e,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)}_hasInactiveOpacity(){let e=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,t=this.options.series.filter(n=>void 0!==n.highlight.inactiveOpacity).length>0;return e||t}_getInactiveOpacityForSeries(e){return e.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||e.opacity||1}_getDefaultOpacityForSeries(e){return e.defaultOpacity||e.opacity||1}_mouseover(e){const t=this._startHover(e.element,e.originalEvent);t&&t.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),_d(document,{[hl]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(e){const{options:t,_tooltip:n,_highlight:s,_activePoint:o}=this,r=this._eventCoordinates(e);if(this._plotArea.box.containsPoint(r)){if(o&&o.tooltipTracking&&o.series&&o.parent.getNearestPoint){const a=o.parent.getNearestPoint(r.x,r.y,o.seriesIx);a&&a!==o&&(this._activePoint=a,a.hover(this,e)||(w({},t.tooltip,a.options.tooltip).visible&&n.show(a),s.show(a)))}}else vd(document,{[hl]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(o)}_mousemove(e){const t=this._eventCoordinates(e),n=this._plotArea;if(this._trackCrosshairs(t),n.hover){const s=n.backgroundContainsPoint(t);s?(this._plotAreaHovered=!0,this._plotArea.hover(this,e)):this._plotAreaHovered&&!s&&(this._plotAreaHovered=!1,this.trigger(S0))}this._sharedTooltip()&&this._trackSharedTooltip(t,e)}_trackCrosshairs(e){const t=this._plotArea.crosshairs;for(let n=0;n<t.length;n++){const s=t[n];s.box.containsPoint(e)?s.showAt(e):s.hide()}}_trackSharedTooltip(e,t,n){if(this._suppressHover)return;const{options:{tooltip:s},_plotArea:o,_plotArea:{categoryAxis:r},_tooltip:a,_highlight:l}=this;if(o.backgroundContainsPoint(e)){const c=r.pointCategoryIndex(e);if(c!==this._tooltipCategoryIx||!this._sharedHighlight&&n){const u=o.pointsByCategoryIndex(c),h=u.map(function(p){return p.eventArgs(t)}),d=h[0]||{};d.categoryPoints=h,u.length>0&&!this.trigger(ZR,d)?(s.visible&&a.showAt(u,e),l.show(u),this._sharedHighlight=!0):a.hide(),this._tooltipCategoryIx=c}else n&&this._sharedHighlight&&(l.hide(),a.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(l.hide(),a.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(e){const t=this._plotArea;this._mousemove.cancel(),t.hideCrosshairs(),this._unsetActivePoint(e)}_unsetActivePoint(e){const{_tooltip:t,_highlight:n}=this;this._activePoint=null,this._hoveredPoint=null,t&&!(e&&e.keepTooltipOpen)&&t.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,n&&n.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const t=[].concat(this.options.categoryAxis);for(let n=0;n<t.length;n++){const s=t[n];!1!==s.autoBind&&this.bindCategoryAxisFromSeries(s,n)}}bindCategoryAxisFromSeries(e,t){const n=this.options.series,s=n.length,o=new nk;let l,r=[],a=!1;for(let c=0;c<s;c++){const u=n[c],h=u.categoryAxis===e.name||!u.categoryAxis&&0===t,d=u.data,p=d.length,f=u.categoryField&&h;if(a=f||a,f&&p>0){l=M2(e,Rg(u.categoryField,d[0]));const m=l?A2:Rg;for(let g=0;g<p;g++){const v=d[g],x=m(u.categoryField,v,this.chartService.intl);(l||!o.get(x))&&(r.push([x,v]),l||o.set(x,!0))}}}if(r.length>0){l&&(r=function(i,e=il){const t=function(i,e=il){for(let t=1,n=i.length;t<n;t++)if(e(i[t],i[t-1])<0){i.sort(e);break}return i}(i,e),n=t.length,s=n>0?[t[0]]:[];for(let o=1;o<n;o++)0!==e(t[o],St(s))&&s.push(t[o]);return s}(r,function(u,h){return il(u[0],h[0])}));const c=function(i){const e=i.length,t=[];for(let n=0;n<e;n++){const s=i[n],o=s.length;for(let r=0;r<o;r++)t[r]=t[r]||[],t[r].push(s[r])}return t}(r);e.categories=c[0]}else a&&(e.categories=[])}_isBindable(e){const t=Dt.current.valueFields(e);let n=!0;for(let s=0;s<t.length;s++){let o=t[s];if(o===xi?o="field":o+="Field",!N(e[o])){n=!1;break}}return n}_noTransitionsRedraw(){const e=this.options;let t;!1!==e.transitions&&(e.transitions=!1,t=!0),this._redraw(),t&&(e.transitions=!0)}_legendItemHover(e,t){const{_plotArea:n,_highlight:s}=this,o=(n.srcSeries||n.series)[e];let r;r=Se(o.type,[Kr,Vg,Bg])?n.findPoint(function(a){return a.series.index===e&&a.index===t}):n.pointsBySeriesIndex(e),this._hasInactiveOpacity()&&o.visible&&r?this._displayInactiveOpacity(r.length?r[0]:r,n.series.length>1,r):s.show(r)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([JR,S0])}updateMouseMoveHandler(){vd(this.element,{[hl]:this._mousemove}),this._shouldAttachMouseMove()&&_d(this.element,{[hl]:this._mousemove})}applyOptions(e,t){Nw(this._originalOptions,e),this._originalOptions=w(this._originalOptions,e),this.options=w({},this._originalOptions),t&&(this._theme=t,this.chartService.theme=t),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(e,t){this.applyOptions(e,t),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(e){this.chartService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(e){this.chartService.intl=e}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,vd(this.element,{[iL]:this._clickHandler,[Gg]:this._mousewheelHandler,[hl]:this._mousemove,[sL]:this._mouseleaveHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&vd(document,{[hl]:this._mouseMoveTrackHandler}),this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const e=this.surface;e&&(e.unbind("mouseenter",this._surfaceMouseenterHandler),e.unbind("mouseleave",this._surfaceMouseleaveHandler),e.destroy(),this.surface=null)}_destroySelections(){const e=this._selections;if(e)for(;e.length>0;)e.shift().destroy()}_destroyView(){const e=this._model;e&&(e.destroy(),this._model=null),this._unsetActivePoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function rL(i,e){if(i)for(let t=0;t<i.length;t++)if(i[t].category===e)return[i[t]]}function aL(i){delete i.bar,delete i.column,delete i.rangeColumn,delete i.line,delete i.verticalLine,delete i.pie,delete i.donut,delete i.area,delete i.verticalArea,delete i.scatter,delete i.scatterLine,delete i.bubble,delete i.candlestick,delete i.ohlc,delete i.boxPlot,delete i.bullet,delete i.verticalBullet,delete i.polarArea,delete i.polarLine,delete i.radarArea,delete i.radarLine,delete i.waterfall}function ep(i){const e={};for(let t=0;t<i.length;t++){const n=i[t],s=n.options.name;s&&(e[s]=n.range())}return e}const dne=["data","categories"];function Nw(i,e){for(let t in e)if(!Se(t,dne)&&e.hasOwnProperty(t)){const n=e[t],s=i[t];if(N(s)){const o=null===n;o||!N(n)?(delete i[t],o&&delete e[t]):s&&ks(n)&&ks(s)&&Nw(s,n)}}}function lL(i){for(let e=0;e<i.length;e++)i[e].notifyRender()}O(oL,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},seriesDefaults:{type:Zo,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const kw=oL,mne=class extends NO{_slotAnchor(e,t){const s=this.plotArea.categoryAxis.options.vertical,o=s?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let r;return r=s?new le(this.plotArea.box.x2,t.center().y):new le(t.center().x,-2),{point:r,align:o}}_defaultAnchor(e,t){return this._slotAnchor({},t)}},cL=[Bs,qr];function uL(i){const e=[];for(let t=0;t<i.length;t++){const n=i[t];e[t]=n.style.display,n.style.display="none"}return e}function hL(i,e){for(let t=0;t<i.length;t++)i[t].style.display=e[t]}function dL(i){return Ce(i)?[i]:i}O(class extends kw{_setElementClass(e){Hn(e,"k-sparkline")}_initElement(e){super._initElement(e),this._initialWidth=Math.floor(Uo(e).width)}_resize(){const e=this.element,t=uL(e.childNodes);this._initialWidth=Math.floor(Uo(e).width),hL(e.childNodes,t),super._resize()}_modelOptions(){const e=this.options,t=this._surfaceWrap(),n=uL(t.childNodes),s=document.createElement("span");s.innerHTML="&nbsp;",t.appendChild(s);const o=w({width:this._autoWidth,height:Uo(t).height,transitions:e.transitions},e.chartArea,{inline:!0,align:!1});return Uo(t,{width:o.width,height:o.height}),t.removeChild(s),hL(t.childNodes,n),this.surface&&this.surface.resize(),o}_surfaceWrap(){if(!this.stage){const e=this.stage=document.createElement("span");this.element.appendChild(e)}return this.stage}_createPlotArea(e){const t=super._createPlotArea(e);return this._autoWidth=this._initialWidth||this._calculateWidth(t),t}_calculateWidth(e){const t=this.options,n=qe(t.chartArea.margin),s=e.charts,o=this._surfaceWrap();let r=0;for(let l=0;l<s.length;l++){const c=s[l],u=(c.options.series||[])[0];if(!u)continue;if(u.type===Bs)return 150;if(u.type===qr)return 150;if(u.type===Kr)return Uo(o).height;const h=c.categoryAxis;if(h){const d=h.categoriesCount()*(!c.options.isStacked&&Se(u.type,[Zo,zd])?c.seriesOptions.length:1);r=Math.max(r,d)}}let a=r*t.pointWidth;return a>0&&(a+=n.left+n.right),a}_createSharedTooltip(e){return new mne(this._plotArea,e)}static normalizeOptions(e){let t=dL(e);return t=fn(t)?{seriesDefaults:{data:t}}:w({},t),t.series||(t.series=[{data:dL(t.data)}]),w(t,{seriesDefaults:{type:t.type}}),(Se(t.series[0].type,cL)||Se(t.seriesDefaults.type,cL))&&(t=w({},{categoryAxis:{crosshair:{visible:!1}}},t)),t}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const vne=class extends Ti{setup(){this._initialOpacity=parseFloat(dt(this.element,"opacity").opacity)}step(e){dt(this.element,{opacity:String(Xi(this._initialOpacity,0,e))})}abort(){super.abort(),dt(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),dt(this.element,{opacity:String(this._initialOpacity)})}};function Ow(i,e){const t=document.createElement("div");return t.className=i,e&&(t.style.cssText=e),t}class fL extends q{constructor(e,t,n){super(),this.options=w({},this.options,n),this.container=e,this.chartService=t;const s=dt(e,["paddingLeft","paddingTop"]);this.chartPadding={top:s.paddingTop,left:s.paddingLeft},this.createElements(),e.appendChild(this.element)}createElements(){const e=this.element=Ow("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),t=this.tooltip=Ow("k-tooltip k-chart-tooltip"),n=this.scroll=Ow("k-scroll");t.innerHTML="&nbsp;",e.appendChild(t),e.appendChild(n)}show(e,t,n){const{element:s,options:o,scroll:r,tooltip:a}=this,l=Je(et(e)+et(t-e)/2),c=.4*n.width(),u=n.center().x-c,f=(n.center().x-u)/(o.max-o.min),m=l-o.min;let g=this.chartService.intl.format(o.format,e,t);const v=nn(o);this.clearHideTimeout(),this._visible||(dt(s,{visibility:"hidden",display:"block"}),this._visible=!0),v&&(g=v({from:e,to:t})),a.innerHTML=g,dt(a,{left:n.center().x-a.offsetWidth/2,top:n.y1});const x=dt(a,["marginTop","borderTopWidth","height"]);dt(r,{width:c,left:u+m*f,top:n.y1+x.marginTop+x.borderTopWidth+x.height/2}),dt(s,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new vne(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}O(fL,{format:"{0:d} - {1:d}",hideDelay:500});const xne=fL,ea="_navigator",rr=ea;class cy extends q{constructor(e){super(),this.chart=e;const t=this.options=w({},this.options,e.options.navigator),n=t.select;n&&(n.from=this.parseDate(n.from),n.to=this.parseDate(n.to)),N(t.hint.visible)||(t.hint.visible=t.visible),this.chartObserver=new gC(this,{[jd]:"_drag",[Ud]:"_dragEnd",[hu]:"_zoom",[du]:"_zoomEnd"}),e.addObserver(this.chartObserver)}parseDate(e){return wn(this.chart.chartService.intl,e)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:e,options:t}=this,n=this.mainAxis(),{min:s,max:o}=n.roundedRange(),{from:r,to:a,mousewheel:l}=t.select,c=function(i){return mL.prototype=i,new mL}(n);0!==n.categoriesCount()&&(this.clean(),c.box=n.box,this.selection=new PO(e,c,{min:s,max:o,from:r||s,to:a||o,mousewheel:de(l,{zoom:"left"}),visible:t.visible},new gC(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),t.hint.visible&&(this.hint=new xne(e.element,e.chartService,{min:s,max:o,template:nn(t.hint),format:t.hint.format})))}setRange(){const t=this.chart._createPlotArea(!0).namedCategoryAxes[rr],{min:n,max:s}=t.roundedRange(),o=this.options.select||{};let r=o.from||n;r<n&&(r=n);let a=o.to||s;a>s&&(a=s),this.options.select=w({},o,{from:r,to:a}),this.filterAxes()}_redrawSelf(e){const t=this.chart._plotArea;t&&t.redraw(St(t.panes),e)}redrawSlaves(){const e=this.chart,t=e._plotArea,n=t.panes.slice(0,-1);t.srcSeries=e.options.series,t.options.categoryAxis=e.options.categoryAxis,t.clearSeriesPointsCache(),t.redraw(n)}_drag(e){const{chart:t,selection:n}=this,s=t._eventCoordinates(e.originalEvent),o=this.mainAxis(),r=o.roundedRange(),a=o.pane.box.containsPoint(s),c=e.axisRanges[t._plotArea.categoryAxis.options.name],u=this.options.select;let h;if(!c||a||!n)return;h=u.from&&u.to?et(u.to)-et(u.from):et(n.options.to)-et(n.options.from);const d=Je(ee(et(c.min),r.min,et(r.max)-h)),p=Je(ee(et(d)+h,et(r.min)+h,r.max));this.options.select={from:d,to:p},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),n.set(d,p),this.showHint(d,p)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:e,to:t}},options:{select:n}}=this;n.from=e,n.to=t}filterAxes(){const{options:{select:e={}},chart:t}=this,n=t.options.categoryAxis,{from:s,to:o}=e;for(let r=0;r<n.length;r++){const a=n[r];a.pane!==ea&&(a.min=s,a.max=o)}}filter(){const{chart:e,options:{select:t}}=this;if(!e.requiresHandlers(["navigatorFilter"]))return;const n=this.mainAxis(),s={from:t.from,to:t.to};if("category"!==n.options.type){const o=new Id(w({baseUnit:"fit"},e.options.categoryAxis[0],{categories:[t.from,t.to]}),e.chartService).options;s.from=jn(o.min,-o.baseUnitStep,o.baseUnit),s.to=jn(o.max,o.baseUnitStep,o.baseUnit)}this.chart.trigger("navigatorFilter",s)}_zoom(e){const{chart:{_plotArea:{categoryAxis:t}},selection:n,options:{select:s,liveDrag:o}}=this,r=this.mainAxis();let a=e.delta;if(!n)return;const l=r.categoryIndex(n.options.from),c=r.categoryIndex(n.options.to),u=this.chart._eventCoordinates(e.originalEvent);e.originalEvent.preventDefault(),Math.abs(a)>1&&(a*=3),c-l>1?(n.zoom(a,u),this.readSelection()):(t.options.min=s.from,s.from=t.scaleRange(-e.delta*this.chart._mousewheelZoomRate(),u).min),o&&(this.filterAxes(),this.redrawSlaves()),n.set(s.from,s.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(e){this._dragEnd(e)}showHint(e,t){this.hint&&this.hint.show(e,t,this.chart._plotArea.backgroundBox())}_selectStart(e){return this.chart._selectStart(e)}_select(e){return this.showHint(e.from,e.to),this.chart._select(e)}_selectEnd(e){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(e)}mainAxis(){const e=this.chart._plotArea;if(e)return e.namedCategoryAxes[rr]}select(e,t){const n=this.options.select;return e&&t&&(n.from=this.parseDate(e),n.to=this.parseDate(t),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(e,t)),{from:n.from,to:n.to}}static setup(e={},t={}){if(e.__navi)return;e.__navi=!0;const n=w({},t.navigator,e.navigator),s=e.panes=[].concat(e.panes),o=w({},n.pane,{name:ea});n.visible||(o.visible=!1,o.height=.1),s.push(o),cy.attachAxes(e,n),cy.attachSeries(e,n,t)}static attachAxes(e,t){const n=t.series||[],s=e.categoryAxis=[].concat(e.categoryAxis),o=e.valueAxis=[].concat(e.valueAxis),a=0===Et(n,XR).length,l=w({type:"date",pane:ea,roundToBaseUnit:!a,justified:a,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:t.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),c=t.categoryAxis;s.push(w({},l,{maxDateGroups:200},c,{name:rr,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),w({},l,c,{name:rr+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),w({},l,c,{name:rr+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),o.push(w({name:rr,pane:ea,majorGridLines:{visible:!1},visible:!1},t.valueAxis))}static attachSeries(e,t,n){const s=e.series=e.series||[],o=[].concat(t.series||[]),r=n.seriesColors,a=t.seriesDefaults;for(let l=0;l<o.length;l++)s.push(w({color:r[l%r.length],categoryField:t.dateField,visibleInLegend:!1,tooltip:{visible:!1}},a,o[l],{axis:rr,categoryAxis:rr,autoBind:t.autoBindElements}))}}function mL(){}const gL=cy;O(class extends kw{applyDefaults(e,t){const n=Uo(this.element).width||600;let s=t;const o={seriesDefaults:{categoryField:e.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(n/28)}}};s&&(s=w({},s,o)),gL.setup(e,s),super.applyDefaults(e,s)}_setElementClass(e){Hn(e,"k-chart k-stockchart")}setOptions(e){this.destroyNavigator(),super.setOptions(e)}noTransitionsRedraw(){const e=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=e}_resize(){this.noTransitionsRedraw()}_redraw(){const e=this.navigator;!this._dirty()&&e&&e.options.partialRedraw?e.redrawSlaves():this._fullRedraw()}_dirty(){const e=this.options,n=bi([].concat(e.series,e.navigator.series),function(o){return o&&o.visible}).length,s=this._seriesCount!==n;return this._seriesCount=n,s}_fullRedraw(){let e=this.navigator;e||(e=this.navigator=new gL(this),this.trigger("navigatorCreated",{navigator:e})),e.clean(),e.setRange(),super._redraw(),e.initSelection()}_trackSharedTooltip(e){const n=this._plotArea.paneByPoint(e);n&&n.options.name===ea?this._unsetActivePoint():super._trackSharedTooltip(e)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const e=[].concat(this.options.categoryAxis);let t;for(let n=0;n<e.length;n++){const s=e[n];s.name===rr?t=s.categories:t&&s.pane===ea&&(s.categories=t)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(e){const t=this._eventCoordinates(e),n=this._plotArea.paneByPoint(t);return super._stopChartHandlers(e)||n&&n.options.name===ea}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class Dne extends(Jc(Sd(pg(ho)))){get nodeType(){return"Arc"}constructor(e=new $r,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this.geometry().bbox()}toPath(){const e=new ne,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}_containsPoint(e){return this.geometry().containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const Ene=Dne;class Ane extends(pg(ho,["rect"])){get nodeType(){return"Image"}constructor(e,t=new Re,n={}){super(n),this.src(e),this.rect(t)}src(e){return oe(e)?(this.options.set("src",e),this):this.options.get("src")}bbox(e){const t=Xa(this.currentTransform(e));return this._rect.bbox(t)}rawBBox(){return this._rect.bbox()}_containsPoint(e){return this._rect.containsPoint(e)}_hasFill(){return this.src()}}const _L=Ane;class Mne extends(Jc(Sd(pg(ho)))){get nodeType(){return"Rect"}constructor(e=new Re,t={}){super(t),this.geometry(e),oe(this.options.stroke)||this.stroke("#000")}_bbox(e){return this._geometry.bbox(e)}rawBBox(){return this._geometry.bbox()}_containsPoint(e){return this._geometry.containsPoint(e)}_isOnPath(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}const Pne=Mne;function vL(i,e,t,n,s){for(let o=0;o<i.length;o++){const r=i[o].clippedBBox();if(r){const a=r.origin.clone();a[n]=Jd(r.size[s],e,t||"start",n,s),oy(a,r,i[o])}}}function Ine(i,e,t){vL(i,e,t,"x","width")}function Nne(i,e,t){vL(i,e,t,"y","height")}function Lw(i,e,t,n){if(i.length>1){const s=new R;let o=i[0].bbox;for(let r=1;r<i.length;r++){let a=i[r].element,l=i[r].bbox;s[e]=o.origin[e]+o.size[n],s[t]=l.origin[t],oy(s,l,a),l.origin[e]=s[e],o=l}}}function xL(i){const e=[];for(let t=0;t<i.length;t++){let n=i[t],s=n.clippedBBox();s&&e.push({element:n,bbox:s})}return e}function kne(i){Lw(xL(i),"x","y","width")}function Rne(i){Lw(xL(i),"y","x","height")}function bL(i,e,t,n,s){const o=function(i,e,t){const n=e.size[t],s=[];let a,l,o=[],r=0;const c=function(){o.push({element:a,bbox:l})};for(let u=0;u<i.length;u++)if(a=i[u],l=a.clippedBBox(),l){let h=l.size[t];r+h>n?o.length?(s.push(o),o=[],c(),r=h):(c(),s.push(o),o=[],r=0):(c(),r+=h)}return o.length&&s.push(o),s}(i,e,s),r=e.origin.clone(),a=[];for(let l=0;l<o.length;l++){let c=o[l],u=c[0];r[n]=u.bbox.origin[n],oy(r,u.bbox,u.element),u.bbox.origin[t]=r[t],Lw(c,t,n,s),a.push([]);for(let h=0;h<c.length;h++)a[l].push(c[h].element)}return a}function Lne(i,e){return bL(i,e,"x","y","width")}function Fne(i,e){return bL(i,e,"y","x","height")}function Vne(i,e){const t=i.clippedBBox();if(t){const n=t.size,s=e.size;if(s.width<n.width||s.height<n.height){const o=Math.min(s.width/n.width,s.height/n.height),r=i.transform()||Ue();r.scale(o,o),i.transform(r)}}}let Fw;class Vw extends q{static get current(){return Fw||(Fw=new Vw),Fw}parse(e,t){const n=new po(t);return VC(n,e)}}const Bne=Vw;function CL(i){const e=new sw({skipBaseHref:!0}),t=i.clippedBBox();let n=i;if(t){const o=t.getOrigin(),r=new st;r.transform(Ue().translate(-o.x,-o.y)),r.children.push(i),n=r}e.load([n]);const s=`<?xml version='1.0' ?><svg xmlns='${Xd}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${e.render()}</svg>`;return e.destroy(),s}function wL(i,e){const t={width:"800px",height:"600px",cors:"Anonymous"};let n=i;const s=i.clippedBBox();if(s){const h=s.getOrigin();n=new st,n.transform(Ue().translate(-h.x,-h.y)),n.children.push(i);const d=s.getSize();t.width=d.width+"px",t.height=d.height+"px"}const o=Object.assign(t,e),r=document.createElement("div"),a=r.style;a.display="none",a.width=o.width,a.height=o.height,document.body.appendChild(r);const l=new dw(r,o);l.suspendTracking(),l.draw(n);const c=l.image(),u=()=>{l.destroy(),document.body.removeChild(r)};return c.then(u,u),c}function TL(i,e){let t=CL(i);return(!e||!e.raw)&&(t="data:image/svg+xml;base64,"+rk(t)),md().resolve(t)}const DL="arrowPointer",np="barPointer",ML=Math.PI/180,ta="inside",uy="linear",Bw="outside",PL="radialPointer",IL="radialRangePointer";function NL(i,e){const t=i.getOrigin(),n=i.getSize(),s=qe(e);return i.setOrigin([t.x-s.left,t.y-s.top]),i.setSize([n.width+(s.left+s.right),n.height+(s.top+s.bottom)]),i}const{Group:Hne,Path:kL,Text:jne}=ft;function RL(i,e){const t=i.box,n=i.children[0].box,s=e.border||{},o=e.background||"",r=kL.fromRect(new Re([t.x1,t.y1],[t.width(),t.height()]),{stroke:{}}),a=new jne(i.text,new R(n.x1,n.y1),{font:e.font,fill:{color:e.color}}),l=NL(a.bbox().clone(),e.padding),c=kL.fromRect(l,{stroke:{color:s.width?s.color:"",width:s.width,opacity:s.opacity,dashType:s.dashType,lineJoin:"round",lineCap:"round"},fill:{color:o}}),u=new Hne;return u.append(r),u.append(c),u.append(a),u}function OL(i,e,t){const n=N(i.from)?i.from:Vt,s=N(i.to)?i.to:Tt;return i.from=Math.max(Math.min(s,n),e),i.to=Math.min(Math.max(s,n),t),i}function LL(i,e){const t=qe(e);return t.left=-t.left,t.top=-t.top,t.right=-t.right,t.bottom=-t.bottom,NL(i,t)}const{Path:$ne,Surface:Gne}=ft;class FL extends q{constructor(e,t,n,s={}){super(),this.element=e,this.theme=n,this.contextService=new KC(this,s),this._originalOptions=w({},this.options,t),this.options=w({},this._originalOptions),this._initTheme(n),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(e){const t=this.pointers[0];if(0===arguments.length)return t.value();t.value(e),this._setValueOptions(e)}_draw(){const e=this.surface;e.clear(),e.draw(this._visuals)}exportVisual(){return this._visuals}allValues(e){const t=this.pointers,n=[];if(0===arguments.length){for(let s=0;s<t.length;s++)n.push(t[s].value());return n}if(fn(e))for(let s=0;s<e.length;s++)Ce(e[s])&&t[s].value(e[s]);this._setValueOptions(e)}_setValueOptions(e){const t=[].concat(this.options.pointer),n=[].concat(e);for(let s=0;s<n.length;s++)t[s].value=n[s]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const e=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(e)}redraw(){const e=this._surfaceSize(),t=new Re([0,0],[e.width,e.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const n=LL(t.bbox(),this._gaugeAreaMargin);this.reflow(n)}setOptions(e,t){this._originalOptions=w(this._originalOptions,e),this.options=w({},this._originalOptions),this._initTheme(t),this.redraw()}setDirection(e){this.contextService.rtl=Boolean(e),this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(e){this.contextService.intl=e}_initTheme(e){let t=e||this.theme||{};this.theme=t,this.options=w({},t,this.options);const n=this.options,s=n.pointer;if(fn(s)){const o=[];for(let r=0;r<s.length;r++)o.push(w({},t.pointer,s[r]));n.pointer=o}}_createGaugeArea(){const e=this.options.gaugeArea,t=this.surface.size(),n=e.border||{};let s=new Re([0,0],[t.width,t.height]);return this._gaugeAreaMargin=e.margin||5,n.width>0&&(s=LL(s,n.width)),$ne.fromRect(s,{stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:e.background}})}_initSurface(){const{options:e,surface:t}=this,n=this._surfaceElement(),s=this._surfaceSize();Uo(n,s),t&&t.options.type===e.renderAs?(this.surface.clear(),this.surface.resize()):(t&&t.destroy(),this.surface=Gne.create(n,{type:e.renderAs}))}_surfaceSize(){const e=this.options,t=this._getSize();return e.gaugeArea&&w(t,e.gaugeArea),t}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const e=this.element,t=this._defaultSize();let n=e.offsetWidth,s=e.offsetHeight;return n||(n=t.width),s||(s=t.height),{width:n,height:s}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(e){this.options.transitions=e;for(let t=0;t<this.pointers.length;t++)this.pointers[t].options.animation.transitions=e}}O(FL,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const VL=FL,{Path:zw,Group:ip}=ft,hy=R;function Wne(i,e){const{position:t,tickX:n,tickY:s}=i;let o,r;return i.vertical?(o=new hy(n,t),r=new hy(n+e.size,t)):(o=new hy(t,s),r=new hy(t,s+e.size)),new zw({stroke:{color:e.color,width:e.width}}).moveTo(o).lineTo(r)}function BL(i,e,t,n){const s=e.length;if(n.visible){const{mirror:o,lineBox:r}=t;for(let a=n.skip;a<s;a+=n.step)a%n.skipUnit!=0&&(t.tickX=o?r.x2:r.x2-n.size,t.tickY=o?r.y1-n.size:r.y1,t.position=e[a],i.append(Wne(t,n)))}}class zL extends ns{constructor(e,t){let n=e||{};!N(n.reverse)&&!1===n.vertical&&(t||{}).rtl&&(n=Object.assign({},n,{reverse:!0})),super(0,1,n,t),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(e){let t=w({},this.options,e);return t=w({},t,{labels:{mirror:t.mirror}}),t.majorUnit=t.majorUnit||bd(t.min,t.max),t}initFields(){}render(){const e=this.elements=new ip,t=this.renderLabels(),n=this.renderLine(),s=this.renderTicks(),o=this.renderRanges();return e.append(n,t,s,o),e}renderRanges(){const e=this.options,{min:t,max:n,vertical:s,labels:{mirror:o}}=e,r=e.ranges||[],a=new ip,l=r.length,c=e.rangeSize||e.minorTicks.size/2;for(let u=0;u<l;u++){const h=OL(r[u],t,n),d=this.getSlot(h.from,h.to),p=s?this.lineBox():d,f=s?d:this.lineBox();s?p.x1-=c*(o?-1:1):f.y2+=c*(o?-1:1),a.append(zw.fromRect(new Re([p.x1,f.y1],[p.x2-p.x1,f.y2-f.y1]),{fill:{color:h.color,opacity:h.opacity},stroke:{}}))}return a}renderLabels(){const{labels:e,options:t}=this,n=new ip;for(let s=0;s<e.length;s++)n.append(RL(e[s],t.labels));return n}renderLine(){const e=this.options.line,t=this.lineBox(),n=new ip;if(e.width>0&&e.visible){const s=new zw({stroke:{color:e.color,dashType:e.dashType,width:e.width}});s.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n.append(s)}return n}renderTicks(){const e=new ip,t=this.options,n=t.majorTicks.visible?t.majorUnit:0,s={vertical:t.vertical,mirror:t.labels.mirror,lineBox:this.lineBox()};return BL(e,this.getMajorTickPositions(),s,t.majorTicks),BL(e,this.getMinorTickPositions(),s,w({},{skipUnit:n/t.minorUnit},t.minorTicks)),e}}O(zL,{min:0,max:50,majorTicks:{size:15,align:ta,color:wt,width:.5,visible:!0},minorTicks:{size:10,align:ta,color:wt,width:.5,visible:!0},line:{width:.5},labels:{position:ta,padding:2},mirror:!1,_alignLines:!1});const qne=zL;class HL extends q{constructor(e,t){super();const{min:n,max:s}=e.options,o=this.options=w({},this.options,t);o.fill=o.color,this.scale=e,o.value=N(o.value)?ee(o.value,n,s):n}value(e){const t=this.options;if(0===arguments.length)return t.value;const{min:s,max:o}=this.scale.options;t._oldValue=N(t._oldValue)?t.value:s,t.value=ee(e,s,o),this.elements&&this.repaint()}}O(HL,{color:wt});const Hw=HL;class jL extends Hw{constructor(e,t){super(e,t),this.options=w({track:{visible:N(t.track)}},this.options)}reflow(){const{options:e,scale:t}=this,{mirror:n,vertical:s}=t.options,o=t.lineBox(),r=e.track.size||e.size,a=e.size/2,l=qe(e.margin);let u,h,d,c=s?l[n?"left":"right"]:l[n?"bottom":"top"];c=n?-c:c,s?(d=new B(o.x1+c,o.y1,o.x1+c,o.y2),n?d.x1-=r:d.x2+=r,e.shape!==np&&(h=new B(o.x2+c,o.y1-a,o.x2+c,o.y2+a),u=h)):(d=new B(o.x1,o.y1-c,o.x2,o.y1-c),n?d.y2+=r:d.y1-=r,e.shape!==np&&(h=new B(o.x1-a,o.y1-c,o.x2+a,o.y1-c),u=h)),this.trackBox=d,this.pointerRangeBox=h,this.box=u||d.clone().pad(e.border.width)}getElementOptions(){const e=this.options;return{fill:{color:e.color,opacity:e.opacity},stroke:N(e.border)?{color:e.border.width?e.border.color||e.color:"",width:e.border.width,dashType:e.border.dashType,opacity:e.opacity}:null}}_margin(){const{scale:e,options:t}=this,{mirror:n,vertical:s}=e.options,o=qe(t.margin);return s?o[n?"left":"right"]:o[n?"bottom":"top"]}}O(jL,{shape:np,track:{border:{width:1}},color:wt,border:{width:1},opacity:1,margin:qe(3),animation:{type:np},visible:!0});const UL=jL;class jw extends Ti{setup(){const e=this.options,{margin:t,from:n,to:s,vertical:o}=e,r=o?"x1":"y1";e.mirror===o?(n[r]-=t,s[r]-=t):(n[r]+=t,s[r]+=t);const a=this.fromScale=new R(n.x1,n.y1),l=this.toScale=new R(s.x1,s.y1);0!==e.duration&&(e.duration=Math.max(a.distanceTo(l)/e.duration*1e3,1))}step(e){const t=Xi(this.fromScale.x,this.toScale.x,e),n=Xi(this.fromScale.y,this.toScale.y,e);this.element.transform(Ue().translate(t,n))}}O(jw,{easing:uy,duration:250}),Ls.current.register(DL,jw);const Kne=jw,vu=R,Yne=ne,Xne=class extends UL{constructor(e,t){super(e,t),N(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:e,options:{size:t}}=this,n=t/2,s=e.options.mirror?-1:1;let o;return o=e.options.vertical?[new vu(0,0-n),new vu(0-s*t,0),new vu(0,0+n)]:[new vu(0-n,0),new vu(0,0+s*t),new vu(0+n,0)],o}repaint(){const{scale:e,options:t}=this,n=new Kne(this.elements,w(t.animation,{vertical:e.options.vertical,mirror:e.options.mirror,margin:this._margin(t.margin),from:e.getSlot(t._oldValue),to:e.getSlot(t.value)}));!1===t.animation.transitions&&(n.options.duration=0),n.setup(),n.play()}render(){const{scale:e,options:t}=this,n=this.getElementOptions(),s=this.pointerShape(t.value);t.animation.type=DL;const o=new Yne({stroke:n.stroke,fill:n.fill}).moveTo(s[0]).lineTo(s[1]).lineTo(s[2]).close(),r=e.getSlot(t.value);return o.transform(Ue().translate(r.x1,r.y1)),this.elements=o,o}};class Uw extends Ti{setup(){const e=this.options,t=this.axis=e.vertical?X:Y,n=this.to=e.newPoints[0][t],s=this.from=e.oldPoints[0][t];0!==e.duration&&(e.duration=Math.max(Math.abs(n-s)/e.speed*1e3,1)),this._set(s)}step(e){const t=Xi(this.from,this.to,e);this._set(t)}_set(e){const t="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][t](e),n[1][t](e)}}O(Uw,{easing:uy,speed:250}),Ls.current.register(np,Uw);const Zne=Uw,{Group:Jne,Path:$L}=ft,tie=class extends UL{constructor(e,t){super(e,t),N(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(e){const{scale:t,options:n}=this,{mirror:s,vertical:o}=t.options,r=s===o?-1:1,a=n.size*r,l=t.getSlot(t.options.min),c=t.getSlot(e),u=o?X:Y,h=o?Y:X,d=this._margin()*r,p=new R;p[u]=l[u+"1"],p[h]=l[h+"1"];const f=new R;f[u]=c[u+"1"],f[h]=c[h+"1"],o?(p.translate(d,0),f.translate(d,0)):(p.translate(0,d),f.translate(0,d));const m=f.clone(),g=p.clone();return o?(m.translate(a,0),g.translate(a,0)):(m.translate(0,a),g.translate(0,a)),[p,f,m,g]}repaint(){const{scale:e,options:t}=this,n=this.pointerShape(t.value),s=this.pointerPath,o=this.pointerShape(t._oldValue);s.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();const r=new Zne(s,w(t.animation,{reverse:e.options.reverse,vertical:e.options.vertical,oldPoints:[o[1],o[2]],newPoints:[n[1],n[2]]}));!1===t.animation.transitions&&(r.options.duration=0),r.setup(),r.play()}render(){const e=new Jne,t=this.getElementOptions();this.options.track.visible&&e.append(this.renderTrack());const n=this.pointerPath=new $L({stroke:t.stroke,fill:t.fill});return e.append(n),this.elements=e,e}renderTrack(){const e=this.options.track,t=e.border||{},n=this.trackBox.clone().pad(t.width||0);return new $L.fromRect(n.toRect(),{fill:{color:e.color,opacity:e.opacity},stroke:{color:t.width?t.color||e.color:"",width:t.width,dashType:t.dashType}})}},sie=st;O(class extends VL{reflow(e){const t=this.pointers,n=e.origin.x,s=e.origin.y,o=new B(n,s,n+e.width(),s+e.height());this.scale.reflow(o),this._shrinkScaleWidth(o);for(let r=0;r<t.length;r++)t[r].reflow();this.bbox=this._getBox(o),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const e=new sie,t=this.scale.render(),n=this.pointers;e.append(this.gaugeArea),e.append(t);for(let s=0;s<n.length;s++){const o=n[s];e.append(o.render()),o.value(o.options.value)}this._visuals=e}_createModel(){const e=this.options,t=this.scale=new qne(e.scale,this.contextService);this.pointers=[];let n=e.pointer;n=fn(n)?n:[n];for(let s=0;s<n.length;s++){const o=w({},n[s],{animation:{transitions:e.transitions}});this.pointers.push(new("arrow"===o.shape?Xne:tie)(t,o))}}_defaultSize(){const e=this.options.scale.vertical;return{width:e?60:200,height:e?200:60}}_getBox(e){const{scale:t,pointers:n}=this,s=e.center();let r,o=n[0].box.clone().wrap(t.box);for(let a=0;a<n.length;a++)o.wrap(n[a].box.clone());return t.options.vertical?(r=o.width()/2,o=new B(s.x-r,e.y1,s.x+r,e.y2)):(r=o.height()/2,o=new B(e.x1,s.y-r,e.x2,s.y+r)),o}_alignElements(){const{scale:e,pointers:t}=this,n=e.box,s=t[0].box.clone().wrap(e.box),o=this.bbox;for(let a=0;a<t.length;a++)s.wrap(t[a].box.clone());let r;e.options.vertical?(r=o.center().x-s.center().x,e.reflow(new B(n.x1+r,o.y1,n.x2+r,o.y2))):(r=o.center().y-s.center().y,e.reflow(new B(n.x1,n.y1+r,n.x2,n.y2+r)));for(let a=0;a<t.length;a++)t[a].reflow(this.bbox)}_shrinkScaleWidth(e){const{scale:t}=this;if(!t.options.vertical){const n=t.contentBox().width()-e.width();n>0&&(t.box.shrink(n,0),t.box.alignTo(e,"center"),t.reflow(t.box))}}_shrinkElements(){const{scale:e,pointers:t}=this,n=e.box.clone(),s=e.options.vertical?"y":"x",o=t[0].box;for(let r=0;r<t.length;r++)o.wrap(t[r].box.clone());n[s+1]+=Math.max(n[s+1]-o[s+1],0),n[s+2]-=Math.max(o[s+2]-n[s+2],0),e.reflow(n);for(let r=0;r<t.length;r++)t[r].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:rie,Path:aie,Group:py}=ft;function GL(i,e,t,n){const s=new py,o=i.center,r=i.getRadiusX();if(n.visible)for(let a=0;a<e.length;a++){const l=i.pointAt(e[a]),c=new R(o.x+r-n.size,o.y).rotate(e[a],o);s.append(new aie({stroke:{color:n.color,width:n.width}}).moveTo(l).lineTo(c))}return s}function $w(i,e,t,n){return{from:i,to:e,color:t,opacity:n}}class WL extends ns{constructor(e,t){super(0,1,e,t)}initUserOptions(e){const t=w({},this.options,e);return t.majorUnit=t.majorUnit||bd(t.min,t.max),t.minorUnit=t.minorUnit||t.majorUnit/10,t}initFields(){}render(e,t){const n=this.renderArc(e,t);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(e){const t=e.center(),n=Math.min(e.height(),e.width())/2;if(!N(this.bbox))return this.render(t,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(e){const{min:t,max:n,reverse:s,startAngle:o,endAngle:r}=this.options,a=r-o;let l;return l=s?r-(e-t)/(n-t)*a:(e-t)/(n-t)*a+o,l+180}hasRanges(){const e=this.options.ranges;return e&&e.length}ticksSize(){const{majorTicks:e,minorTicks:t}=this.options;let n=0;return e.visible&&(n=e.size),t.visible&&(n=Math.max(t.size,n)),n}labelsCount(){let e=super.labelsCount();const t=this.options;return t.endAngle-t.startAngle>=360&&t.max%t.majorUnit==0&&(e-=1),e}renderLabels(){const e=this.options,t=this.arc.clone();let n=t.getRadiusX();const s=this.tickAngles(t,e.majorUnit),o=e.rangeSize=e.rangeSize||.1*n,r=new py;let a=.05*n;N(e.rangeDistance)?a=e.rangeDistance:e.rangeDistance=a;const l=e.labels,c=l.position===ta,u=N(this.labelElements);c&&(n-=this.ticksSize(),this.hasRanges()&&!u&&(n-=o+a),t.setRadiusX(n).setRadiusY(n));const h=this.labels,d=h.length,p=qe(l.padding),f=(p.left+p.right)/2,m=(p.top+p.bottom)/2;for(let g=0;g<d;g++){const v=h[g],x=v.box.width()/2,S=v.box.height()/2,M=s[g],L=(M-180)*ML,K=t.pointAt(M),J=K.x+Math.cos(L)*(x+f)*(c?1:-1),we=K.y+Math.sin(L)*(S+m)*(c?1:-1);v.reflow(new B(J-x,we-S,J+x,we+S));const Qe=new R(v.box.x1,v.box.y1);let Ae;if(u){Ae=this.labelElements.children[g];const Rt=Ae.bbox().origin,zt=Ae.transform()||Ue();zt.translate(Qe.x-Rt.x,Qe.y-Rt.y),Ae.transform(zt)}else Ae=RL(v,e.labels),r.append(Ae);this.bbox=Re.union(this.bbox,Ae.bbox())}return r}repositionRanges(){const e=this.ranges.children;if(e.length>0){const{rangeDistance:t,rangeSize:n}=this.options;let s=this.getRangeRadius();this.options.labels.position===ta&&(s+=n+t);const o=s+n/2;for(let r=0;r<e.length;r++)e[r]._geometry.setRadiusX(o).setRadiusY(o);this.bbox=Re.union(this.bbox,this.ranges.bbox())}}renderRanges(){const e=this.rangeSegments(),t=e.length,n=new py;if(t){const{rangeSize:s,reverse:o,rangeDistance:r}=this.options,a=this.getRangeRadius();this.radius(this.radius()-s-r);for(let l=0;l<t;l++){const c=e[l],u=this.slotAngle(c[o?"to":"from"]),h=this.slotAngle(c[o?"from":"to"]);h-u!=0&&n.append(this.createRange(u,h,a,c))}}return n}createRange(e,t,n,s){const o=this.options.rangeSize,r=new $r(this.arc.center,{radiusX:n+o/2,radiusY:n+o/2,startAngle:e,endAngle:t});return new rie(r,{stroke:{width:o,color:s.color,opacity:s.opacity,lineCap:s.lineCap}})}rangeSegments(){const e=this.options,t=e.ranges||[],n=t.length,s=[];if(n){const{min:o,max:r,rangePlaceholderColor:a}=e;s.push($w(o,r,a));for(let l=0;l<n;l++){const c=OL(t[l],o,r),u=s.length;for(let h=0;h<u;h++){const d=s[h];if(d.from<=c.from&&c.from<=d.to){s.push($w(c.from,c.to,c.color,c.opacity)),d.from<=c.to&&c.to<=d.to&&s.push($w(c.to,d.to,a,c.opacity)),d.to=c.from;break}}}}return s}getRangeRadius(){const{arc:e,options:t}=this,{rangeSize:n,rangeDistance:s,majorTicks:{size:o}}=t;let r;return r=t.labels.position===Bw?e.getRadiusX()-o-s-n:e.getRadiusX()-n,r}renderArc(e,t){const n=this.options;return this.arc=new $r(e,{radiusX:t,radiusY:t,startAngle:n.startAngle+180,endAngle:n.endAngle+180})}renderTicks(){const{arc:e,options:t}=this,n=e.clone();this.majorTickAngles=this.tickAngles(e,t.majorUnit),this.majorTicks=GL(n,this.majorTickAngles,0,t.majorTicks);const s=new py;s.append(this.majorTicks);const o=t.majorTicks.size,r=t.minorTicks.size;if(this._tickDifference=o-r,t.labels.position===Bw){const a=n.getRadiusX();n.setRadiusX(a-o+r).setRadiusY(a-o+r)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(e,t.minorUnit)),this.minorTicks=GL(n,this.minorTickAngles,0,t.minorTicks),s.append(this.minorTicks),s}normalizeTickAngles(e){const t=this.options,n=t.majorUnit/t.minorUnit;for(let s=e.length-1;s>=0;s--)s%n==0&&e.splice(s,1);return e}tickAngles(e,t){const n=this.options,r=e.endAngle-e.startAngle;let a=(n.max-n.min)/t,l=e.startAngle,c=r/a;n.reverse&&(l+=r,c=-c),r>=360&&n.max%t==0&&(a-=1);const u=[];for(let h=0;h<a;h++)u.push(V(l,3)),l+=c;return V(l)<=e.endAngle&&u.push(l),u}radius(e){if(!e)return this.arc.getRadiusX();this.arc.setRadiusX(e).setRadiusY(e),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(e,t,n){const s=n&&this._tickDifference||0;let o=this.arc;const r=o.getRadiusX();n&&this.options.labels.position===Bw&&0!==s&&(o=this.arc.clone(),o.setRadiusX(r-s).setRadiusY(r-s));for(let a=0;a<e.length;a++){const l=o.pointAt(t[a]),c=e[a].segments,u=l.x-c[0].anchor().x,h=l.y-c[0].anchor().y;e[a].transform((new Ue).translate(u,h))}}}O(WL,{min:0,max:100,majorTicks:{size:15,align:ta,color:wt,width:.5,visible:!0},minorTicks:{size:10,align:ta,color:wt,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:ta,padding:2}});const qL=WL;class Gw extends Ti{constructor(e,t){super(e,t);const n=this.options;n.duration=Math.max(Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3,1)}step(e){const t=this.options,n=Xi(t.oldAngle,t.newAngle,e);this.element.transform(Ue().rotate(n,t.center))}}O(Gw,{easing:uy,duration:150}),Ls.current.register(PL,Gw);const lie=Gw,{Circle:uie,Group:hie,Path:die}=ft;class KL extends Hw{setAngle(e){this.elements.transform(Ue().rotate(e,this.center))}repaint(){const{scale:e,options:t}=this,n=e.slotAngle(t._oldValue),s=e.slotAngle(t.value);!1===t.animation.transitions?this.setAngle(s):new lie(this.elements,w(t.animation,{oldAngle:n,newAngle:s})).play()}render(){const{scale:e,options:t}=this,n=new hie;return!1!==t.animation&&w(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(ML),n}reflow(e){const t=this.center=e.center,n=ee(this.options.length||1,.1,1.5),s=this.radius=e.getRadiusX()*n,o=this.capSize=Math.round(s*this.options.cap.size);this.bbox=Re.fromPoints(new R(t.x-o,t.y-o),new R(t.x+o,t.y+o))}_renderNeedle(){const e=this.scale.options.minorTicks.size,t=this.center,n=this.options.color,s=new die({fill:{color:n},stroke:{color:n,width:.5}});return s.moveTo(t.x+this.radius-e,t.y).lineTo(t.x,t.y-this.capSize/2).lineTo(t.x,t.y+this.capSize/2).close(),s}_renderCap(){const e=this.options,t=e.cap.color||e.color,n=new ts(this.center,this.capSize);return new uie(n,{fill:{color:t},stroke:{color:t}})}}O(KL,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:PL,duration:150}});const pie=KL,fie=st;O(class extends VL{reflow(e){const t=this.pointers;this.scale.reflow(e),this._initialPlotArea=this.scale.bbox;for(let n=0;n<t.length;n++)t[n].reflow(this.scale.arc),this._initialPlotArea=Re.union(this._initialPlotArea,t[n].bbox);this.fitScale(e),this.alignScale(e),this._buildVisual(this.gaugeArea,t,this.scale),this._draw()}_buildVisual(e,t,n){const s=this._visuals=new fie;s.append(e),s.append(n.ticks),s.append(n.ranges),this._buildPointers(t),s.append(n.labelElements)}_buildPointers(e){for(let t=0;t<e.length;t++){const n=e[t];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}}fitScale(e){const t=this.scale.arc,s=Math.abs(this.getDiff(this._initialPlotArea,e));let a,l,c,u,h,o=V(s,3),r=V(-s,3),d=0,p=0;for(;p++<100&&(d=h===c?d+1:0,!(d>5||o!==u&&(a=this.getPlotBox(o,e,t),0<=a&&a<=2)||r!==u&&(c=this.getPlotBox(r,e,t),0<=c&&c<=2)||(u=a>0&&c>0?2*o:a<0&&c<0?2*r:V((o+r)/2||1,3),l=this.getPlotBox(u,e,t),0<=l&&l<=2)));)h=c,l>0?(r=u,c=l):(o=u,a=l)}getPlotBox(e,t,n){const s=this.scale,o=this.pointers,r=n.getRadiusX(),a=n.clone();a.setRadiusX(r+e).setRadiusY(r+e),s.arc=a,s.reflow(t),this.plotBbox=s.bbox;for(let l=0;l<o.length;l++)o[l].reflow(a),this.plotBbox=Re.union(this.plotBbox,o[l].bbox);return this.getDiff(this.plotBbox,t)}getDiff(e,t){return Math.min(t.width()-e.width(),t.height()-e.height())}alignScale(e){const t=this.plotBbox.center(),n=e.center(),s=t.x-n.x,o=t.y-n.y,{scale:r,pointers:a}=this;r.arc.center.x-=s,r.arc.center.y-=o,r.reflow(e);for(let l=0;l<a.length;l++)a[l].reflow(r.arc),this.plotBbox=Re.union(r.bbox,a[l].bbox)}_createModel(){const e=this.options,t=e.pointer,n=this.scale=new qL(e.scale,this.contextService);this.pointers=[];const s=fn(t)?t:[t];for(let o=0;o<s.length;o++){const r=new pie(n,w({},s[o],{animation:{transitions:e.transitions}}));this.pointers.push(r)}}},{transitions:!0,gaugeArea:{background:""}}),O(class extends qL{rangeSegments(){const{min:e,max:t,rangePlaceholderColor:n,rangeLineCap:s}=this.options;return[{from:e,to:t,color:n,lineCap:s}]}hasRanges(){return!0}placeholderRangeAngle(e){const t=this.ranges.children[0].geometry();this.options.reverse?t.setEndAngle(e):t.setStartAngle(e)}addRange(e,t,n){const s=this.options.reverse,o=this.slotAngle(s?t:e),r=this.slotAngle(s?e:t),a=this.createRange(o,r,this.getRangeRadius(),n);return this.ranges.append(a),a}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class Ww extends Ti{constructor(e,t){super(e,t);const n=this.options,s=Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3;n.duration=ee(s,150,800);const o=e.elements.options.get("stroke.color"),r=e.currentColor();o!==r&&(this.startColor=new uo(o),this.color=new uo(r))}step(e){const{options:t,startColor:n,color:s}=this,o=Xi(t.oldAngle,t.newAngle,e);if(this.element.angle(o),s){const r=V(Xi(n.r,s.r,e)),a=V(Xi(n.g,s.g,e)),l=V(Xi(n.b,s.b,e));this.element.stroke(new uo(r,a,l).toHex())}}}O(Ww,{easing:uy,duration:150}),Ls.current.register(IL,Ww);const _ie=Ww;O(class extends Hw{repaint(){const{scale:e,options:t}=this,n=e.slotAngle(t._oldValue),s=e.slotAngle(t.value);this.animation&&this.animation.abort(),!1===t.animation.transitions?(this.angle(s),this.stroke(this.currentColor())):(this.animation=new _ie(this,w(t.animation,{oldAngle:n,newAngle:s})),this.animation.play())}angle(e){const t=this.elements.geometry();this.scale.options.reverse?t.setStartAngle(e):t.setEndAngle(e),this.scale.placeholderRangeAngle(e)}stroke(e){this.elements.stroke(e)}render(){if(this.elements)return;const{scale:e,options:t}=this;!1!==t.animation&&w(t.animation,{startAngle:0,center:e.arc.center,reverse:e.options.reverse}),this.elements=e.addRange(e.options.min,this.options.value,{color:this.currentColor(),opacity:t.opacity,lineCap:e.options.rangeLineCap})}currentColor(){const{min:e,max:t}=this.scale.options,{colors:n,color:s,value:o}=this.options,r=Ce(o)?o:e;if(n)for(let a=0;a<n.length;a++){const{color:l,from:c=e,to:u=t}=n[a];if(c<=r&&r<=u)return l}return s}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:IL,duration:150}});class dl extends q{constructor(e){super(),this.setOptions(e),this.initProperties()}initProperties(){}setOptions(e){this.options=Object.assign({},this.options,e),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(e,t,n){const s=N(e)?String(e):e;return this.initValue(s,t,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(e){throw new Error(`Character "${e}" is not valid for symbology ${this.name}.`)}}O(dl,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const bie=Object.assign;class QL extends dl{initProperties(){super.initProperties(),bie(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(e,t){this.pattern=[],this.value=e,this.width=t,this.totalUnits=0}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const e=this.value;let t=e.length;const n=this.getWeightedSum(e,t,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),t++,t>=this.kCheckSumMinLength){let s=(n+this.getWeightedSum(e,t,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=s,this.addPattern(this.characterMap[s])}}getWeightedSum(e,t,n){let s=0;for(let o=0;o<e.length;o++)s+=this.weightedValue(this.getValue(e.charAt(o)),t,o,n);return s}weightedValue(e,t,n,s){return((t-n)%s||s)*e}getValue(e){return isNaN(e)?(e!==this.DASH&&this.invalidCharacterError(e),this.DASH_VALUE):parseInt(e,10)}addCharacter(e){const t=this.getValue(e);this.addPattern(this.characterMap[t])}addPattern(e){let t;for(let n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t),this.totalUnits+=t}}O(QL,{addCheckSum:!0});const XL=Object.assign;class ZL extends dl{initProperties(){super.initProperties(),XL(this,{minBaseUnitLength:.7})}addData(){const e=this.value;this.addStart();for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addBase(t)}addBase(){}}class qw extends ZL{initProperties(){super.initProperties(),XL(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(e,t,n){this.width=t,this.height=n,this.value=e,this.dataLength=e.length,this.pattern=[],this.patternString=""}prepareValues(){const e=this.minBaseUnitLength,t=this.minRatio,n=Math.ceil(Math.max(.15*this.width,24));let s,o=this.maxRatio;if(this.height<n)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${n}px.`);for(s=this.getBaseUnit(o);s<e&&o>t;)o=parseFloat((o-.1).toFixed(1)),s=this.getBaseUnit(o);if(s<e){let r=Math.ceil(this.getBaseWidth(t)*e);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${r}px.`)}this.ratio=o,this.baseUnit=s,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,o).split(this.splitCharacter))}getBaseUnit(e){return this.width/this.getBaseWidth(e)}getBaseWidth(e){return this.quietZoneLength+3*(e+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(e){this.addPattern(e.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(e){for(let t=0;t<e.length;t++)this.patternString+=this.patternMappings[e.charAt(t)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}O(qw,{addCheckSum:!1});const JL={addCharacter(i){this.characterMap[i]?this.addBase(this.characterMap[i]):i.charCodeAt(0)>127?this.invalidCharacterError(i):this.addExtended(i.charCodeAt(0))},addExtended(i){let e;for(let t=0;t<this.extendedMappings.length;t++)if(e=this.extendedMappings[t].call(this,i),e){for(let n=0;n<e.length;n++)this.addBase(e[n]);return void(this.dataLength+=e.length-1)}},extendedMappings:[function(i){if(97<=i&&i<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(i-32)]]},function(i){if(33<=i&&i<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(i+32)]]},function(i){if(1<=i&&i<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(i+64)]]},function(i){let e,t;if(this.specialAsciiCodes[i]){e=[];for(let n=0;n<this.specialAsciiCodes[i].length;n++)e.push(this.characterMap[this.shiftCharacters[3]]),e.push(this.characterMap[this.specialAsciiCodes[i][n]])}else t=6*Math.floor(i/32)+(i-27)%32+64,e=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(t)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},wie=Object.assign;class eF extends ZL{initProperties(){super.initProperties(),wie(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(e,t,n){this.value=e,this.width=t,this.height=n,this.pattern=[],this.values=[],this.dataLength=e.length}prepareValues(){let e=Math.ceil(Math.max(.15*this.width,24));if(this.height<e)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${e}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const t=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${t}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(e){this.addPattern(e.pattern),this.values.push(e.value)}pushCheckSum(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let n=0;n<e.length;n++)t=this.characterMap[this._findCharacterByValue(e[n])],this.addPattern(t.pattern)}_getCheckValues(){const e=this.values,t=e.length;let s,o,r,n=0;for(r=t-1;r>=0;r--)n+=this.weightedValue(e[r],t-r,this.cCheckSumTotal);for(s=n%this.checkSumMod,n=this.weightedValue(s,1,this.kCheckSumTotal),r=t-1;r>=0;r--)n+=this.weightedValue(e[r],t-r+1,this.kCheckSumTotal);return o=n%this.checkSumMod,[s,o]}_findCharacterByValue(e){for(let t in this.characterMap)if(this.characterMap[t].value===e)return t}weightedValue(e,t,n){return(t%n||n)*e}addPattern(e){let t;for(let n=0;n<e.length;n++)t=parseInt(e.charAt(n),10),this.pattern.push(t)}}const Sie=/^\d+$/,Die=Object.assign,Kw=/^\d+$/,Aie=/^[a-z0-9]+$/i,Hs=Object.assign;class fy extends q{constructor(e){super(),this.encoding=e,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class tF extends fy{constructor(e,t){super(e),this.states=t,this._initMoves(t)}initProperties(){super.initProperties(),w(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let n=e.charCodeAt(t);return this.isCode(n)}move(e){let t=0;for(;!this._moves[t].call(this,e)&&t<this._moves.length;)t++}pushState(e){let o,n=e.value,s=n.length;if(Se("C",this.states)){let r=n.substr(e.index).match(/\d{4,}/g);r&&(s=n.indexOf(r[0],e.index))}for(;(o=e.value.charCodeAt(e.index))>=0&&this.isCode(o)&&e.index<s;)this.encoding.addPattern(this.getValue(o)),e.index++}_initMoves(e){this._moves=[],Se(this.FNC4,e)&&this._moves.push(this._moveFNC),Se(this.shiftKey,e)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(e){if(e.fnc)return e.fnc=!1,e.previousState===this.key}_shiftState(e){if(e.previousState===this.shiftKey&&(e.index+1>=e.value.length||this.encoding[this.shiftKey].is(e.value,e.index+1)))return this.encoding.addPattern(this.SHIFT),e.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const xu={};xu.A=class extends tF{initProperties(){super.initProperties(),Hs(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(e){return 0<=e&&e<96}getValue(e){return e<32?e+64:e-32}},xu.B=class extends tF{initProperties(){super.initProperties(),Hs(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(e){return 32<=e&&e<128}getValue(e){return e-32}},xu.C=class extends fy{initProperties(){super.initProperties(),Hs(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(e,t){let n=Yw(e,t,4);return(t+4<=e.length||2===e.length)&&Kw.test(n)}move(){this.encoding.addPattern(this.MOVE)}pushState(e){let t;for(;(t=Yw(e.value,e.index,2))&&Kw.test(t)&&2===t.length;)this.encoding.addPattern(parseInt(t,10)),e.index+=2}getValue(e){return e}},xu.FNC4=class extends fy{constructor(e,t){super(e),this._initSubStates(t)}initProperties(){super.initProperties(),Hs(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(e){let t=e.value.charCodeAt(0)-128,n=this._getSubState(t);this.encoding[n].addStart()}is(e,t){let n=e.charCodeAt(t);return this.isCode(n)}isCode(e){return 128<=e&&e<256}pushState(e){let o,t=this._initSubState(e),n=this.encoding,s=t.value.length;if(e.index+=s,s<3)for(;t.index<s;t.index++)o=t.value.charCodeAt(t.index),t.state=this._getSubState(o),t.previousState!==t.state&&(t.previousState=t.state,n[t.state].move(t)),n.addPattern(n[t.state].MOVE),n.addPattern(n[t.state].getValue(o));else t.state!==t.previousState&&n[t.state].move(t),this._pushStart(t),n.pushData(t,this.subStates),e.index<e.value.length&&this._pushStart(t);e.fnc=!0,e.state=t.state}_pushStart(e){this.encoding.addPattern(this.encoding[e.state].MOVE),this.encoding.addPattern(this.encoding[e.state].MOVE)}_initSubState(e){const t={value:this._getAll(e.value,e.index),index:0};return t.state=this._getSubState(t.value.charCodeAt(0)),t.previousState=e.previousState===this.key?t.state:e.previousState,t}_initSubStates(e){this.subStates=[];for(let t=0;t<e.length;t++)Se(e[t],this.dependentStates)&&this.subStates.push(e[t])}_getSubState(e){for(let t=0;t<this.subStates.length;t++)if(this.encoding[this.subStates[t]].isCode(e))return this.subStates[t]}_getAll(e,t){let n,s="",o=t;for(;(n=e.charCodeAt(o++))&&this.isCode(n);)s+=String.fromCharCode(n-128);return s}},xu.FNC1=class extends fy{constructor(e,t){super(e),this.states=t}initProperties(){super.initProperties(),Hs(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return Se(this.key,this.states)}pushState(e){let a,l,c,t=this.encoding,n=e.value.replace(/\s/g,""),s=new RegExp("["+this.startAI+this.endAI+"]","g"),o=e.index,r={state:this.startState};for(t.addPattern(this.START);;){if(r.index=0,c=n.charAt(o)===this.startAI?2:0,a=c>0?this.getBySeparator(n,o):this.getByLength(n,o),a.ai.length)l=o+c+a.id.length+a.ai.length;else if(l=n.indexOf(this.startAI,o+1),l<0){if(o+a.ai.max+a.id.length+c<n.length)throw new Error("Separators are required after variable length identifiers");l=n.length}if(r.value=n.substring(o,l).replace(s,""),this.validate(a,r.value),t.pushData(r,this.dependentStates),l>=n.length)break;o=l,r.state!==this.startState&&(t[this.startState].move(r),r.state=this.startState),a.ai.length||t.addPattern(this.START)}e.index=e.value.length}validate(e,t){let n=t.substr(e.id.length),s=e.ai;if(!s.type&&!Kw.test(n))throw new Error("Application identifier "+e.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===s.type&&!Aie.test(n))throw new Error("Application identifier "+e.id+" is alphanumeric only but contains non alphanumeric character(s).");if(s.length&&s.length!==n.length)throw new Error("Application identifier "+e.id+" must be "+s.length+" characters long.");if(s.min&&s.min>n.length)throw new Error("Application identifier "+e.id+" must be at least "+s.min+" characters long.");if(s.max&&s.max<n.length)throw new Error("Application identifier "+e.id+" must be at most "+s.max+" characters long.")}getByLength(e,t){let n,s;for(let o=2;o<=4;o++)if(n=Yw(e,t,o),s=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)),s)return{id:n,ai:s};this.unsupportedAIError(n)}unsupportedAIError(e){throw new Error("'"+e+"' is not a supported Application Identifier")}getBySeparator(e,t){let n=e.indexOf(this.startAI,t),s=e.indexOf(this.endAI,n),o=e.substring(n+1,s),r=this.getApplicationIdentifier(o)||this.getApplicationIdentifier(o.substr(o.length-1));return r||this.unsupportedAIError(o),{ai:r,id:o}}getApplicationIdentifier(e){let t=this.applicationIdentifiers,n=t.multiKey;if(t[e])return t[e];for(let s=0;s<n.length;s++){if(n[s].ids&&Se(e,n[s].ids))return n[s].type;if(n[s].ranges){let o=n[s].ranges;for(let r=0;r<o.length;r++)if(o[r][0]<=e&&e<=o[r][1])return n[s].type}}}};class sp extends dl{constructor(e){super(e),this._initStates()}initProperties(){super.initProperties(),Hs(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let e=0;e<this.states.length;e++)this[this.states[e]]=new xu[this.states[e]](this,this.states)}initValue(e,t,n){this.pattern=[],this.value=e,this.width=t,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let e={value:this.value,index:0,state:""};0!==this.value.length&&(e.state=e.previousState=this.getNextState(e,this.states),this.addStart(e),this.pushData(e,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(e,t){for(;this[e.state].pushState(e),!(e.index>=e.value.length);)if(e.shifted){let s=e.state;e.state=e.previousState,e.previousState=s,e.shifted=!1}else e.previousState=e.state,e.state=this.getNextState(e,t),this[e.state].move(e)}addStart(e){this[e.state].addStart(e),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(e){const t=this.characterMap[e].toString();let n;for(let s=0;s<t.length;s++)n=parseInt(t.charAt(s),10),this.pattern.push(n),this.totalUnits+=n;this.checkSum+=e*this.position++}getNextState(e,t){for(let n=0;n<t.length;n++)if(this[t[n]].is(e.value,e.index))return t[n];this.invalidCharacterError(e.value.charAt(e.index))}}function Yw(i,e,t){return i.substring(e,e+t)}const op=Object.assign;class my extends dl{initProperties(){super.initProperties(),op(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:Vie})}initValue(e,t){this.pattern=[],this.value=e,this.checkSumLength=0,this.width=t}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(e){const t=this.characterMap[e];t||this.invalidCharacterError(e),this.addPattern(t)}addPattern(e){for(let t=0;t<e.length;t++)this.pattern.push(parseInt(e.charAt(t),10))}addCheckSum(){const t=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=t.join("");for(let n=0;n<t.length;n++)this.checkSumLength++,this.addPattern(this.characterMap[t[n]])}}const Vie={Modulo10(i){let n,s,o,e=[0,""],t=i.length%2;for(n=0;n<i.length;n++)e[(n+t)%2]+=parseInt(i.charAt(n),10);for(o=e[0],s=(2*e[1]).toString(),n=0;n<s.length;n++)o+=parseInt(s.charAt(n),10);return[(10-o%10)%10]},Modulo11(i){let s,o,e=0,n=i.length;for(let r=0;r<n;r++)s=((n-r)%6||6)+1,e+=s*i.charAt(r);return o=(11-e%11)%11,10!==o?[o]:[1,0]},Modulo11Modulo10(i){let t,e=this.Modulo11(i);return t=i+e[0],e.concat(this.Modulo10(t))},Modulo10Modulo10(i){let t,e=this.Modulo10(i);return t=i+e[0],e.concat(this.Modulo10(t))}},Bie=Object.assign;class nF extends dl{initProperties(){super.initProperties(),Bie(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(e,t,n){const s=String(e);if(12!==s.length||/\D/.test(s))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=t/(95+this.quietZoneLength),this.value=s,this.checksum=this.calculateChecksum(),this.leftKey=s[0],this.leftPart=s.substr(1,6),this.rightPart=s.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(e,t){for(let n=0;n<e.length;n++)t&&parseInt(this.keyTable[t].charAt(n),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[e.charAt(n)]).reverse(),!0):this.addPieces(this.characterMap.digits[e.charAt(n)],!0)}addPieces(e,t){for(let n=0;n<e.length;n++)this.pattern.push(t?{y1:0,y2:.95*this.options.height,width:e[n]}:e[n])}calculateChecksum(){let e=0,t=0,n=this.value.split("").reverse().join("");for(let o=0;o<n.length;o++)o%2?t+=parseInt(n.charAt(o),10):e+=parseInt(n.charAt(o),10);return(10-(3*e+t)%10)%10}}const zie=Object.assign,iF={code11:QL,code39:qw,code39extended:class extends qw{initProperties(){super.initProperties(),w(this,JL,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:eF,code93extended:class extends eF{initProperties(){super.initProperties(),w(this,JL,{name:"Code 93 extended",pushCheckSum:function(){const e=this._getCheckValues();let t;this.checksum=e.join("");for(let n=0;n<e.length;n++)if(t=e[n],this.shiftValuesAsciiCodes[t])this.addExtended(this.shiftValuesAsciiCodes[t]);else{const s=this._findCharacterByValue(t);this.addPattern(this.characterMap[s].pattern)}}})}},code128:class extends sp{initProperties(){super.initProperties(),Hs(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class extends sp{initProperties(){super.initProperties(),Hs(this,{name:"Code 128 A",states:["A"]})}},code128b:class extends sp{initProperties(){super.initProperties(),Hs(this,{name:"Code 128 B",states:["B"]})}},code128c:class extends sp{initProperties(){super.initProperties(),Hs(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class extends sp{initProperties(){super.initProperties(),Hs(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class extends my{initProperties(){super.initProperties(),op(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class extends my{initProperties(){super.initProperties(),op(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class extends my{initProperties(){super.initProperties(),op(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class extends my{initProperties(){super.initProperties(),op(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class extends dl{initProperties(){super.initProperties(),Die(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(e,t,n){this.height=n,this.width=t,this.baseHeight=n/2,this.value=e.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const e=this.value;this.addPattern(this.START);for(let t=0;t<e.length;t++)this.addCharacter(e.charAt(t));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(e){const t=this.characterMap[e];this.checkSum+=parseInt(e,10),this.addPattern(t)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(e){if(Sie.test(e)||this.invalidCharacterError(e.match(/[^0-9]/)[0]),!Se(e.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(e){let t;for(let n=0;n<e.length;n++)t=this.height-this.baseHeight*e.charAt(n),this.pattern.push({width:1,y1:t,y2:this.height}),this.pattern.push(1)}},ean8:class extends nF{initProperties(){super.initProperties(),zie(this,{name:"EAN 8"})}initValue(e,t,n){if(7!==e.length||/\D/.test(e))throw new Error("Invalid value provided");this.value=e,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=t/(67+this.quietZoneLength)}},ean13:nF};function sF(i,e){const t=i.style.display;"canvas"===e&&(i.style.display="block");const n={width:i.clientWidth,height:i.clientHeight};return i.style.display=t,n}O(class extends q{constructor(e,t,n=Ak){super(),this.options=w({},this.options,t),this.element=e,this.onError=n,this._initElement(),this._initSurface(),this._setOptions(t),t&&N(t.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Hn(this.element,"k-barcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Zd.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(e){this._setOptions(e),this._initSurface(),this.redraw()}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e.width,height:e.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const e=this.options,t=e.value,n=e.text,s=qe(n.margin),o=this._getSize(),r=e.border||{},a=this.encoding,l=new B(0,0,o.width,o.height).unpad(r.width).unpad(e.padding);let u,h,d,c=l.height();const p=new st;this.contentBox=l,p.append(this._getBackground(o)),n.visible&&(d=Ym(t,{font:n.font}).height,c-=d+s.top+s.bottom);try{u=a.encode(t,l.width(),c)}catch(f){return this.onError(f),p}return n.visible&&(h=t,e.checksum&&N(a.checksum)&&(h+=" "+a.checksum),p.append(this._getText(h))),this.barHeight=c,this._bandsGroup=this._getBands(u.pattern,u.baseUnit),p.append(this._bandsGroup),p}exportVisual(){return this._render()}_getSize(){const t=sF(this.element,this.options.renderAs),n=new Ja(300,100);return t.width>0&&(n.width=t.width),t.height>0&&(n.height=t.height),this.options.width&&(n.width=this.options.width),this.options.height&&(n.height=this.options.height),n}value(e){if(!N(e))return this.options.value;this.options.value=String(e),this.redraw()}_getBands(e,t){const n=this.contentBox;let o,r,s=n.x1;const a=new st;for(let l=0;l<e.length;l++){if(r=ks(e[l])?e[l]:{width:e[l],y1:0,y2:this.barHeight},o=r.width*t,l%2){const c=Re.fromPoints(new R(s,r.y1+n.y1),new R(s+o,r.y2+n.y1)),u=ne.fromRect(c,{fill:{color:this.options.color},stroke:null});a.append(u)}s+=o}return a}_getBackground(e){const t=this.options,n=t.border||{},s=new B(0,0,e.width,e.height).unpad(n.width/2);return ne.fromRect(s.toRect(),{fill:{color:t.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})}_getText(e){const t=this.options.text,n=this._textbox=new Si(e,{font:t.font,color:t.color,align:"center",vAlign:"bottom",margin:t.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual}_setOptions(e){if(this.type=(e.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",e.value="0"+e.value),"upce"===this.type&&(this.type="ean8",e.value="0"+e.value),!iF[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new iF[this.type],this.options=w({},this.options,e)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const bu=Object.assign;function oF(i,e){let t=[],n=0;for(;n<i.length;)t.push(i.substring(n,n+e)),n+=e;return t}function oi(i,e){let t=Number(i).toString(2);return t.length<e&&(t=new Array(e-t.length+1).join(0)+t),t}function gy(i){return parseInt(i,2)}class qie extends q{constructor(e){super(),this.matrix=e,this.row=e.length-1,this.column=e.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class rF extends q{constructor(e,t){super(),this.dataString=e,this.version=t}}class Kie extends q{getEncodingResult(e,t){let n=function(i){let t,e=[],n=0,s=i;for(e.push(pF(s,8,5,8,t)),t=e[0].mode,s=s.substr(e[0].modeString.length);s.length>0;){let o=pF(s,17,9,16,t);o.mode!==t?(t=o.mode,e.push(o),n++):e[n].modeString+=o.modeString,s=s.substr(o.modeString.length)}return e}(e),o=fF(function(i){let t,e=0;for(let n=0;n<i.length;n++)t=Xw[i[n].mode],e+=t.getStringBitsLength(i[n].modeString.length);return Math.ceil(e/8)}(n),t),r=function(i,e){let n,t="";for(let s=0;s<i.length;s++)n=Xw[i[s].mode],t+=n.encode(i[s].modeString,e);return t}(n,o);return new rF(r,o)}}class Qw extends q{constructor(){super(),this.initProperties()}initProperties(){bu(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(e){return e<10?0:e>26?2:1}getBitsCharacterCount(e){return this.bitsInCharacterCount[this.getVersionIndex(e||40)]}getModeCountString(e,t){return this.modeIndicator+oi(e,this.getBitsCharacterCount(t))}encode(){}getStringBitsLength(){}getValue(){}}let Xw={numeric:new class extends Qw{initProperties(){super.initProperties(),bu(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(e){return parseInt(e,10)}encode(e,t){let r,s=oF(e,3),o=this.getModeCountString(e.length,t);for(r=0;r<s.length-1;r++)o+=oi(s[r],10);return o+oi(s[r],1+3*s[r].length)}getStringBitsLength(e,t){let n=e%3;return 4+this.getBitsCharacterCount(t)+10*Math.floor(e/3)+3*n+(0===n?0:1)}},alphanumeric:new class extends Qw{initProperties(){super.initProperties(),bu(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(e){return this.characters[e]}encode(e,t){let o,r,n=oF(e,2),s=this.getModeCountString(e.length,t);for(r=0;r<n.length-1;r++)o=45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)),s+=oi(o,11);return o=2===n[r].length?45*this.getValue(n[r].charAt(0))+this.getValue(n[r].charAt(1)):this.getValue(n[r].charAt(0)),s+oi(o,1+5*n[r].length)}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+11*Math.floor(e/2)+e%2*6}},byte:new class extends Qw{initProperties(){super.initProperties(),bu(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(e){let t=e.charCodeAt(0);if(t<=127||160<=t&&t<=255)return t;throw new Error(`Unsupported character in QR Code: "${e}".`)}encode(e,t){let n=this,s=n.getModeCountString(e.length,t);for(let o=0;o<e.length;o++)s+=oi(n.getValue(e.charAt(o)),8);return s}getStringBitsLength(e,t){return 4+this.getBitsCharacterCount(t)+8*e}}};class nse extends q{constructor(){super(),this.initProperties(),this.mode=Xw[this.encodingMode]}initProperties(){bu(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(e,t){let n=this.encode(e),o=fF(this.getDataCodewordsCount(n),t),r=this.mode.getModeCountString(n.length/8,o)+n;return new rF(r,o)}getDataCodewordsCount(e){return Math.ceil((this.initialModeCountStringLength+e.length)/8)}encode(e){let t=this.utfBOM;for(let n=0;n<e.length;n++)t+=this.encodeCharacter(e.charCodeAt(n));return t}encodeCharacter(e){let t=this.getBytesCount(e),n=t-1,s="";if(1===t)s=oi(e,8);else{let o=8-t;for(let r=0;r<n;r++)s=oi(e>>6*r&63|128,8)+s;s=(e>>6*n|255>>o<<o).toString(2)+s}return s}getBytesCount(e){let t=this.ranges;for(let n=0;n<t.length;n++)if(e<t[n])return n+1}}const rp=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let lF="alphanumeric",Zw={1:0},na={0:1},ose={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},Jw=[1,0,1,1,1],rse=[1,0,1],ase={L:"01",M:"00",Q:"11",H:"10"},hse=["11101100","00010001"],eT=[(i,e)=>(i+e)%2==0,(i,e)=>i%2==0,(i,e)=>e%3==0,(i,e)=>(i+e)%3==0,(i,e)=>(Math.floor(i/2)+Math.floor(e/3))%2==0,(i,e)=>i*e%2+i*e%3==0,(i,e)=>(i*e%2+i*e%3)%2==0,(i,e)=>((i+e)%2+i*e%3)%2==0],pse=/^\d+/,cF="A-Z0-9 $%*+./:-",mse=new RegExp("^[A-Z $%*+./:-]+"),uF=new RegExp("^["+cF+"]+"),hF=new RegExp("^[^"+cF+"]+");const tT=[[1,0],[1,25,0]];function $n(i,e,t,n){for(let s=0;s<i.length;s++)i[s][t][n]=e}function dF(i,e,t,n){for(let s=0;s<eT.length;s++)i[s][t][n]=eT[s](t,n)?1^e:parseInt(e,10)}function Sse(i,e){let t=[];for(let s=i.length-2;s>=0;s--)t[s]=i[s]^e[s];return t}function Dse(i,e){let t=[];for(let n=0;n<i.length;n++)for(let s=0;s<e.length;s++)t[n+s]=void 0===t[n+s]?(i[n]+(e[s]>=0?e[s]:0))%255:Zw[na[t[n+s]]^na[(i[n]+e[s])%255]];return t}function Ase(i,e){let t=[],n=i.length-1;do{t[n]=na[(i[n]+e)%255],n--}while(void 0!==i[n]);return t}function Mse(i,e){let a,l,t=tT[e-1],n=new Array(e).concat(i),s=new Array(n.length-t.length).concat(t),o=i.length,r=[];for(l=0;l<o;l++)a=Ase(s,Zw[n[n.length-1]]),s.splice(0,1),n=Sse(a,n);for(l=n.length-1;l>=0;l--)r[e-1-l]=oi(n[l],8);return r}function pF(i,e,t,n,s){let h,d,o=pse.exec(i),r=o?o[0]:"",a=mse.exec(i),l=a?a[0]:"",c=uF.exec(i),u=c?c[0]:"";return r&&(r.length>=e||i.length===r.length||r.length>=t&&!uF.test(i.charAt(r.length)))?(h="numeric",d=r):u&&(i.length===u.length||u.length>=n||s===lF)?(h=lF,d=r||l):(h="byte",d=u?u+hF.exec(i.substring(u.length))[0]:hF.exec(i)[0]),{mode:h,modeString:d}}function fF(i,e){let t=0,n=rp.length-1,s=Math.floor(rp.length/2);do{i<rp[s][e].totalDataCodewords?n=s:t=s,s=t+Math.floor((n-t)/2)}while(n-t>1);return i<=rp[t][e].totalDataCodewords?s+1:n+1}function mF(i,e,t){let n=gy(e),s=e.length-1,o=i<<s,a=oi(i,t-s),l=function(i,e){let t=e.toString(2).length,n=i.toString(2).length,s=i;do{s^=e<<n-t,n=s.toString(2).length}while(n>=t);return s}(o,n);return l=a+oi(l,s),l}function ap(i,e){return parseInt(i.charAt(e),10)}function gF(i,e){let n,s,t=i[0],o=0,r=e.length;for(n=0,s=8;n<=8;n++)6!==n&&$n(i,ap(e,r-1-o++),n,s);for(n=8,s=7;s>=0;s--)6!==s&&$n(i,ap(e,r-1-o++),n,s);for(o=0,s=t.length-1,n=8;s>=t.length-8;s--)$n(i,ap(e,r-1-o++),n,s);for($n(i,1,t.length-8,8),n=t.length-7,s=8;n<t.length;n++)$n(i,ap(e,r-1-o++),n,s)}function yF(i,e){let l,c,u,n=i[0].length,o=n-11,r=n-11;for(let h=0;h<e.length;h++)l=Math.floor(h/3),c=h%3,u=ap(e,e.length-h-1),$n(i,u,0+l,o+c),$n(i,u,r+c,0+l)}function yy(i,e,t,n){let r,s=e.length+2,o=e.length+1;for(let a=0;a<e.length;a++)for(let l=a;l<s-a;l++)r=e[a],$n(i,r,t+l,n+a),$n(i,r,t+a,n+l),$n(i,r,t+o-l,n+o-a),$n(i,r,t+o-a,n+o-l)}function nT(i,e,t,n){let s=t,o=n,r=i[0];do{$n(i,0,s,n),$n(i,0,t,o),s+=e[0],o+=e[1]}while(s>=0&&s<r.length)}function _F(i,e,t,n,s){e[i][n]=(e[i][n]<<1^s)%128,93===e[i][n]&&(t[i]+=40)}function vF(i,e,t,n,s,o){t[i][o]===n?s[i][o]++:(t[i][o]=n,s[i][o]>=5&&(e[i]+=3+s[i][o]-5),s[i][o]=1)}function jse(i,e){let t=Math.floor(i/e*100),n=t%5,s=Math.abs(t-n-50),o=Math.abs(t+5-n-50);return 10*Math.min(s/5,o/5)}(function(){let i,e;for(e=1;e<255;e++)i=2*na[e-1],i>255&&(i^=285),na[e]=i,Zw[i]=e;i=2*na[e-1]^285,na[e]=i,na[-1]=0})(),function(){for(let e=2;e<=68;e++)tT[e]=Dse(tT[e-1],[e,0])}();const lp=Math.round,Gse=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],xF=[[0,1],[1,1],[1,0]];O(class extends q{constructor(e,t,n=Ak){super(),this.options=w({},this.options,t),this.element=e,this.wrapper=this.element,this.onError=n,this._initElement(),this._initSurface(),this.setOptions(t)}destroy(){this._destroySurface()}_initElement(){Hn(this.element,"k-qrcode")}_initSurface(){const{options:e,surface:t}=this;(!t||t.options.type!==e.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Zd.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let e=this._getSize();this.surface.clear(),this.surface.setSize({width:e,height:e}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const e=this.element,t=e.clientWidth,n=e.clientHeight,s={width:0,height:0};return t>0&&(s.width=t),n&&(s.height=n),s}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let t,r,a,l,c,u,e=this._value,n=this.options.border||{},s=this.options.padding||0,o=n.width||0;n.width=o;let h=new st;try{e&&(a=function(i,e,t){let s=function(i){return i&&i.toLowerCase().indexOf("utf_8")>=0?new nse:new Kie}(t).getEncodingResult(i,e),o=s.version,r=rp[o-1][e],l=function(i,e){let o,a,l,c,u,t=0,n=[],s=[],r=e.groups;for(let h=0;h<r.length;h++){l=r[h][0];for(let d=0;d<l;d++){a=r[h][1],o=[],c=[];for(let p=1;p<=a;p++)u=i.substring(t,t+8),o.push(u),c[a-p]=gy(u),t+=8;n.push(o),s.push(Mse(c,e.errorCodewordsPerBlock))}}return[n,s]}(function(i,e){let t=8*e,n=0,s=0,o=i;for(;o.length<t&&n<"0000".length;)o+="0000".charAt(n++);for(o.length%8!=0&&(o+=new Array(9-o.length%8).join("0"));o.length<t;)o+=hse[s],s^=1;return o}(s.dataString,r.totalDataCodewords),r),c=function(i){let e=[],t=17+4*i;for(let n=0;n<eT.length;n++){e[n]=new Array(t);for(let s=0;s<t;s++)e[n][s]=new Array(t)}return e}(o);(function(i){let e=i[0].length;yy(i,Jw,0,0),nT(i,[-1,-1],7,7),yy(i,Jw,e-7,0),nT(i,[1,-1],e-8,7),yy(i,Jw,0,e-7),nT(i,[-1,1],7,e-8)})(c),function(i,e){if(e<2)return;let r,a,t=i[0],n=t.length,s=Math.floor(e/7),o=[6],l=0;for((r=ose[e])?a=(n-13-r)/s:r=a=(n-13)/(s+1),o.push(o[l++]+r);o[l]+a<n;)o.push(o[l++]+a);for(let c=0;c<o.length;c++)for(let u=0;u<o.length;u++)void 0===t[o[c]][o[u]]&&yy(i,rse,o[c]-2,o[u]-2)}(c,o),function(i){let n=1,s=i[0].length;for(let o=8;o<s-8;o++)$n(i,n,6,o),$n(i,n,o,6),n^=1}(c),o>=7&&yF(c,oi(0,18)),gF(c,oi(0,15)),function(i,e){let n,s,o,t=new qie(i[0]);for(let r=0;r<e.length;r++)for(n=e[r],s=0;n.length>0;){for(let a=0;a<n.length;a++)for(let l=0;l<8;l++)o=t.getNextCell(),dF(i,n[a][s].charAt(l),o.row,o.column);for(s++;n[0]&&s===n[0].length;)n.splice(0,1)}for(;o=t.getNextRemainderCell();)dF(i,0,o.row,o.column)}(c,l);let u=function(i){let r,a,e=[],t=[],n=[],s=[],o=[],u=i[0].length;for(a=0;a<i.length;a++)e[a]=0,n[a]=0,o[a]=[0,0],s[a]=[0,0],t[a]=[];for(let f=0;f<u;f++)for(let m=0;m<u;m++)for(let g=0;g<i.length;g++)r=i[g],n[g]+=parseInt(r[f][m],10),t[g][0]===r[f][m]&&f+1<u&&m-1>=0&&r[f+1][m]===t[g][0]&&r[f+1][m-1]===t[g][0]&&(e[g]+=3),_F(g,s,e,0,r[f][m]),_F(g,s,e,1,r[m][f]),vF(g,e,t,r[f][m],o,0),vF(g,e,t,r[m][f],o,1);let d,h=u*u,p=Number.MAX_VALUE;for(a=0;a<e.length;a++)e[a]+=jse(n[a],h),e[a]<p&&(p=e[a],d=a);return d}(c),h=c[u];return o>=7&&yF([h],function(i){return mF(i,"1111100100101",18)}(o)),gF([h],function(i){let t,n="";if(0===gy(i))return"101010000010010";t=mF(gy(i),"10100110111",15);for(let s=0;s<t.length;s++)n+=t.charAt(s)^"101010000010010".charAt(s);return n}(ase[e]+oi(u,3))),h}(e,this.options.errorCorrection,this.options.encoding),l=this._getSize(),u=l-2*(o+s),t=this._calculateBaseUnit(u,a.length),c=a.length*t,r=o+s+(u-c)/2,h.append(this._renderBackground(l,n)),h.append(this._renderMatrix(a,t,r)),this._hasCustomLogo()?h.append(this._renderLogo(l,t)):this._isSwiss()&&h.append(this._renderSwissCode(l,t)))}catch(d){this.onError(d)}return h}_renderLogo(e,t){let n,s,o=lp(e/2),r=this._getLogoSize(7*t),a=this.options.overlay.imageUrl,l={x:o-r.width/2,y:o-r.height/2};return s=new Re(new R(l.x,l.y),new Ja(r.width,r.height)),n=new _L(a,s),n}_renderSwissCode(e,t){let n=this._getLogoSize(7*t);n=Math.max(n.width,n.height);let s=n/4,o=s/2,r=e/2,a={},l=new st;return a.x=a.y=Math.ceil(r-t-n/2),l.append(this._renderShape(a,Math.ceil(n+2*t),xF,"#fff")),a.x=a.y=r-n/2,l.append(this._renderShape(a,n,xF,this.options.color)),a.x=r+o-n/2,a.y=r+o+s-n/2,l.append(this._renderShape(a,s,Gse,"#fff")),l}_renderShape(e,t,n,s){let o=new po({fill:{color:s},stroke:null});o.moveTo(e.x,e.y);for(let r=0;r<n.length;r++)o.lineTo(e.x+t*n[r][0],e.y+t*n[r][1]);return o.close(),o}_getSize(){let e;if(this.options.size)e=parseInt(this.options.size,10);else{const n=sF(this.element,this.options.renderAs),s=Math.min(n.width,n.height);e=s>0?s:200}return e}_calculateBaseUnit(e,t){let n=Math.floor(e/t);if(n<1){const s=Math.ceil(1*t);this.onError(new Error(`Insufficient size for QR Code: the current size is ${e}px and the minimum size is ${s}px.`))}else n*t>=e&&n-1>=1&&n--;return n}_renderMatrix(e,t,n){let s=new po({fill:{color:this.options.color},stroke:null});for(let o=0;o<e.length;o++){let r=n+o*t,a=0;for(;a<e.length;){for(;0===e[o][a]&&a<e.length;)a++;if(a<e.length){let l=a;for(;1===e[o][a];)a++;let c=lp(n+l*t),u=lp(r),h=lp(n+a*t),d=lp(r+t);s.moveTo(c,u).lineTo(c,d).lineTo(h,d).lineTo(h,u).close()}}}return s}_renderBackground(e,t){const n=new B(0,0,e,e).unpad(t.width/2);return ne.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:t.color,width:t.width}})}setOptions(e){this.options=bu(this.options,e||{}),void 0!==e.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(e){if(void 0===e)return this._value;this._value=String(e),this.redraw()}_hasCustomLogo(){return Boolean(this.options.overlay.imageUrl)}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(e){let t=this.options.overlay.width,n=this.options.overlay.height;return t||n?t&&!n?n=t:!t&&n&&(t=n):t=n=e,{width:t,height:n}}},{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const iT={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function vo(i){return i*i}let ia=Math,Kse=ia.abs,bF=ia.atan,_y=ia.atan2,sa=ia.cos,lr=ia.sin,CF=ia.tan;class ot extends q{constructor(e,t){super(),this.initProperties(),1===arguments.length?(this.lat=e[0],this.lng=e[1]):(this.lat=e,this.lng=t)}initProperties(){w(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(e){return e&&e.lat===this.lat&&e.lng===this.lng}clone(){return new ot(this.lat,this.lng)}round(e){return this.lng=V(this.lng,e),this.lat=V(this.lat,e),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(e,t){return this.greatCircleTo(e,t).distance}destination(e,t,n){let s=Bt(t),o=n||iT.WGS84,r=Bt(this.lat),a=Bt(this.lng),l=e/o.a,c=ia.asin(lr(r)*sa(l)+sa(r)*lr(l)*sa(s)),u=a+_y(lr(s)*lr(l)*sa(r),sa(l)-lr(r)*lr(c));return new ot(zr(c),zr(u))}greatCircleTo(e,t){let n=ot.create(n),s=t||iT.WGS84;if(!n||this.clone().round(8).equals(n.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let g,S,M,L,K,J,we,Qe,o=s.a,r=s.b,a=s.f,l=Bt(n.lng-this.lng),c=bF((1-a)*CF(Bt(this.lat))),u=lr(c),h=sa(c),d=bF((1-a)*CF(Bt(n.lat))),p=lr(d),f=sa(d),m=l,v=this.DISTANCE_ITERATIONS,x=!1;for(;!x&&v-- >0;){S=lr(m),M=sa(m),L=ia.sqrt(vo(f*S)+vo(h*p-u*f*M)),J=u*p+h*f*M,Qe=_y(L,J);let j=h*f*S/L;K=1-vo(j),we=0,0!==K&&(we=J-2*u*p/K),g=m;let Z=a/16*K*(4+a*(4-3*K));m=l+(1-Z)*a*j*(Qe+Z*L*(we+Z*J*(2*vo(we)-1))),x=Kse(m-g)<=this.DISTANCE_CONVERGENCE}let Ae=K*(vo(o)-vo(r))/vo(r),Rt=1+Ae/16384*(4096+Ae*(Ae*(320-175*Ae)-768)),zt=Ae/1024*(256+Ae*(Ae*(74-47*Ae)-128)),_n=zt*L*(we+zt/4*(J*(2*vo(we)-1)-zt/6*we*(4*vo(L)-3)*(4*vo(we)-3))),$s=_y(f*S,h*p-u*f*M),Co=_y(h*S,-u*f+h*p*M);return{distance:V(r*Rt*(Qe-_n),this.DISTANCE_PRECISION),azimuthFrom:zr($s),azimuthTo:zr(Co)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(e){return new ot(e[1],e[0])}static fromLatLng(e){return new ot(e[0],e[1])}static create(e,t){if(N(e))return e instanceof ot?e.clone():1===arguments.length&&2===e.length?ot.fromLatLng(e):new ot(e,t)}}let oa=Math,sT=oa.atan,wF=oa.exp,TF=oa.pow,SF=oa.sin,DF=oa.log,EF=oa.tan,AF=R,vy=oa.PI,oT=vy/2,MF=vy/4,Yse=vy/180,Qse=iT.WGS84;class rT extends q{constructor(e){super(),this.initProperties(),this._initOptions(e)}_initOptions(e){this.options=w({},this.options,e)}initProperties(){w(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(e,t){let n=this,s=n.options,r=s.datum.a,a=s.centralMeridian,l=ee(e.lat,-n.MAX_LAT,n.MAX_LAT),c=t?ee(e.lng,-n.MAX_LNG,n.MAX_LNG):e.lng,u=Bt(c-a)*r,h=n._projectLat(l);return new AF(u,h)}_projectLat(e){let t=this.options.datum,n=t.e,s=t.a,o=Bt(e),r=EF(MF+o/2),a=n*SF(o),l=TF((1-a)/(1+a),n/2);return s*DF(r*l)}inverse(e,t){let n=this,s=n.options,l=e.x/(Yse*s.datum.a)+s.centralMeridian,c=ee(n._inverseY(e.y),-n.MAX_LAT,n.MAX_LAT);return t&&(l=ee(l,-n.MAX_LNG,n.MAX_LNG)),new ot(c,l)}_inverseY(e){let c,t=this,n=t.options.datum,o=n.e,r=o/2,a=wF(-e/n.a),l=oT-2*sT(a);for(c=0;c<=t.INVERSE_ITERATIONS;c++){let u=o*SF(l),h=TF((1-u)/(1+u),r),d=oT-2*sT(a*h)-l;if(l+=d,oa.abs(d)<=t.INVERSE_CONVERGENCE)break}return zr(l)}}O(rT,{centralMeridian:0,datum:Qse});class Xse extends rT{initProperties(){super.initProperties(),w(this,{MAX_LAT:85.0511287798})}_projectLat(e){let t=this.options.datum.a,n=Bt(e),s=EF(MF+n/2);return t*DF(s)}_inverseY(e){let n=wF(-e/this.options.datum.a);return zr(oT-2*sT(n))}}class Jse extends q{constructor(){super();let t=this._proj=new Xse,n=this.c=2*vy*t.options.datum.a;this._tm=Ue().translate(.5,.5).scale(1/n,-1/n),this._itm=Ue().scale(n,-n).translate(-.5,-.5)}toPoint(e,t,n){return this._proj.forward(e,n).transform(this._tm).scale(t||1)}toLocation(e,t,n){let s=e.clone().scale(1/(t||1)).transform(this._itm);return this._proj.inverse(s,n)}}const PF=Object.defineProperty;let Cu=i=>{const e=document.createElement("div");return e.innerHTML=i,e.firstChild},cp=i=>{for(;i.firstChild;)i.removeChild(i.firstChild)},IF=(i,e)=>{e.insertBefore(i,e.firstChild)},NF=i=>i.replace(/([a-z][A-Z])/g,function(t){return t.charAt(0)+"-"+t.charAt(1).toLowerCase()}),kF=i=>{let e;return e=i&&String(i).endsWith("px")?i:String(i)+"px",e};const RF=i=>{let t,e=!1,n=[],s={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},o={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},r={tablet:/playbook|ipad|fire/i},a={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let l in s)if(s.hasOwnProperty(l)&&(n=i.match(s[l]),n)){if("windows"===l&&"plugins"in navigator)return!1;e={},e.device=l,e.tablet=aT(l,r,!1),e.browser=aT(i,a,"default"),e.name=aT(l,o),e[e.name]=!0,e.majorVersion=n[2],e.minorVersion=(n[3]||"0").replace("_","."),t=e.minorVersion.replace(".","").substr(0,2),e.flatVersion=e.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0");break}return e};function aT(i,e,t){for(let n in e)if(e.hasOwnProperty(n)&&e[n].test(i))return n;return void 0!==t?t:i}let lT=()=>{let i={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const e=pl();return e.touch&&(e.mobileOS.ios||e.mobileOS.android)?i={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:e.pointers?i={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:e.msPointers&&(i={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),i};const pl=()=>{const i=RF(navigator.userAgent),e=(i=>{let e=!1,t=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let s in n)if(n.hasOwnProperty(s)&&(t=i.match(n[s]),t)){e={},e[s]=!0,e[t[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||t[2],10);break}return e})(navigator.userAgent);let t=e.chrome,n=e.crios,s=e.mozilla,o=e.safari;const r={};r.mobileOS=i,r.touch="ontouchstart"in window,r.pointers=!t&&!n&&!s&&!o&&window.PointerEvent,r.msPointers=!t&&window.MSPointerEvent,r.mouseAndTouchPresent=r.touch&&!(r.mobileOS.ios||r.mobileOS.android),r.eventCapture=document.documentElement.addEventListener;let a=document.createElement("table"),l=r.transitions=!1,c=r.transforms=!1;const u="string";return["Moz","webkit","O","ms"].forEach(function(h){let d=typeof a.style[h+"Transition"]===u;if(d||typeof a.style[h+"Transform"]===u){let p=h.toLowerCase();return c={css:"ms"!==p?"-"+p+"-":"",prefix:h,event:"o"===p||"webkit"===p?p:""},d&&(l=c,l.event=l.event?l.event+"TransitionEnd":"transitionend"),!1}}),a=null,r.transforms=c,r.transitions=l,r.delayedClick=function(){if(r.touch){if(r.mobileOS.ios)return!0;if(r.mobileOS.android){if(!r.browser.chrome)return!0;if(r.browser.version<32)return!1;const h=document.querySelector("meta[name=viewport]");return!(h?h.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},r},nt=(i,e)=>i.bind(e),Gn=(i,e,t,n,s)=>{aoe(i,e,t,n,s)},aoe=(i,e,t,n,s)=>{(fn(e)?e:(e||"").split(" ")).forEach(function(r){loe(i,r,t,n,s)})},loe=(i,e,t,n,s)=>{let r,o=n;t&&ht(t)&&!n?o=t:t&&function(i){return"string"==typeof i}(t)&&ht(o)&&(r=t),i.addEventListener(e,function(a){const l=a.target?a.target.closest(r):null;(!r||r&&a.target&&l)&&(PF(a,"currentTarget",{value:r?l:a.currentTarget}),PF(a,"delegateTarget",{value:i}),o(a))},Boolean(s))},ri=(i,e,t,n,s)=>{coe(i,e,t,n,s)},coe=(i,e,t,n)=>{(fn(e)?e:(e||"").split(" ")).forEach(function(o){uoe(i,o,t,n)})},uoe=(i,e,t,n)=>{i.removeEventListener(e,t,Boolean(n))},ss=i=>{const e=lT(navigator);return i.replace(/([^ ]+)/g,function(o){return e[o]||o})},xy=(i,e)=>{const t=i.prototype;t.events?e.forEach(n=>{t.events.indexOf(n)<0&&t.events.push(n)}):t.events=e},cr=()=>Number(new Date),OF=()=>{},FF="function";let doe=function(){this._defaultPrevented=!0},poe=function(){return!0===this._defaultPrevented};class js extends q{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(e,t,n){let o,a,l,c,h,s=this,r="string"==typeof e?[e]:e||[],u=typeof t===FF;if(void 0===t){for(o in e)s.bind(o,e[o]);return s}for(o=0,a=r.length;o<a;o++){let d=r[o];c=u?t:t[d],c&&(n&&(l=c,c=function(){s.unbind(d,c),l.apply(s,arguments)},c.original=l),h=s._events[d]=s._events[d]||[],h.push(c))}return s}one(e,t){return this.bind(e,t,!0)}first(e,t){let s,r,a,c,n=this,o="string"==typeof e?[e]:e,l=typeof t===FF;for(s=0,r=o.length;s<r;s++){let u=o[s];a=l?t:t[u],a&&(c=n._events[u]=n._events[u]||[],c.unshift(a))}return n}trigger(e,t){let o,r,n=this,s=n._events[e];if(s){let a=t||{};for(a.sender=n,a._defaultPrevented=!1,a.preventDefault=doe,a.isDefaultPrevented=poe,s=s.slice(),o=0,r=s.length;o<r;o++)s[o].call(n,a);return!0===a._defaultPrevented}return!1}unbind(e,t){let o,n=this,s=n._events[e];if(void 0===e)n._events={};else if(s)if(t)for(o=s.length-1;o>=0;o--)(s[o]===t||s[o].original===t)&&s.splice(o,1);else n._events[e]=[];return n}_setEvents(e){const t=(this.events||[]).length;for(let n=0;n<t;n++){let s=this.events[n];this.options[s]&&e[s]&&(this.unbind(s,this.options[s]),this._events&&this._events[s]&&delete this._events[s])}this.bind(this.events,e)}}class VF extends js{constructor(e,t){super(),this.element=e,this._initOptions(t),this.items=[],Hn(this.element,"k-widget k-attribution")}_initOptions(e){this.options=w({},this.options,e)}filter(e,t){this._extent=e,this._zoom=t,this._render()}add(e){let t=e;N(e)&&("string"==typeof e&&(t={text:e}),this.items.push(t),this._render())}remove(e){let t=[];for(let n=0;n<this.items.length;n++){let s=this.items[n];s.text!==e&&t.push(s)}this.items=t,this._render()}clear(){this.items=[],cp(this.element)}_render(){let e=[];for(let t=0;t<this.items.length;t++){let s=this._itemText(this.items[t]);""!==s&&e.push(s)}e.length>0?(cp(this.element),((i,e)=>{const t=document.createElement("div");for(t.innerHTML=i;t.childNodes.length>0;)e.appendChild(t.childNodes[0])})(e.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(e){let t="",n=this._inZoomLevel(e.minZoom,e.maxZoom),s=this._inArea(e.extent);return n&&s&&(t+=e.text),t}_inZoomLevel(e,t){let n=!0,s=de(e,-Number.MAX_VALUE),o=de(t,Number.MAX_VALUE);return n=this._zoom>s&&this._zoom<o,n}_inArea(e){let t=!0;return e&&(t=e.contains(this._extent)),t}}O(VF,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const zF={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function by(i){return Cu('<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+zF[i].className+'" aria-label="move '+i+'"><span class="k-icon '+zF[i].iconClass+'" /></button>')}class cT extends js{constructor(e,t){super(),this.element=e,this._initOptions(t);const n=by("up"),s=by("right"),o=by("down"),r=by("left");this.element.appendChild(n),this.element.appendChild(s),this.element.appendChild(o),this.element.appendChild(r),Hn(this.element,"k-widget k-navigator"),Gn(this.element,"click",".k-button",nt(this._click,this));let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=nt(this._keydown,this),Gn(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){ri(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let n=this.element,s="tabindex",o=t.getAttribute(s)||n.getAttribute(s);n.removeAttribute(s),t.setAttribute(s,isNaN(o)?0:o)}_initOptions(e){this.options=w({},this.options,e)}_pan(e,t){let n=this.options.panStep;this.trigger("pan",{x:e*n,y:t*n})}_click(e){let t=0,n=0,s=e.currentTarget;s.matches(".k-navigator-n")?n=1:s.matches(".k-navigator-s")?n=-1:s.matches(".k-navigator-e")?t=1:s.matches(".k-navigator-w")&&(t=-1),this._pan(t,n),e.preventDefault()}_keydown(e){switch(e.which){case 38:this._pan(0,1),e.preventDefault();break;case 40:this._pan(0,-1),e.preventDefault();break;case 39:this._pan(1,0),e.preventDefault();break;case 37:this._pan(-1,0),e.preventDefault()}}}function HF(i,e){return Cu('<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+i+'" title="zoom-'+i+'" aria-label="zoom-'+i+'"><span class="k-icon '+e+'"></span></button>')}O(cT,{name:"Navigator",panStep:1}),xy(cT,["pan"]);class uT extends js{constructor(e,t){super(),this.element=e,this._initOptions(t);const n=HF("in","k-i-plus"),s=HF("out","k-i-minus");this.element.appendChild(n),this.element.appendChild(s),Hn(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),Gn(this.element,"click",".k-button",this._clickHandler);let o=this.element.parentNode.closest("[data-role]");this._keyroot=o||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),Gn(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&ri(this.element,"click",this._clickHandler),this._keyroot&&ri(this._keyroot,"keydown",this._keydownHandler)}_tabindex(e){const t=e||this.wrapper||this.element;let n=this.element,s="tabindex",o=t.getAttribute(s)||n.getAttribute(s);n.removeAttribute(s),t.setAttribute(s,isNaN(o)?0:o)}_initOptions(e){this.options=w({},this.options,e)}_change(e){this.trigger("change",{delta:e*this.options.zoomStep})}_click(e){let n=1;pd(e.currentTarget,"k-zoom-out")&&(n=-1),this._change(n),e.preventDefault()}_keydown(e){switch(e.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}O(uT,{name:"ZoomControl",zoomStep:1}),xy(uT,["change"]);let UF=Math,$F=UF.max,GF=UF.min;class ur extends q{constructor(e,t){super();let n=ot.create(e),s=ot.create(t);n.lng+180>s.lng+180&&n.lat+90<s.lat+90?(this.se=n,this.nw=s):(this.se=s,this.nw=n)}contains(e){let t=this.nw,n=this.se,s=de(e.lng,e[1]),o=de(e.lat,e[0]);return e&&s+180>=t.lng+180&&s+180<=n.lng+180&&o+90>=n.lat+90&&o+90<=t.lat+90}center(){let e=this.nw,t=this.se;return new ot(e.lat+(t.lat-e.lat)/2,e.lng+(t.lng-e.lng)/2)}containsAny(e){let t=!1;for(let n=0;n<e.length;n++)t=t||this.contains(e[n]);return t}include(e){let t=this.nw,n=this.se,s=de(e.lng,e[1]),o=de(e.lat,e[0]);t.lng=GF(t.lng,s),t.lat=$F(t.lat,o),n.lng=$F(n.lng,s),n.lat=GF(n.lat,o)}includeAll(e){for(let t=0;t<e.length;t++)this.include(e[t])}edges(){let e=this.nw,t=this.se;return{nw:this.nw,ne:new ot(e.lat,t.lng),se:this.se,sw:new ot(t.lat,e.lng)}}toArray(){let e=this.nw,t=this.se;return[e,new ot(e.lat,t.lng),t,new ot(t.lat,e.lng)]}overlaps(e){return this.containsAny(e.toArray())||e.containsAny(this.toArray())}static create(e,t){return e instanceof ur?e:e&&t?new ur(e,t):e&&4===e.length&&!t?new ur([e[0],e[1]],[e[2],e[3]]):void 0}static get World(){return new ur([90,-180],[-90,180])}}const WF="centerChange";class qF extends q{constructor(e,t){super(),this.widgetService=e,this.options=w({},this.options,t),this.offset={x:0,y:0}}show(e,t){this.location!==t.location&&(this.anchor=e,this.location=t.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},t)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(e){const t=this.widgetService.widget._toDocumentCoordinates({x:e.left-this.offset.x,y:e.top-this.offset.y});this._anchor={left:t.left,top:t.top}}destroy(){this.widgetService=null}}O(qF,{border:{width:1},opacity:1});class hT extends q{constructor(e,t){super(),this.support=pl(),this._initOptions(t),this.map=e;let n=document.createElement("div");Hn(n,"k-layer"),n.style.zIndex=this.options.zIndex,n.style.opacity=this.options.opacity,this.element=n,e.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(e){this.options=w({},this.options,e)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let e=this.options,t=this.map.zoom(),n=!N(e.minZoom)||t>=e.minZoom,s=!N(e.maxZoom)||t<=e.maxZoom,o=ur.create(e.extent),r=!o||o.overlaps(this.map.extent());this._setVisibility(n&&s&&r)}_setVisibility(e){this.element.style.display=e?"":"none"}_activate(){let e=this.map;this._deactivate(),e.bind("beforeReset",this._beforeReset),e.bind("reset",this._reset),e.bind("resize",this._resize),e.bind("panEnd",this._panEnd)}_deactivate(){let e=this.map;e.unbind("beforeReset",this._beforeReset),e.unbind("reset",this._reset),e.unbind("resize",this._resize),e.unbind("panEnd",this._panEnd)}_updateAttribution(){const e=this.map.attribution;e&&e.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let ra=Math,dT=R;function KF(i){return ht(i)?i:tk.compile(i)}function Coe(i){return new dT(V(i.x),V(i.y))}function YF(i){let e=i;return"string"!=typeof i&&(e+="px"),e}class QF extends hT{constructor(e,t){super(e,t),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let n=this._viewType();this._view=new n(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let e=this.map,t=e.locationToLayer(e.extent().nw).round();this._view.viewOrigin(t)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return woe}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=tw(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let e=this._view,t=this.map,n=t.extent(),s={nw:t.locationToLayer(n.nw).round(),se:t.locationToLayer(n.se).round()};e.center(t.locationToLayer(t.center())),e.extent(s),e.zoom(t.zoom())}_resize(){this._render()}_panEnd(e){super._panEnd(e),this._render()}_render(){this._updateView(),this._view.render()}}O(QF,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class woe extends q{constructor(e,t){super(),this.element=e,this._initOptions(t),this.pool=new ZF}_initOptions(e){this.options=w({},this.options,e)}center(e){this._center=e}extent(e){this._extent=e}viewOrigin(e){this._viewOrigin=e}zoom(e){this._zoom=e}pointToTileIndex(e){return new dT(ra.floor(e.x/this.options.tileSize),ra.floor(e.y/this.options.tileSize))}tileCount(){let e=this.size(),t=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,s=this.indexToPoint(t).translate(-n.x,-n.y);return{x:ra.ceil((ra.abs(s.x)+e.width)/this.options.tileSize),y:ra.ceil((ra.abs(s.y)+e.height)/this.options.tileSize)}}size(){let e=this._extent.nw,n=this._extent.se.clone().translate(-e.x,-e.y);return{width:n.x,height:n.y}}indexToPoint(e){return new dT(e.x*this.options.tileSize,e.y*this.options.tileSize)}subdomainText(){let e=this.options.subdomains;return e[this.subdomainIndex++%e.length]}destroy(){cp(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let n,s,o,e=this.tileCount(),t=this.pointToTileIndex(this._extent.nw);for(s=0;s<e.x;s++)for(o=0;o<e.y;o++)n=this.createTile({x:t.x+s,y:t.y+o}),n.visible||n.show()}createTile(e){let t=this.tileOptions(e),n=this.pool.get(this._center,t);return n.element.parentNode||this.element.append(n.element),n}tileOptions(e){let t=this.wrapIndex(e),n=this.indexToPoint(e),s=this._viewOrigin,o=n.clone().translate(-s.x,-s.y);return{index:t,currentIndex:e,point:n,offset:Coe(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(e){let t=ra.pow(2,this._zoom);return{x:this.wrapValue(e.x,t),y:ee(e.y,0,t-1)}}wrapValue(e,t){let n=ra.abs(e)%t,s=e;return s=e>=0?n:t-(0===n?t:n),s}}class XF extends q{constructor(e,t){super(),this.id=e,this.visible=!0,this._initOptions(t),this.createElement(),this.show()}destroy(){const e=this.element,t=e?e.parentNode:null;e&&(t&&t.removeChild(e),this.element=null)}_initOptions(e){this.options=w({},this.options,e)}createElement(){let e=document.createElement("img");const t=this.options.size+"px";e.style.position="absolute",e.style.display="block",e.style.width=e.style.maxWidth=t,e.style.height=e.style.maxHeight=t,this.element=e}show(){let e=this.element;e.style.top=YF(this.options.offset.y),e.style.left=YF(this.options.offset.x);let t=this.url();t&&e.setAttribute("src",t),e.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return KF(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return KF(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let e=this.options;return{zoom:e.zoom,subdomain:e.subdomain,z:e.zoom,x:e.index.x,y:e.index.y,s:e.subdomain,quadkey:e.quadkey,q:e.quadkey,culture:e.culture,c:e.culture}}}O(XF,{urlTemplate:"",errorUrlTemplate:""});class ZF extends q{constructor(){super(),this._items=[]}get(e,t){return this._items.length>=this.options.maxSize&&this._remove(e),this._create(t)}empty(){let e=this._items;for(let t=0;t<e.length;t++)e[t].destroy();this._items=[]}reset(){let e=this._items;for(let t=0;t<e.length;t++)e[t].hide()}_create(e){let n,t=this._items,s=aQ(e.point.toString()+e.offset.toString()+e.zoom+e.urlTemplate);for(let o=0;o<t.length;o++)if(t[o].id===s){n=t[o];break}return n?n.show():(n=new XF(s,e),this._items.push(n)),n}_remove(e){let t=this._items,n=-1,s=-1;for(let o=0;o<t.length;o++){let r=t[o].options.point.distanceTo(e);r>n&&!t[o].visible&&(s=o,n=r)}-1!==s&&(t[s].destroy(),t.splice(s,1))}}O(ZF,{maxSize:100});const fl=Object.assign,up="change";class Toe extends js{constructor(e,t){super();let n=this,s=e[0]||e;n.capture=!1;const o=lT(navigator);s.addEventListener?(o.down.split(" ").forEach(function(r){s.addEventListener(r,nt(n._press,n),!0)}),o.up.split(" ").forEach(function(r){s.addEventListener(r,nt(n._release,n),!0)})):(o.down.split(" ").forEach(function(r){s.attachEvent(r,nt(n._press,n))}),o.up.split(" ").forEach(function(r){s.attachEvent(r,nt(n._release,n))})),n.bind(["press","release"],t||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(e){this.trigger("press"),this.capture&&e.preventDefault()}_release(e){let t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}class JF extends js{constructor(e){super();let t=this;t.forcedEnabled=!1,fl(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")}makeVirtual(){fl(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())}outOfBounds(e){return e>this.max||e<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(e){this.scale=e}update(e){let t=this,n=t.virtual?t._virtualMax:t.getTotal(),s=n*t.scale,o=t.getSize();0===n&&!t.forcedEnabled||(t.max=t.virtual?-t._virtualMin:0,t.size=o,t.total=s,t.min=Math.min(t.max,o-s),t.minScale=o/n,t.centerOffset=(s-o)/2,t.enabled=t.forcedEnabled||s>o,e||t.trigger(up,t))}}class Soe extends js{constructor(e){super();let t=this;t.x=new JF(fl({horizontal:!0},e)),t.y=new JF(fl({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(up,e)}rescale(e){this.x.rescale(e),this.y.rescale(e),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(up)}}class eV extends js{constructor(e){super(),fl(this,e)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(e){let t=this,n=t.dimension,s=t.axis,o=t.movable,r=o[s]+e;if(!n.enabled)return;let a=e;(r<n.min&&e<0||r>n.max&&e>0)&&(a*=t.resistance),o.translateAxis(s,a),t.trigger(up,t)}}class Doe extends q{constructor(e){super();let n,s,o,r,t=this;fl(t,{elastic:!0},e),o=t.elastic?.5:0,r=t.movable,t.x=n=new eV({axis:"x",dimension:t.dimensions.x,resistance:o,movable:r}),t.y=s=new eV({axis:"y",dimension:t.dimensions.y,resistance:o,movable:r}),t.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(a){t.gesture=a,t.offset=Xc(t.dimensions.container)},press(a){const l=a.event.target.closest("a");l&&l.matches("[data-navigate-on-press=true]")&&a.sender.cancel()},gesturechange(a){let f,l=t.gesture,c=l.center,u=a.center,h=a.distance/l.distance,p=t.dimensions.maxScale;r.scale<=t.dimensions.minScale&&h<1&&(h+=.8*(1-h)),r.scale*h>=p&&(h=p/r.scale);let m=r.x+t.offset.left,g=r.y+t.offset.top;f={x:(m-c.x)*h+u.x-m,y:(g-c.y)*h+u.y-g},r.scaleWith(h),n.dragMove(f.x),s.dragMove(f.y),t.dimensions.rescale(r.scale),t.gesture=a,a.preventDefault()},move(a){a.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||s.dimension.enabled?(n.dragMove(a.x.delta),s.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end(a){a.preventDefault()}})}}let tV=function(i,e,t){return"translate3d("+i+"px,"+e+"px,0) scale("+t+")"};class pT extends js{constructor(e){super();let t=this;t.support=pl(),this.transformStyle=this.support.transitions.prefix+"Transform",t.element=e,t.element.style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1;const n=tV(t.x,t.y,t.scale);t.element.style[this.transformStyle]=n,t._saveCoordinates(n)}translateAxis(e,t){this[e]+=t,this.refresh()}scaleTo(e){this.scale=e,this.refresh()}scaleWith(e){this.scale*=e,this.refresh()}translate(e){this.x+=e.x,this.y+=e.y,this.refresh()}moveAxis(e,t){this[e]=t,this.refresh()}moveTo(e){fl(this,e),this.refresh()}refresh(){let s,e=this,t=e.x,n=e.y;e.round&&(t=Math.round(t),n=Math.round(n)),s=tV(t,n,e.scale),s!==e.coordinates&&(e.element.style[this.transformStyle]=s,e._saveCoordinates(s),e.trigger(up))}_saveCoordinates(e){this.coordinates=e}}const fT=st;class mT extends hT{constructor(e,t){super(e,t),this._pan=nt(this._pan,this),this.surface=Zd.create(this.element,{width:e.scrollElement.clientWidth,height:e.scrollElement.clientHeight}),this._initRoot(),this.movable=new pT(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new fT,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const e=super._readData();return"FeatureCollection"===e.type?e.features:"GeometryCollection"===e.type?e.geometries:e}_load(e){this._data=e,this._clearMarkers(),this._loader||(this._loader=new Eoe(this.map,this.options.style,this));let t=new fT;for(let n=0;n<e.length;n++){let s=this._loader.parse(e[n]);s&&t.append(s)}this._root.clear(),this._root.append(t)}shapeCreated(e){let t=!1;return e instanceof Wo&&this.map.options.renderPointsAsMarkers&&(t=N(this._createMarker(e))),t||(t=this.map.trigger("shapeCreated",{layer:this,shape:e})),t}featureCreated(e){e.layer=this,this.map.trigger("shapeFeatureCreated",e)}_createMarker(e){let t=this.map.markers.bind({location:e.location},e.dataItem);return t&&this._markers.push(t),t}_clearMarkers(){for(let e=0;e<this._markers.length;e++)this.map.markers.remove(this._markers[e]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(e){super._panEnd(e),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let e=this.map,t=e.locationToView(e.extent().nw);this.surface.translate&&(this.surface.translate(t),this.movable.moveTo({x:t.x,y:t.y}))}_eventArgs(e){return{layer:this,layerIndex:this._layerIndex(),shape:e.element,shapeIndex:(this._data||[]).indexOf(e.element.dataItem),originalEvent:e.originalEvent}}_handler(e){return t=>{t.element&&this.map.trigger(e,this._eventArgs(t))}}_mouseenter(e){if(!e.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(e));const t=e.element,n=this._tooltipAnchor(e);this.map._tooltip.show(n,this._tooltipContext(t))}_tooltipContext(e){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:e.dataItem,location:e.location}}_tooltipAnchor(e){const t=this.map.eventOffset(e.originalEvent);return{top:t.y,left:t.x}}_activate(){super._activate(),this._panHandler=nt(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}O(mT,{autoBind:!0,zIndex:100});class Eoe extends q{constructor(e,t,n){super(),this.observer=n,this.locator=e,this.style=t}parse(e){let t=new fT,n=!0;return"Feature"===e.type?(n=!1,this._loadGeometryTo(t,e.geometry,e),this._featureCreated(t,e)):this._loadGeometryTo(t,e,e),n&&t.children.length<2&&(t=t.children[0]),t}_shapeCreated(e){let t=!1;return this.observer&&this.observer.shapeCreated&&(t=this.observer.shapeCreated(e)),t}_featureCreated(e,t){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:e,dataItem:t,properties:t.properties})}_loadGeometryTo(e,t,n){let o,r,s=t.coordinates;switch(t.type){case"LineString":r=this._loadPolygon(e,[s],n),this._setLineFill(r);break;case"MultiLineString":for(o=0;o<s.length;o++)r=this._loadPolygon(e,[s[o]],n),this._setLineFill(r);break;case"Polygon":this._loadPolygon(e,s,n);break;case"MultiPolygon":for(o=0;o<s.length;o++)this._loadPolygon(e,s[o],n);break;case"Point":this._loadPoint(e,s,n);break;case"MultiPoint":for(o=0;o<s.length;o++)this._loadPoint(e,s[o],n)}}_setLineFill(e){let t=e.segments;(t.length<4||!t[0].anchor().equals(St(t).anchor()))&&(e.options.fill=null)}_loadShape(e,t){return this._shapeCreated(t)||e.append(t),t}_loadPolygon(e,t,n){let s=this._buildPolygon(t);return s.dataItem=n,s.location=this.locator.viewToLocation(s.bbox().center()),this._loadShape(e,s)}_buildPolygon(e){let n=new(e.length>1?po:ne)(this.style);for(let s=0;s<e.length;s++)for(let o=0;o<e[s].length;o++){let r=this.locator.locationToView(ot.fromLngLat(e[s][o]));0===o?n.moveTo(r.x,r.y):n.lineTo(r.x,r.y)}return n}_loadPoint(e,t,n){let s=ot.fromLngLat(t),o=this.locator.locationToView(s),r=new ts(o,10),a=new Wo(r,this.style);return a.dataItem=n,a.location=s,this._loadShape(e,a)}}class nV extends mT{_readData(){return this.options.data||[]}_load(e){if(this._data=e,this.surface.clear(),0===e.length)return;let t=this.options,n=jo(t.valueField),s=e.slice(0);s.sort(function(l,c){return n(c)-n(l)});let r,o=this._scaleType(),a=jo(this.options.locationField);for(let l=0;l<s.length;l++){let c=s[l],u=a(c),h=n(c);if(N(u)&&N(h)){r||(r=new o([0,h],[t.minSize,t.maxSize])),u=ot.create(u);let d=this.map.locationToView(u),p=r.map(h),f=this._createSymbol({center:d,size:p,style:t.style,dataItem:c,location:u});f.dataItem=c,f.location=u,f.value=h,this._drawSymbol(f)}}}_scaleType(){let e=this.options.scale;return ht(e)?e:Moe[e]}_createSymbol(e){let t=this.options.symbol;return ht(t)||(t=Poe[t]),t(e)}_drawSymbol(e){this.map.trigger("shapeCreated",{layer:this,shape:e})||this.surface.draw(e)}_tooltipContext(e){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:e.dataItem,location:e.location,value:e.value}}_tooltipAnchor(e){const n=e.element.bbox().center();return{top:n.y,left:n.x}}}O(nV,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let Moe={sqrt:class extends q{constructor(e,t){super(),this._domain=e,this._range=t;let n=Math.sqrt(e[1])-Math.sqrt(e[0]);this._ratio=(t[1]-t[0])/n}map(e){let t=(Math.sqrt(e)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+t}}},Poe={circle:function(i){let e=new ts(i.center,i.size/2);return new Wo(e,i.style)},square:function(i){let e=new ne(i.style),t=i.size/2,n=i.center;return e.moveTo(n.x-t,n.y-t).lineTo(n.x+t,n.y-t).lineTo(n.x+t,n.y+t).lineTo(n.x-t,n.y+t).close(),e}};const sV="mouseenter",oV="mouseleave",Ioe=Object.assign,gT=".k-marker";class yT extends hT{constructor(e,t){super(e,t),this._markerClickHandler=nt(this._markerClick,this),Gn(this.element,"click",gT,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),ri(this.element,"click",this._markerClickHandler),this.clear()}add(e){if(!fn(e))return this._addOne(e);for(let t=0;t<e.length;t++)this._addOne(e[t])}remove(e){e.destroy();let t=(this.items||[]).indexOf(e);t>-1&&this.items.splice(t,1)}clear(){for(let e=0;e<this.items.length;e++)this.items[e].destroy();this.items=[]}update(e){let t=e.location();t&&(e.showAt(this.map.locationToView(t)),this.map.trigger("markerActivate",{marker:e,layer:this}))}_reset(){super._reset();let e=this.items;for(let t=0;t<e.length;t++)this.update(e[t])}bind(e,t){let n=hp.create(e,this.options);if(n.dataItem=t,!this.map.trigger("markerCreated",{marker:n,layer:this}))return this.add(n),n}_addOne(e){let t=hp.create(e,this.options);return t.addTo(this),t}_readData(){return this.options.data||[]}_load(e){this._data=e,this.clear();let t=jo(this.options.locationField),n=jo(this.options.titleField);for(let s=0;s<e.length;s++){let o=e[s];this.bind({location:t(o),title:n(o)},o)}}_markerClick(e){const t=e.target._kendoNode;let n={layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t),originalEvent:e};this.map.trigger("markerClick",n)}_markerMouseEnter(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseEnter",t)}_markerMouseLeave(e){const t=this._createMarkerEventArgs(e);this.map.trigger("markerMouseLeave",t)}_createMarkerEventArgs(e){const t=e.marker;return Ioe({},{layer:this,layerIndex:this._layerIndex(),marker:t,markerIndex:(this.items||[]).indexOf(t)},e)}}O(yT,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title"});class hp extends q{constructor(e){super(),this.options=e||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(e){this.layer=e.markers||e,this.layer.items.push(this),this.layer.update(this)}location(e){return e?(this.options.location=ot.create(e).toArray(),this.layer&&this.layer.update(this),this):ot.create(this.options.location)}showAt(e){this.render(),this._anchor={left:Math.round(e.x),top:Math.round(e.y)},this.element.style.left=kF(this._anchor.left),this.element.style.top=kF(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){!this.element||(this._mouseEnterHandler=nt(this._mouseEnter,this),Gn(this.element,sV,gT,this._mouseEnterHandler),this._mouseLeaveHandler=nt(this._mouseLeave,this),Gn(this.element,oV,gT,this._mouseLeaveHandler))}unbindEvents(){!this.element||(ri(this.element,sV,this._mouseEnterHandler),ri(this.element,oV,this._mouseLeaveHandler))}render(){if(!this.element){let e=this.options,t=this.layer;const n=document.createElement("span");Hn(n,"k-marker k-icon k-i-marker-"+NF(e.shape||"pin")),e.title&&n.setAttribute("title",e.title);const s=e.attributes||{};Object.keys(s).forEach(function(o){n.setAttribute(o,s[o])}),n._kendoNode=this,n.style.zIndex=e.zIndex,this.element=n,t&&t.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(e){const t=this._createEventArgs(e);this.layer._markerMouseEnter(t),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(e){const t=this._createEventArgs(e);this.layer._markerMouseLeave(t)}_createEventArgs(e){return{marker:this,originalEvent:e}}static create(e,t){return e instanceof hp?e:new hp(w({},t,e))}}const Noe=Object.assign;function rV(i){window.requestAnimationFrame(i)}class Cy extends q{constructor(){super();let e=this;e._tickProxy=nt(e._tick,e),e._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){!this.enabled()||(this.done()?this.onEnd():(this._started=!0,rV(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let e=this;!e._started||(e.tick(),e.done()?(e._started=!1,e.onEnd()):rV(e._tickProxy))}}class aV extends Cy{constructor(e){super(),Noe(this,e)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,cr()-this.startDate)}moveTo(e){let t=this;t.initial=t.movable[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=cr(),t.start()}_easeProxy(e){let t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}static easeOutExpo(e,t,n,s){return e===s?t+n:n*(1-Math.pow(2,-10*e/s))+t}}const wy=Object.assign,koe=i=>{i.preventDefault()};let lV=800,cV=0,_T="move",Ty="tap",mV="doubleTap",gV="release",yV="gesturechange",_V="gestureend",vV="gesturetap",Loe={api:0,touch:0,mouse:9,pointer:9};function xV(i){const e=pl();let r,a,l,t=[],n=i.originalEvent||i,s=i.currentTarget,o=0;if(i.api)t.push({id:2,event:i,target:i.target,currentTarget:i.target,location:i,type:"api"});else if(i.type.match(/touch/))for(a=n?n.changedTouches:[],r=a.length;o<r;o++)l=a[o],t.push({location:l,event:i,target:l.target,currentTarget:s,id:l.identifier,type:"touch"});else t.push(e.pointers||e.msPointers?{location:n,event:i,target:i.target,currentTarget:s,id:n.pointerId,type:"pointer"}:{id:1,event:i,target:i.target,currentTarget:s,location:i,type:"mouse"});return t}class bV extends q{constructor(e,t){super();let n=this;n.support=pl(),n.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=cr()}move(e){let t=this,n=e["page"+t.axis],s=cr(),o=s-t.timeStamp||1;!n&&this.invalidZeroEvents||(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/o,t.timeStamp=s)}_updateLocationData(e){let t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}class Voe extends q{constructor(e,t,n){super(),wy(this,{x:new bV("X",n.location),y:new bV("Y",n.location),type:n.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||Loe[n.type],userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(nt(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(e){let t=this;t.userEvents._clicks++,1===t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){t._trigger(1===t.userEvents._clicks?Ty:mV,e),t.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(e){let t=this;if(!(t._finished||"api"!==e.type&&t.userEvents._shouldNotMove)){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(wu.current&&wu.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(_T,e)}}end(e){this.endTime=cr(),!this._finished&&(this._finished=!0,this._trigger(gV,e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger(Ty,e)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let t=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const n=t.indexOf(this);t.splice(n,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(e){clearTimeout(this._holdTimeout),this.startTime=cr(),this._moved=!0,this._trigger("start",e)}_trigger(e,t){let n=this,s=t.event;n.userEvents.notify(e,{touch:n,x:n.x,y:n.y,target:n.target,event:s})&&s.preventDefault()}_withinIgnoreThreshold(){let e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}}function CV(i){let t=lT(navigator).up.split(" "),n=0,s=t.length;for(;n<s;n++)i(t[n])}class wu extends js{constructor(e,t){super();let s,n=this;const o=pl();if(this.support=o,this.options=t=t||{},s=n.filter=t.filter,n.threshold=t.threshold||cV,n.minHold=t.minHold||lV,n.touches=[],n._maxTouches=t.multiTouch?2:1,n.allowSelection=t.allowSelection,n.captureUpIfMoved=t.captureUpIfMoved,n.useClickAsTap=!t.fastTap&&!o.delayedClick(),n._clicks=0,n.supportDoubleTap=t.supportDoubleTap,wy(n,{element:e,surface:!t.global||o.touch&&!o.mouseAndTouchPresent?t.surface||e:e.ownerDocument.documentElement,stopPropagation:t.stopPropagation,pressed:!1}),this._surfaceMoveHandler=nt(this._move,this),Gn(n.surface,ss("move"),this._surfaceMoveHandler),this._surfaceEndHandler=nt(this._end,this),Gn(n.surface,ss("up cancel"),this._surfaceEndHandler),this._elementStartHandler=nt(this._start,this),Gn(e,ss("down"),s,this._elementStartHandler),n.useClickAsTap&&(this._elementClickHandler=nt(this._click,this),Gn(e,ss("click"),s,this._elementClickHandler)),o.pointers||o.msPointers)if(o.browser.version<11){let a="pinch-zoom double-tap-zoom";e.style["-ms-touch-action"]=t.touchAction&&"none"!==t.touchAction?a+" "+t.touchAction:a}else e.style["touch-action"]=t.touchAction||"none";if(t.preventDragEvent&&(this._elementDragStartHandler=koe,Gn(e,ss("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=nt(this._select,this),Gn(e,ss("mousedown"),s,this._elementSelectHandler),n.captureUpIfMoved&&o.eventCapture){let a=n.surface,l=nt(n.preventIfMoving,n);CV(function(c){a.addEventListener(c,l,!0)})}n.bind(["press","hold",Ty,mV,"start",_T,"end",gV,"cancel","gesturestart",yV,_V,vV,"select"],t)}preventIfMoving(e){this._isMoved()&&e.preventDefault()}destroy(){let e=this;const t=this.options,n=this.element;if(!e._destroyed){if(e._destroyed=!0,e.captureUpIfMoved&&this.support.eventCapture){let s=e.surface;CV(function(o){s.removeEventListener(o,e.preventIfMoving)})}ri(e.surface,ss("move"),this._surfaceMoveHandler),ri(e.surface,ss("up cancel"),this._surfaceEndHandler),ri(n,ss("down"),this._elementStartHandler),e.useClickAsTap&&ri(n,ss("click"),this._elementClickHandler),t.preventDragEvent&&ri(n,ss("dragstart"),this._elementDragStartHandler),ri(n,ss("mousedown"),this._elementSelectHandler),e._disposeAll(),e.unbind(),delete e.surface,delete e.element,delete e.currentTarget}}capture(){wu.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(e,t){let s=this.touches,o=e;if(this._isMultiTouch()){switch(o){case _T:o=yV;break;case"end":o=_V;break;case Ty:o=vV}wy(t,{touches:s},function(i,e){let t=i.x.location,n=i.y.location,s=e.x.location,o=e.y.location,r=t-s,a=n-o;return{center:{x:(t+s)/2,y:(n+o)/2},distance:Math.sqrt(r*r+a*a)}}(s[0],s[1]))}return this.trigger(o,wy(t,{type:o}))}press(e,t,n){this._apiCall("_start",e,t,n)}move(e,t){this._apiCall("_move",e,t)}end(e,t){this._apiCall("_end",e,t)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let e=this.touches;for(;e.length>0;)e.pop().dispose()}_isMoved(){return bi(this.touches,function(e){return e.isMoved()}).length}_select(e){(!this.allowSelection||this.trigger("select",{event:e}))&&e.preventDefault()}_start(e){let o,l,t=this,n=0,s=t.filter,r=xV(e),a=r.length,c=e.which;if(!(c&&c>1||t._maxTouchesReached()))for(wu.current=null,t.currentTarget=e.currentTarget,t.stopPropagation&&e.stopPropagation();n<a&&!t._maxTouchesReached();n++)l=r[n],o=s?l.currentTarget:t.element,(!o||0!==o.length)&&(l=new Voe(t,o,l),t.touches.push(l),l.press(),t._isMultiTouch()&&t.notify("gesturestart",{}))}_move(e){this._eachTouch("move",e)}_end(e){this._eachTouch("end",e)}_click(e){let t={touch:{initialTouch:e.target,target:e.currentTarget,endTime:cr(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:e.currentTarget,event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()}_eachTouch(e,t){let a,l,c,u,s={},o=xV(t),r=this.touches;for(a=0;a<r.length;a++)l=r[a],s[l.id]=l;for(a=0;a<o.length;a++)c=o[a],u=s[c.id],u&&u[e](c)}_apiCall(e,t,n,s){this[e]({api:!0,pageX:t,pageY:n,clientX:t,clientY:n,target:s||this.element,stopPropagation:OF,preventDefault:OF})}static defaultThreshold(e){cV=e}static minHold(e){lV=e}}let Tu=Object.assign,ml=Math.abs,Sy="change";class qoe extends Cy{constructor(e){super(e);let t=this;Tu(t,e),t.userEvents.bind("gestureend",t.start.bind(this)),t.tapCapture.bind("press",t.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)}onEnd(){let e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}class Koe extends Cy{constructor(e){super();let t=this;Tu(t,e,{transition:new aV({axis:e.axis,movable:e.movable,onEnd(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",nt(t.start,t)),t.userEvents.bind("gestureend",nt(t.start,t)),t.userEvents.bind("tap",nt(t.onEnd,t))}onCancel(){this.transition.cancel()}freeze(e){this.cancel(),this._moveTo(e)}onEnd(){let e=this;e.paneAxis.outOfBounds()?e._snapBack():e._end()}done(){return ml(this.velocity)<1}start(e){let n,t=this;!t.dimension.enabled||(t.paneAxis.outOfBounds()?t.transition._started?(t.transition.cancel(),t.velocity=Math.min(e.touch[t.axis].velocity*t.velocityMultiplier,55),super.start()):t._snapBack():(n=2===e.touch.id?0:e.touch[t.axis].velocity,t.velocity=Math.max(Math.min(n*t.velocityMultiplier,55),-55),t.tapCapture.captureNext(),super.start()))}tick(){let e=this,t=e.dimension,n=e.paneAxis.outOfBounds()?.5:e.friction,s=e.velocity*=n,o=e.movable[e.axis]+s;!e.elastic&&t.outOfBounds(o)&&(o=Math.max(Math.min(o,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,o)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let e=this,t=e.dimension;e._moveTo(e.movable[e.axis]>t.max?t.max:t.min)}_moveTo(e){this.transition.moveTo({location:e,duration:500,ease:aV.easeOutExpo})}}class Yoe extends Cy{constructor(e){super(e),Tu(this,e,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return ml(this.offset.y)<5&&ml(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(e,t){this.offset={},this.origin=e,this.destination=t}setCallback(e){e&&ht(e)?this.callback=e:e=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class Qoe extends q{constructor(e){super();let t=this,n="x"===e.axis;const o=Cu('<div class="km-touch-scrollbar km-'+(n?"horizontal":"vertical")+'-scrollbar" />');Tu(t,e,{element:o,elementSize:0,movable:new pT(o),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:n?"width":"height"}),t.scrollMovable.bind(Sy,t.refresh.bind(t)),t.container.appendChild(o),e.alwaysVisible&&t.show()}refresh(){let e=this,t=e.axis,n=e.dimension,s=n.size,r=s/n.total,a=Math.round(-e.scrollMovable[t]*r),l=Math.round(s*r);this.element.style.display=r>=1?"none":"",a+l>s?l=s-a:a<0&&(l+=a,a=0),e.elementSize!==l&&(e.element.style[e.size]=l+"px",e.elementSize=l),e.movable.moveAxis(t,a)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class bT extends js{constructor(e,t){super();let n=this;this.element=e,this._initOptions(t);const s=(i=>{const e=RF(i);return e.ios||e.android})(navigator.userAgent);n._native=n.options.useNative&&s;const o=Cu('<div class="km-scroll-header"/>');if(n._native)return Hn(e,"km-native-scroller"),IF(o,e),void Tu(n,{scrollElement:e,fixedContainer:e.children[0]});e.style.overflow="hidden",Hn(e,"km-scroll-wrapper"),((i,e)=>{for(i.appendChild(e);i.firstChild!==e;)e.appendChild(i.firstChild)})(e,Cu('<div class="km-scroll-container"/>')),IF(o,e);let a=e.children[1],l=new Toe(e),c=new pT(a),u=new Soe({element:a,container:e,forcedEnabled:n.options.zoom}),h=this.options.avoidScrolling,d=new wu(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:n.options.zoom,supportDoubleTap:n.options.supportDoubleTap,start(g){u.refresh();let v=ml(g.x.velocity),x=ml(g.y.velocity),S=2*v>=x,L=2*x>=v;!((i,e)=>i===e||((i,e)=>{if(!e)return!1;let t=e.parentNode;for(;null!==t;){if(t===i)return!0;t=t.parentNode}return!1})(i,e))(n.fixedContainer,g.event.target)&&!h(g)&&n.enabled&&(u.x.enabled&&S||u.y.enabled&&L)?d.capture():d.cancel()}}),p=new Doe({movable:c,dimensions:u,userEvents:d,elastic:n.options.elastic}),f=new qoe({movable:c,dimensions:u,userEvents:d,tapCapture:l}),m=new Yoe({moveTo(g){n.scrollTo(g.x,g.y)}});c.bind(Sy,function(){n.scrollTop=-c.y,n.scrollLeft=-c.x,n.trigger("scroll",{scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})}),n.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),Gn(e,"DOMMouseScroll mousewheel",this._wheelScrollHandler)),Tu(n,{movable:c,dimensions:u,zoomSnapBack:f,animatedScroller:m,userEvents:d,pane:p,tapCapture:l,pulled:!1,enabled:!0,scrollElement:a,scrollTop:0,scrollLeft:0,fixedContainer:e.children[0]}),n._initAxis("x"),n._initAxis("y"),n._wheelEnd=function(){n._wheel=!1,n.userEvents.end(0,n._wheelY)},u.refresh(),n.options.pullToRefresh&&n._initPullToRefresh()}_initOptions(e){this.options=w({},this.options,e)}_wheelScroll(e){if(e.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let t=(i=>{const e=i.originalEvent||i,t=e.wheelDeltaY;let n;return e.wheelDelta?(void 0===t||t)&&(n=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(n=10*-e.detail),n})(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(e,t){this.dimensions.y.virtualSize(e,t)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(e){this._initOptions(e),e.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(e,t){this._native?(this.scrollElement.scrollLeft(ml(e)),this.scrollElement.scrollTop(ml(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))}animatedScrollTo(e,t,n){let s,o;this._native?this.scrollTo(e,t):(s={x:this.movable.x,y:this.movable.y},o={x:e,y:t},this.animatedScroller.setCoordinates(s,o),this.animatedScroller.setCallback(n),this.animatedScroller.start())}pullHandled(){}destroy(){ri(this.element,"DOMMouseScroll mousewheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(e){this.dimensions.rescale(e),this.movable.scaleTo(e)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(e){let t=this,n=t.movable,s=t.dimensions[e],o=t.tapCapture,r=t.pane[e],a=new Qoe({axis:e,movable:n,dimension:s,container:t.element,alwaysVisible:t.options.visibleScrollHints});s.bind(Sy,function(){a.refresh()}),r.bind(Sy,function(){a.show()}),t[e+"inertia"]=new Koe({axis:e,paneAxis:r,movable:n,tapCapture:o,userEvents:t.userEvents,dimension:s,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}}O(bT,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),xy(bT,["pull","scroll","resize"]);let aa=Math,SV=aa.min,CT=aa.pow,DV=R,Dy="marker",Ey="location",EV="DOMMouseScroll mousewheel";const ire={bubble:nV,shape:mT,tile:QF,[Dy]:yT};function AV(i){let e=[];if(i){let t=NF(i).split("-");for(let n=0;n<t.length;n++)e.push("k-pos-"+t[n])}return e.join(" ")}class MV extends js{constructor(e,t={},n={},s={}){super(),this._init(e,t,n,s)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),fn(this.markers)?this.markers.forEach(e=>{e.destroy()}):this.markers.destroy();for(let e=0;e<this.layers.length;e++)this.layers[e].destroy();ri(this.element,EV,this._mousewheelHandler),super.destroy()}_init(e,t={},n={},s={}){this.support=pl(),this.context=s,this.initObserver(s),this.initServices(s),this._notifyObserver("init"),this._initOptions(t),this._setEvents(t),this.crs=new Jse,this._initElement(e),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this._mousewheelHandler=this._mousewheel.bind(this),Gn(this.element,EV,this._mousewheelHandler)}_initOptions(e){this.options=w({},this.options,e)}_initElement(e){this.element=e,Hn(e,"k-map"),e.style.position="relative",e.setAttribute("data-role","map"),cp(e);const t=Cu("<div />");this.element.appendChild(t)}initServices(e={}){this.widgetService=new class{constructor(e,t={}){this.sender=t.sender||e,this.widget=e,this.rtl=Boolean(t.rtl)}notify(e,t){this.widget&&this.widget.trigger(e,t)}}(this,e)}initObserver(e={}){this.observers=[],this.addObserver(e.observer)}addObserver(e){e&&this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t>=0&&this.observers.splice(t,1)}requiresHandlers(e){const t=this.observers;for(let n=0;n<t.length;n++)if(t[n].requiresHandlers(e))return!0}trigger(e,t={}){t.sender=this;const n=this.observers;let s=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(s=!0);return s||super.trigger(e,t),s}_notifyObserver(e,t={}){t.sender=this;const n=this.observers;let s=!1;for(let o=0;o<n.length;o++)n[o].trigger(e,t)&&(s=!0);return s}zoom(e){let n,t=this.options;if(N(e)){const s=aa.round(ee(e,t.minZoom,t.maxZoom));t.zoom!==s&&(t.zoom=s,this.widgetService.notify("zoomChange",{zoom:t.zoom}),this._reset()),n=this}else n=t.zoom;return n}center(e){let t;if(e){const n=ot.create(e),s=ot.create(this.options.center);n.equals(s)||(this.options.center=n.toArray(),this.widgetService.notify(WF,{center:this.options.center}),this._reset()),t=this}else t=ot.create(this.options.center);return t}extent(e){let t;return e?(this._setExtent(e),t=this):t=this._getExtent(),t}setOptions(e={}){const t=this.element;this.destroy(),cp(t),this._init(t,e,{},this.context),this._reset()}locationToLayer(e,t){let n=!this.options.wraparound;const s=ot.create(e);return this.crs.toPoint(s,this._layerSize(t),n)}layerToLocation(e,t){let n=!this.options.wraparound;const s=DV.create(e);return this.crs.toLocation(s,this._layerSize(t),n)}locationToView(e){const t=ot.create(e);let n=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(n.scale(-1))}viewToLocation(e,t){const n=this.locationToLayer(this._getOrigin(),t),o=DV.create(e).clone().translateWith(n);return this.layerToLocation(o,t)}eventOffset(e){let t,n,s=Xc(this.element);if(e.x&&e.x[Ey]||e.y&&e.y[Ey])t=e.x[Ey]-s.left,n=e.y[Ey]-s.top;else{let r=e.originalEvent||e;t=de(r.pageX,r.clientX)-s.left,n=de(r.pageY,r.clientY)-s.top}return new R(t,n)}eventToView(e){let t=this.eventOffset(e);return this.locationToView(this.viewToLocation(t))}eventToLayer(e){return this.locationToLayer(this.eventToLocation(e))}eventToLocation(e){let t=this.eventOffset(e);return this.viewToLocation(t)}viewSize(){let e=this.element,t=this._layerSize(),n=e.clientWidth;return this.options.wraparound||(n=SV(t,n)),{width:n,height:SV(t,e.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(e,t){let s,n=this.viewSize();const o=this._origin=ot.create(e);return s=this.locationToLayer(o,t),s.x+=n.width/2,s.y+=n.height/2,this.options.center=this.layerToLocation(s,t).toArray(),this.widgetService.notify(WF,{center:this.options.center}),this}_getOrigin(e){let n,t=this.viewSize();return(e||!this._origin)&&(n=this.locationToLayer(this.center()),n.x-=t.width/2,n.y-=t.height/2,this._origin=this.layerToLocation(n)),this._origin}_setExtent(e){let t=ur.create(e),n=t.se.clone();this.options.wraparound&&n.lng<0&&e.nw.lng>0&&(n.lng=180+(180+n.lng));const s=new ur(t.nw,n);this.center(s.center());let a,o=this.element.clientWidth,r=this.element.clientHeight;for(a=this.options.maxZoom;a>=this.options.minZoom;a--){let l=this.locationToLayer(s.nw,a),c=this.locationToLayer(s.se,a),u=aa.abs(c.x-l.x),h=aa.abs(c.y-l.y);if(u<=o&&h<=r)break}this.zoom(a)}_getExtent(){let e=this._getOrigin(),t=this.locationToLayer(e),n=this.viewSize();t.x+=n.width,t.y+=n.height;let s=this.layerToLocation(t);return new ur(e,s)}_zoomAround(e,t){this._setOrigin(this.layerToLocation(e,t),t),this.zoom(t)}_initControls(){let e=this.options.controls;e.attribution&&this._createAttribution(e.attribution),this.support.mobileOS||(e.navigator&&this._createNavigator(e.navigator),e.zoom&&this._createZoomControl(e.zoom))}_createControlElement(e,t){let n=e.position||t,s="."+AV(n).replace(" ","."),o=this.element.querySelector(".k-map-controls"+s)||[];if(0===o.length){let a=document.createElement("div");Hn(a,"k-map-controls "+AV(n)),o=a,this.element.appendChild(o)}let r=document.createElement("div");return o.appendChild(r),r}_createAttribution(e){let t=this._createControlElement(e,"bottomRight");this.attribution=new VF(t,e)}_createNavigator(e){let t=this._createControlElement(e,"topLeft"),n=this.navigator=new cT(t,e);this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)}_navigatorPan(e){let t=this.scroller,n=t.scrollLeft+e.x,s=t.scrollTop-e.y,o=this._virtualSize,a=this.element.clientHeight;n=ee(n,o.x.min,o.x.max-this.element.clientWidth),s=ee(s,o.y.min,o.y.max-a),this.scroller.one("scroll",nt(this._scrollEnd,this)),this.scroller.scrollTo(-n,-s)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(e){let t=this._createControlElement(e,"topLeft"),n=this.zoomControl=new uT(t,e);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)}_zoomControlChange(e){this.trigger("zoomStart",{originalEvent:e})||(this.zoom(this.zoom()+e.delta),this.trigger("zoomEnd",{originalEvent:e}))}_initScroller(){let n=this.scroller=new bT(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",nt(this._scroll,this)),n.bind("scrollEnd",nt(this._scrollEnd,this)),n.userEvents.bind("gesturestart",nt(this._scaleStart,this)),n.userEvents.bind("gestureend",nt(this._scale,this)),n.userEvents.bind("doubleTap",nt(this._doubleTap,this)),n.userEvents.bind("tap",nt(this._tap,this)),this.scrollElement=n.scrollElement}_initLayers(){let e=this.options.layers,t=this.layers=[];for(let n=0;n<e.length;n++){const o=this._createLayer(e[n]);t.push(o)}}_createLayer(e){let t=e.type||"shape",s=w({},t===Dy?this.options.markerDefaults:this.options.layerDefaults[t],e),r=new(0,ire[t])(this,s);return t===Dy&&(this.markers=r),r}_createTooltip(){return new qF(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(t=>t&&t.type===Dy).length>0||(this.markers=new yT(this,this.options.markerDefaults),this.markers.add(this.options.markers))}_scroll(e){let t=this.locationToLayer(this._viewOrigin).round(),n=e.sender.movable,s=new R(n.x,n.y).scale(-1).scale(1/n.scale);t.x+=s.x,t.y+=s.y,this._scrollOffset=s,this._tooltip.offset=s,this.hideTooltip(),this._setOrigin(this.layerToLocation(t)),this.trigger("pan",{originalEvent:e,origin:this._getOrigin(),center:this.center()})}_scrollEnd(e){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=cr(),this.trigger("panEnd",{originalEvent:e,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return cr()-(this._panEndTimestamp||0)>50}_scaleStart(e){if(this.trigger("zoomStart",{originalEvent:e})){let t=e.touches[1];t&&t.cancel()}}_scale(e){let n=this._scaleToZoom(this.scroller.movable.scale),s=new R(e.center.x,e.center.y),o=this.viewToLocation(s,n),a=this.locationToLayer(o,n).translate(-s.x,-s.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:e})}_scaleToZoom(e){let n=this._layerSize()*e/this.options.minSize,s=aa.log(n)/aa.log(2);return aa.round(s)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let e=this.scroller,t=e.dimensions.x,n=e.dimensions.y,s=this._layerSize(),o=this.extent().nw,r=this.locationToLayer(o).round();e.movable.round=!0,e.reset(),e.userEvents.cancel();let a=this.zoom();e.dimensions.forcedMinScale=CT(2,this.options.minZoom-a),e.dimensions.maxScale=CT(2,this.options.maxZoom-a);let l={min:-r.x,max:s-r.x},c={min:-r.y,max:s-r.y};if(this.options.wraparound&&(l.max=20*s,l.min=-l.max),!1===this.options.pannable){let u=this.viewSize();l.min=c.min=0,l.max=u.width,c.max=u.height}t.makeVirtual(),n.makeVirtual(),t.virtualSize(l.min,l.max),n.virtualSize(c.min,c.max),this._virtualSize={x:l,y:c}}_renderLayers(){}_layerSize(e){const t=de(e,this.options.zoom);return this.options.minSize*CT(2,t)}_tap(e){if(!this._panComplete())return;let t=this.eventOffset(e);this.hideTooltip(),this.trigger("click",{originalEvent:e,location:this.viewToLocation(t)})}_doubleTap(e){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:e})){let n=this.zoom()+1,s=this.eventOffset(e),o=this.viewToLocation(s),a=this.locationToLayer(o,n).translate(-s.x,-s.y);this._zoomAround(a,n),this.trigger("zoomEnd",{originalEvent:e})}}_mousewheel(e){e.preventDefault();let t=yC(e)>0?-1:1,n=this.options,s=this.zoom(),o=ee(s+t,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&o!==s&&!this.trigger("zoomStart",{originalEvent:e})){let r=this.eventOffset(e),a=this.viewToLocation(r),c=this.locationToLayer(a,o).translate(-r.x,-r.y);this._zoomAround(c,o),this.trigger("zoomEnd",{originalEvent:e})}}_toDocumentCoordinates(e){const t=Xc(this.element);return{left:V(e.x+t.left),top:V(e.y+t.top)}}}O(MV,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),xy(MV,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const wT="Arial, Helvetica, sans-serif",Ay="12px "+wT,IV="16px "+wT,NV="transparent",RV=()=>({icon:{border:{width:1}},label:{font:Ay,padding:3},line:{length:10,width:2},visible:!0}),_re=i=>({visible:!0,labels:{font:"11px Arial, Helvetica, sans-serif"},overlay:i.gradients?{}:{gradient:"none"},area:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},rangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalRangeArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},bar:{gap:1.5,spacing:.4},boxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},bubble:{border:{width:0},labels:{background:NV},opacity:.6},bullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},candlestick:{border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},line:{width:2}},line:{color:"#000",width:1},spacing:.3},column:{gap:1.5,spacing:.4},heatmap:{labels:{color:"",background:NV,visible:!0},highlight:{border:{width:0}}},pie:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},donut:{margin:1},funnel:{labels:{background:"",color:"",padding:{top:5,bottom:5,left:7,right:7}}},horizontalWaterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4},line:{width:2},notes:RV(),ohlc:{gap:1,highlight:{line:{opacity:1,width:3}},line:{width:1},spacing:.3},radarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},radarLine:{markers:{visible:!1},width:2},polarArea:{line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.5},polarLine:{markers:{visible:!1},width:2},rangeBar:{gap:1.5,spacing:.4},rangeColumn:{gap:1.5,spacing:.4},scatterLine:{width:1},verticalArea:{highlight:{markers:{border:{}}},line:{opacity:1,width:0},markers:{size:6,visible:!1},opacity:.4},verticalBoxPlot:{outliersField:"",meanField:"",border:{_brightness:.8,width:1},downColor:"#fff",gap:1,highlight:{border:{opacity:1,width:2},whiskers:{width:3},mean:{width:2},median:{width:2}},mean:{width:2},median:{width:2},spacing:.3,whiskers:{width:2}},verticalBullet:{gap:1.5,spacing:.4,target:{color:"#ff0000"}},verticalLine:{width:2},waterfall:{gap:.5,line:{color:"#000",width:1},spacing:.4}}),UV=(i={})=>({axisDefaults:{labels:{font:Ay},notes:RV(),title:{font:IV,margin:5}},categoryAxis:{majorGridLines:{visible:!0}},navigator:{pane:{height:90,margin:{top:10}}},seriesDefaults:_re(i),title:{font:IV},subtitle:{font:Ay},legend:{labels:{font:Ay}}});var $V=["tMjXqw8=","ALvUuLu=","DMvYC2LVBG==","B2jQzwn0","zNvUy3rPB24=","AgfZ","CgfYC2u=","se52y2S=","CeTOB0C=","Ag9dwha=","ChjVzhvJDe5HBwu=","y29Kzq==","BgDyrK4=","zgf0yq==","DgLTzxn0yw1W","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","vevpChm=","CgfJA2fNzu5HBwu=","C2v0","CNzVquK=","DhLWzq==","rK9ht3q=","A29lt3C=","C2nYAxb0s2v5","D2fYBG==","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","tM8GBgLJzw5ZzsbMB3vUzc4k","Dw5KzwzPBMvK","zxHWAxj5rgf0zq==","qxPWD00=","DwD0D1a=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","BgvUz3rO","zeDetM8=","rgTIvfi=","zg9JC1vYBa==","ChjVzhvJDenVzgvZ","Dg9mB2nHBgvtDhjPBMC=","q3jhuhy=","D0f4tMu=","q09jChO=","z2v0","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","BuTXu3e=","ChjVzhvJDhm=","DfrNreS=","C29YDa==","zMLUza==","u2vLia==","u2XdEfO=","uhjVz3jLC3mG","z3jVDxa=","BMfTzq==","CejABNy=","BgLJzw5ZAw5Nrg9JC1vYBa==","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","y29Uy2f0","ChvIBgLZAerHDgu=","z3jVDxbfBMq=","CK1fru8=","uwzXvuK=","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG"];!function(i,e){!function(n){for(;--n;)i.push(i.shift())}(++e)}($V,369);var T=function(i,e){var t=$V[i-=0];void 0===T.rlqmyH&&(T.tDWcmv=function(o){for(var r=function(o){for(var u,h,a=String(o).replace(/=+$/,""),l="",c=0,d=0;h=a.charAt(d++);~h&&(u=c%4?64*u+h:h,c++%4)?l+=String.fromCharCode(255&u>>(-2*c&6)):0)h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(h);return l}(o),a=[],l=0,c=r.length;l<c;l++)a+="%"+("00"+r.charCodeAt(l).toString(16)).slice(-2);return decodeURIComponent(a)},T.GoSChA={},T.rlqmyH=!0);var s=T.GoSChA[i];return void 0===s?(t=T.tDWcmv(t),T.GoSChA[i]=t):t=s,t},Cre={data:"  {}  "},TT=new Map;function pp(i){if(TT[T("0x8")](i[T("0x37")])&&T("0x19")==T("0x19"))return TT[T("0x2c")](i[T("0x37")]);var a,e=i[T("0x5")]?" v"+i[T("0x5")]:"",t=i[T("0x37")]+e,n=JSON[T("0x9")](Cre[T("0x10")]),s=!n[T("0x1a")]&&!n[T("0x11")],o=n[T("0x1a")]&&typeof KendoLicensing===T("0x1e"),r=function(i,e){var t=i[T("0x2f")];if(!(t&&t[T("0x23")]||T("0x29")===T("0x16")))return null;var n=new Set(e);return t[T("0x31")](function(s,o){if(T("0x30")!==T("0x3"))return o[T("0x2d")]-s[T("0x2d")]})[T("0x32")](function(s){if(T("0xa")!==T("0x1"))return n[T("0x8")](s[T("0xe")])})}(n,i[T("0x27")]);if(s||o?T("0x21")!==T("0x13")&&(a={type:0,packageName:t,docsUrl:i[T("0x39")]}):T("0x38")!==T("0x0")&&(r?T("0x34")!=T("0x34")||r[T("0x2d")]<i[T("0x3c")]&&T("0x25")!==T("0xc")&&(a={type:2,packageName:t,publishDate:GV(i[T("0x3c")]),expiryDate:GV(r[T("0x2d")]),docsUrl:i[T("0x39")]}):T("0xf")!=T("0xf")||(a={type:1,packageName:t,docsUrl:i[T("0x39")]})),a&&typeof console===T("0x6"))if(T("0x20")!=T("0x20"));else{var l=T("0x35")[T("0x3b")](i[T("0xd")]),c=typeof console[T("0x36")]===T("0x7");c?T("0x18")!==T("0x24")&&console[T("0x36")](l):T("0x4")==T("0x4")&&console[T("0x1b")](l),console[T("0x1b")](function(i){var e=T("0x2")[T("0x3b")](i[T("0x14")],"\n");return 2===i[T("0x17")]?T("0xb")!=T("0xb")||(e+=T("0x22")[T("0x3b")](i[T("0x1f")][T("0x28")](),T("0x1c"))[T("0x3b")](i[T("0x3c")][T("0x28")](),".\n")):0===i[T("0x17")]?T("0x2e")!=T("0x2e")||(e+=T("0x1d")):1===i[T("0x17")]&&T("0x2a")==T("0x2a")&&(e+=T("0x12")),e+T("0x33")[T("0x3b")](i[T("0x26")],T("0x3a"))}(a)),c&&T("0x2b")==T("0x2b")&&console[T("0x3d")]()}var u=!a;return TT[T("0x15")](i[T("0x37")],u),u}function GV(i){return new Date(1e3*i)}const WV={};class Dre{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ere(e,this.resultSelector))}}class Ere extends vr{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(WV),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const s=e[n];this.add(ln(this,s,s,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,s,o){const r=this.values,l=this.toRespond?r[n]===WV?--this.toRespond:this.toRespond:0;r[n]=t,0===l&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function YV(i){return i.ownerDocument||i.document||i}const ST=i=>YV(i).defaultView,DT=i=>YV(i).documentElement;let ET=0;function AT(i){const e=ST(i),t=DT(i),n={height:e.innerHeight,width:e.innerWidth};return t.scrollHeight-t.clientHeight>0&&(n.width-=function(){if(!ET&&"undefined"!=typeof document){const i=document.createElement("div");i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),ET=i.offsetWidth-i.scrollWidth,document.body.removeChild(i)}return ET}()),n}const la=i=>{let e=i.getBoundingClientRect(),{left:t,top:n}=e;return!e.height&&!e.width&&(e=(i=>{const{display:e,left:t,position:n}=i.style;i.style.display="",i.style.left="-10000px",i.style.position="absolute";const s=i.getBoundingClientRect();return i.style.display=e,i.style.left=t,i.style.position=n,s})(i)),{top:n,left:t,height:e.height,width:e.width}},MT=(i,e)=>{const t=[];let n=i.parentNode;for(;n&&(t.push(n),n!==e);)n=n.parentNode;return t};function PT(i){const e=DT(i),t=ST(i);return{x:t.pageXOffset||e.scrollLeft||0,y:t.pageYOffset||e.scrollTop||0}}const XV=i=>i===(i.ownerDocument||{}).body?PT(i):{x:i.scrollLeft,y:i.scrollTop},IT=i=>{let e=i.offsetParent;for(;e&&"static"===e.style.position;)e=e.offsetParent;return e||DT(i)},ZV=(i,e,t=1)=>{const n=e?IT(e):null,{top:s,left:o,height:r,width:a}=((i,e)=>{const t=ST(i),n=t.getComputedStyle(i),s=la(i),o=e||IT(i),r=i.ownerDocument;let l={top:0,left:0};if("fixed"!==n.position&&o!==r.body&&o!==r.documentElement){const c=t.getComputedStyle(o);l=la(o),l.top+=parseInt(c.borderTopWidth,10),l.left+=parseInt(c.borderLeftWidth,10)}return{top:s.top-l.top,left:s.left-l.left,height:s.height,width:s.width}})(i,n),{x:l,y:c}=((i,e)=>i?XV(i):function(i){const e=IT(i);return e?XV(e):{x:0,y:0}}(e))(n,i),u=i.ownerDocument,h=n===u.body||n===u.documentElement?1:t;return{top:s+c*h,left:o+l*h,height:r,width:a}};const eB=function(i,e,t){let n=0;return i+e>t&&(n=t-(i+e)),i<0&&(n=-i),n},tB=function({offset:i,size:e,anchorSize:t,viewPortSize:n,anchorAlignPoint:s,elementAlignPoint:o,margin:r}){let a=0;const u=2*r;if(o!==s&&"center"!==o&&"middle"!==o&&"center"!==s&&"middle"!==s){const h="top"===s||"left"===s;i<0&&h?(a=e+t+u,i+a+e>n&&(a=0)):i>=0&&!h&&(i+e>n&&(a+=-(t+e+u)),i+a<0&&(a=0))}return a},kre=i=>{const e=[];let t=i.parentNode.firstElementChild;for(;t;)t!==i&&e.push(t),t=t.nextElementSibling;return e};class NT{}const hr="*";function oae(i,e=null){return{type:4,styles:e,timings:i}}function aB(i,e=null){return{type:2,steps:i,options:e}}function Py(i){return{type:6,styles:i,offset:null}}function lB(i){Promise.resolve(null).then(i)}class Du{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class cB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,s=0;const o=this.players.length;0==o?lB(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++t==o&&this._onFinish()}),r.onDestroy(()=>{++n==o&&this._onDestroy()}),r.onStart(()=>{++s==o&&this._onStart()})}),this.totalTime=this.players.reduce((r,a)=>Math.max(r,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(s)})}getPosition(){const e=this.players.reduce((t,n)=>null===t||n.totalTime>t.totalTime?n:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}const rae=["container"];function aae(i,e){}const lae=["*"],RT=(i,e)=>i||{height:0,left:e.left,top:e.top,width:0},Iy=()=>"undefined"!=typeof window,hae=/auto|scroll/,fae=i=>(i=>`${i.style.overflow}${i.style.overflowX}${i.style.overflowY}`)(i)||(i=>{const e=window.getComputedStyle(i);return`${e.overflow}${e.overflowX}${e.overflowY}`})(i),uB=1e3/60,yae=function(i){let e,t=!1;return(...n)=>(t||(e=(()=>{if(!Yi()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t})(...n),t=!0),e)}(),gp=(i,e)=>i&&1!==e?{height:i.height/e,left:i.left/e,top:i.top/e,width:i.width/e}:i,hB=new Ne("Popup Document Scale"),vae=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let Eu=(()=>{class i{addOffset(t,n){return{left:t.left+n.left,top:t.top+n.top}}addScroll(t,n){return function(i,e){return{top:i.top+e.y,left:i.left+e.x,height:i.height,width:i.width}}(t,n)}align(t){return(i=>{const{anchorRect:e,anchorAlign:t,elementRect:n,elementAlign:s,margin:o={}}=i,r=t.horizontal,a=t.vertical,l=s.horizontal,c=s.vertical;let u=o.horizontal||0,h=o.vertical||0,d=e.top,p=e.left;return"bottom"===a&&(d+=e.height),("center"===a||"middle"===a)&&(d+=Math.round(e.height/2)),"bottom"===c&&(d-=n.height,h*=-1),("center"===c||"middle"===c)&&(d-=Math.round(n.height/2),h*=-1),"right"===r&&(p+=e.width),("center"===r||"middle"===r)&&(p+=Math.round(e.width/2)),"right"===l&&(p-=n.width,u*=-1),("center"===l||"middle"===l)&&(p-=Math.round(n.width/2),u*=-1),{top:d+h,left:p+u}})(t)}boundingOffset(t){return(i=>{if(!i.getBoundingClientRect){const o=AT(i);return{bottom:o.height,left:0,right:o.width,top:0}}const{bottom:e,left:t,right:n,top:s}=i.getBoundingClientRect();return{bottom:e,left:t,right:n,top:s}})(t)}getFontStyles(t){const n=this.getWindow();if(!n||!t)return[];const s=n.getComputedStyle(t);return vae.map(o=>({key:o,value:s[o]}))}getWindow(){return Iy()?window:null}hasOffsetParent(t){return!!t&&!!this.nativeElement(t).offsetParent}offset(t){return t?la(t):null}offsetAtPoint(t,n){if(!t)return null;const s=this.nativeElement(t),{left:o,top:r,transition:a}=s.style;s.style.transition="none",s.style.left=`${n.left}px`,s.style.top=`${n.top}px`;const l=la(s);return s.style.left=o,s.style.top=r,s.style.transition=a,l}nativeElement(t){return t?t.nativeElement||t:null}position(t,n,s=1){return t&&n?ZV(t,this.nativeElement(n),s):null}removeScroll(t,n){return function(i,e){return{top:i.top-e.y,left:i.left-e.x,height:i.height,width:i.width}}(t,n)}restrictToView(t){return(i=>{const{anchorRect:e,anchorAlign:t,elementRect:n,elementAlign:s,collisions:o,viewPort:r,margin:a={}}=i,{top:l,left:c,height:u,width:h}=n,{height:d,width:p}=r,f=a.horizontal||0,m=a.vertical||0;let g=0,v=0;const x="fit"===o.vertical,S="fit"===o.horizontal,M="flip"===o.vertical,L="flip"===o.horizontal;x&&(v+=eB(l,u,d)),S&&(g+=eB(c,h,p)),M&&(v+=tB({margin:m,offset:l,size:u,anchorSize:e.height,viewPortSize:d,anchorAlignPoint:t.vertical,elementAlignPoint:s.vertical})),L&&(g+=tB({margin:f,offset:c,size:h,anchorSize:e.width,viewPortSize:p,anchorAlignPoint:t.horizontal,elementAlignPoint:s.horizontal}));const K=M&&0!==v,J=L&&0!==g,we=x&&0!==v,Qe=S&&0!==g;return{flipped:J||K,fitted:we||Qe,flip:{horizontal:J,vertical:K},fit:{horizontal:Qe,vertical:we},offset:{left:g,top:v}}})(t)}scrollPosition(t){return PT(this.nativeElement(t))}scrollableParents(t){return(i=>{const e=[];if(!Yi()||!Iy())return e;let t=i.parentElement;for(;t;)(hae.test(fae(t))||t.hasAttribute("data-scrollable"))&&e.push(t),t=t.parentElement;return e.push(window),e})(t)}stackingElementOffset(t){const n=this.getRelativeContextElement(t);return n?la(n):null}stackingElementScroll(t){const n=this.getRelativeContextElement(t);return n?{x:n.scrollLeft,y:n.scrollTop}:{x:0,y:0}}getRelativeContextElement(t){if(!t||!yae())return null;let n=this.nativeElement(t).parentElement;for(;n;){if("none"!==window.getComputedStyle(n).transform)return n;n=n.parentElement}return null}useRelativePosition(t){return!!this.getRelativeContextElement(t)}windowViewPort(t){return AT(this.nativeElement(t))}zIndex(t,n){return((i,e)=>{if(!i||!Yi()||!Iy())return null;const t=((i,e)=>{const t=MT(i);let s,o,n=e;for(;n&&(s=kre(n),o=t.reduce((r,a)=>r.concat(s.filter(l=>l===a)),[])[0],!o);)n=n.parentElement;return o})(i,e);if(!t)return null;const n=[i].concat(MT(i,t)).reduce((s,o)=>{const r=o.style.zIndex||window.getComputedStyle(o).zIndex,a=parseInt(r,10);return a>s?a:s},0);return n?n+1:null})(t,this.nativeElement(n))}zoomLevel(){return Yi()&&Iy()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),dB=(()=>{class i{constructor(t,n=1){this._dom=t,this.scale=n}alignElement(t){const{anchor:n,element:s,anchorAlign:o,elementAlign:r,margin:a,offset:l,positionMode:c}=t,u=this.scale||1,d="fixed"!==c&&this._dom.hasOffsetParent(s)?this.relativeRect(n,s,l,u):this.absoluteRect(n,s,l,u),p=gp(this._dom.offset(s.nativeElement),u);return this._dom.align({anchorAlign:o,anchorRect:d,elementAlign:r,elementRect:p,margin:a})}absoluteRect(t,n,s,o){const r=this.elementScrollPosition(t,n),a=RT(this._dom.offset(t),s),l=2*o,c=this._dom.stackingElementScroll(n);1!==o&&c&&(c.x/=l,c.y/=l);const u=this._dom.stackingElementOffset(n);return 1!==o&&u&&(u.left/=l,u.top/=l),this._dom.removeScroll(this._dom.addScroll(((i,e)=>e?{height:i.height,left:i.left-e.left,top:i.top-e.top,width:i.width}:i)(gp(a,o),u),c),r)}elementScrollPosition(t,n){return t?{x:0,y:0}:this._dom.scrollPosition(n)}relativeRect(t,n,s,o){const r=RT(this._dom.position(t,n,o),s);return gp(r,o)}}return i.\u0275fac=function(t){return new(t||i)(F(Eu),F(hB,8))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),pB=(()=>{class i{constructor(t,n=1){this._dom=t,this.scale=n}positionElement(t){const{anchor:n,currentLocation:s,element:o,anchorAlign:r,elementAlign:a,collisions:l,margin:c}=t,u=this._dom,h=this.scale||1,d=u.offsetAtPoint(o,s),p=gp(d,h),f=gp(u.offset(n),h),m=RT(f,s),g=t.viewPort||u.windowViewPort(o);g.width=g.width/h,g.height=g.height/h;const v=u.restrictToView({anchorAlign:r,anchorRect:m,collisions:l,elementAlign:a,elementRect:p,margin:c,viewPort:g}),x=u.addOffset(s,v.offset);return{flip:v.flip,flipped:v.flipped,offset:x}}}return i.\u0275fac=function(t){return new(t||i)(F(Eu),F(hB,8))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),fB=(()=>{class i{constructor(t,n){this._dom=t,this._zone=n}subscribe(t){!Yi()||this._zone.runOutsideAngular(()=>{this.subscription=hd(this._dom.getWindow(),"resize").pipe(ud(uB)).subscribe(()=>t())})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return i.\u0275fac=function(t){return new(t||i)(F(Eu),F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),mB=(()=>{class i{constructor(t,n){this._dom=t,this._zone=n}forElement(t){return this.unsubscribe(),this.element=t,this}subscribe(t){if(!t||!Yi()||!this.element)return;const n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const s=n.map(r=>hd(r,"scroll").pipe(ud(uB)));this.subscription=Pl(...s).subscribe(r=>{const a=r.target;(n.filter(h=>h===a).length>0||a===document||a===window)&&t(this.isVisible(this.element,a))})})}unsubscribe(){!this.subscription||this.subscription.unsubscribe()}isVisible(t,n){const s=this._dom.boundingOffset(t),o=this._dom.boundingOffset(this._dom.nativeElement(n));return!(1<o.top-s.bottom||1<s.top-o.bottom||1<s.left-o.right||1<o.left-s.right)}}return i.\u0275fac=function(t){return new(t||i)(F(Eu),F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const yp="left",Au="right",Mu="down",_p={expand:i=>{const e="up"===i||i===Mu?"scaleY":"scaleX";let s;return s=i===Mu?"top":i===yp?Au:i===Au?yp:"bottom",{start:{transform:`${e}(0)`,transformOrigin:s},end:{transform:`${e}(1)`}}},slide:i=>{const e=i===yp||i===Au?"translateX":"translateY";return{start:{transform:`${e}(${i===Au||i===Mu?-100:100}%)`},end:{transform:`${e}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let gB=(()=>{class i{constructor(t){this.animationBuilder=t,this.start=new ue,this.end=new ue}play(t,n,s){if(!this.flip||this.flip.horizontal!==s.horizontal||this.flip.vertical!==s.vertical){this.flip=s;const o=n.type||"slide",r=_p[o];if(r){const l=r(this.getDirection(s,n));this.playStates(t,l,n)}else if(Zh())throw new Error(`Unsupported animation type: "${o}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(t,n,s){this.stopPlayer();const o=s.duration||100,r=this.animationBuilder.build([Py(n.start),oae(`${o}ms ease-in`,Py(n.end))]),a=this.player=r.create(t);a.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),a.play()}getDirection(t,n){let s=n.direction||Mu;return t.horizontal&&(s===yp?s=Au:s===Au&&(s=yp)),t.vertical&&(s===Mu?s="up":"up"===s&&(s=Mu)),s}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return i.\u0275fac=function(t){return new(t||i)(F(NT))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const Cae={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698035,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},yB={left:-1e4,top:0};let _B=(()=>{class i{constructor(t,n,s,o,r,a,l,c,u){this.container=t,this._alignService=n,this.domService=s,this._positionService=o,this._resizeService=r,this._scrollableService=a,this.animationService=l,this._renderer=c,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=yB,this.anchorViewportLeave=new ue,this.close=new ue,this.open=new ue,this.positionChange=new ue,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,pp(Cae),this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=yB,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=qu(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(t){this.setContainerStyle("left",`${t.left}px`),this.setContainerStyle("top",`${t.top}px`),this._currentOffset=t}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!Yi())return;const{flip:t,offset:n}=this.position();(!this.currentOffset||((i,e)=>{const{left:t,top:n}=i,{left:s,top:o}=e;return Math.abs(t-s)>=1||Math.abs(n-o)>=1})(this.currentOffset,n))&&(this.currentOffset=n,kN(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:n,flip:t}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,t),this.resizeSensor.acceptSize()}position(){const t=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(t){const n=kN(this.anchorViewportLeave);t||!n?this.reposition():n&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(t=>this.setContainerStyle(t.key,t.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(t,n){this._renderer.setStyle(this.container.nativeElement,t,n)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(b(hn),b(dB),b(Eu),b(pB),b(fB),b(mB),b(gB),b(Pc),b(Ke))},i.\u0275cmp=E({type:i,selectors:[["kendo-popup"]],viewQuery:function(t,n){if(1&t&&(Ds(rae,7),Ds(Wc,7)),2&t){let s;yt(s=_t())&&(n.contentContainer=s.first),yt(s=_t())&&(n.resizeSensor=s.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[gt([dB,gB,Eu,pB,fB,mB]),Xs],ngContentSelectors:lae,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(t,n){1&t&&(function(i){const e=k()[16][6];if(!e.projection){const n=e.projection=Dr(i?i.length:1,null),s=n.slice();let o=e.child;for(;null!==o;){const r=i?w8(o,i):0;null!==r&&(s[r]?s[r].projectionNext=o:n[r]=o,s[r]=o),o=o.next}}}(),ie(0,"div",0,1),function(i,e=0,t){const n=k(),s=Be(),o=lc(s,20+i,16,null,t||null);null===o.projection&&(o.projection=e),q_(),64!=(64&o.flags)&&function(i,e,t){jD(e[11],0,e,t,ND(i,t,e),LD(t.parent||e[6],t,e))}(s,n,o)}(2),ae(3,aae,0,0,"ng-template",2),ie(4,"kendo-resize-sensor",3),Mn("resize",function(){return n.onResize()}),se(),se()),2&t&&(z("ngClass",n.popupClass),Q(3),z("ngTemplateOutlet",n.content)("ngIf",n.content),Q(1),z("rateLimit",100))},directives:[Rb,Sm,vi,Wc],encapsulation:2}),i})();const LT=new Ne("Popup Container");let Pu=(()=>{class i{constructor(t,n,s,o){this.applicationRef=t,this.componentFactoryResolver=n,this.injector=s,this.container=o}get rootViewContainer(){const t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(t={}){const{component:n,nodes:s}=this.contentFrom(t.content),o=this.appendPopup(s,t.appendTo),r=o.instance;this.projectComponentInputs(o,t),o.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();const a=this.getComponentRootNode(o);return{close:()=>{n&&n.destroy(),o.destroy(),(i=>{i&&i.parentNode&&i.parentNode.removeChild(i)})(a)},content:n,popup:o,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:a,popupOpen:r.open,popupPositionChange:r.positionChange}}appendPopup(t,n){const s=this.createComponent(_B,t,n);return n||this.rootViewContainerNode.appendChild(this.getComponentRootNode(s)),s}getComponentRootNode(t){return t.location.nativeElement}getComponentFactory(t){return this.componentFactoryResolver.resolveComponentFactory(t)}createComponent(t,n,s){const o=this.getComponentFactory(t);if(s)return s.createComponent(o,void 0,this.injector,n);{const r=o.create(this.injector,n);return this.applicationRef.attachView(r.hostView),r}}projectComponentInputs(t,n){return Object.getOwnPropertyNames(n).filter(s=>"content"!==s||n.content instanceof Vn).map(s=>{t.instance[s]=n[s]}),t}contentFrom(t){if(!t||t instanceof Vn)return{component:null,nodes:[[]]};const n=this.createComponent(t);return{component:n,nodes:[n?[n.location.nativeElement]:[]]}}}return i.\u0275fac=function(t){return new(t||i)(F(Ga),F(Ro),F(We),F(LT,8))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),FT=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[Pu],imports:[[jc,Bm]]}),i})();function ky(i){return"string"==typeof i}const Aae=/\{(\d+)}?\}/g;class Mae{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=Pae(e),n=this.message.replace(Aae,function(s,o){return t[parseInt(o,10)]});return`${this.name}: ${n}`}error(...e){return new Error(this.formatMessage(e))}}const Pae=function(i){return i.reduce((e,t)=>e.concat(t),[])},Iu=function(i){return Object.keys(i).reduce(function(t,n){return t[n]=new Mae({name:n,message:i[n]}),t},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),pt={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Nu(i){let e;return e=ky(i)?gl(i):i,e}function gl(i){if(pt[i])return pt[i];if(pt.supplemental.likelySubtags){const t=i.split("-"),n=t[0],s=t.slice(1),o=function(i,e){const t=pt.supplemental.likelySubtags;for(let n=0;n<e.length;n++){let s=t[i+"-"+e[n]];if(s)return s}if(t[i])return t[i]}(n,s),r=o?function(i,e){const t=i.split("-"),n=t[0],s=t[1],o=t[2];return pt[i]||-1!==e.indexOf(o)&&pt[n+"-"+o]||-1!==e.indexOf(s)&&pt[n+"-"+s]||pt[n]}(o,s):null;if(r)return r}throw Iu.NoLocale.error(i)}const VT="decimal",vp="currency",Ry="accounting",ku="percent",vB="scientific",dr=".",Ou="en",HT="Formats-numberSystem-latn",Oy=/([#,0.]+)/g,Rae=/\xa4/g;function bB(i){return Oy.lastIndex=0,i.replace(Rae,"$").replace(Oy,"n").split(";")}function CB(i){return Oy.lastIndex=0,Oy.exec(i.split(";")[0])[0].split(dr)[0].split(",").slice(1).map(function(s){return s.length}).reverse()}function Oae(i,e){for(let t in e)t.startsWith("unitPattern")&&(i[t]=e[t].replace("{0}","n").replace("{1}","$"))}function Lae(i,e){const t=pt[i],n=t.numbers=t.numbers||{};n.symbols=n.symbols||{};for(let s in e)if("symbols-numberSystem-latn"===s)Object.assign(n.symbols,e[s]);else if(s.includes(HT)){const o=s.substr(0,s.indexOf(HT)),r=e[s].standard;n[o]={patterns:bB(r)},o===vp?(n[o].groupSize=CB((e[VT+HT]||e[s]).standard),Oae(n[o],e[s]),n[Ry]={patterns:bB(e[s][Ry]),groupSize:n[o].groupSize}):n[o].groupSize=CB(r)}else"currencies"===s&&(n.currencies=e[s])}const wB={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Fae=/y+/g,Vae=[["dateFormats","short"]],TB={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function Bae(i){let e=[],t=Object.getOwnPropertyNames(i);for(let n=0;n<t.length;n++)e.push(i[t[n]]);return e}function Ly(i,e){const t={};for(let n in i){let s=t[n]={};for(let o in i[n]){let r=i[n][o];s[o]=e?r:Bae(r)}}return t}function Hae(i,e){const t=pt[i].calendar;t.days=Ly(e.days),t.months=Ly(e.months),t.quarters=Ly(e.quarters),t.dayPeriods=Ly(e.dayPeriods,!0),t.eras=function(i){const e={},t=e.format={},n={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let s in i)t[n[s]]=i[s];return e}(e.eras)}function jae(i,e){const t=pt[i].calendar,n={};for(let s in e){const[o,r="wide"]=s.split("-"),a=n[o]||{},l=e[s].displayName;!l||(a[r]=l,n[o]=a)}t.dateFields=n}function SB(i,e){const t=[];for(let n=0;n<i.length;n++){let s=i[n],o=e;for(let r=0;r<s.length;r++)o=o[s[r]];t.push(o)}return t.join(" ")}function Uae(i,e){const t=pt[i].calendar,n=t.patterns={};n.d=SB(Vae,e).replace(Fae,"y");for(let o in TB)n[o]=SB(TB[o],e);for(let o in wB)n[o]=wB[o];const s=e.dateTimeFormats;t.dateTimeFormats={full:s.full,long:s.long,medium:s.medium,short:s.short,availableFormats:s.availableFormats},t.timeFormats=e.timeFormats,t.dateFormats=e.dateFormats}function $ae(i,e){const t=pt[i].calendar=pt[i].calendar||{};for(let n in e)"timeZoneNames"===n?(t.gmtFormat=e[n].gmtFormat,t.gmtZeroFormat=e[n].gmtZeroFormat):"calendars"===n&&e[n].gregorian?(Uae(i,e[n].gregorian),Hae(i,e[n].gregorian)):"fields"===n&&jae(i,e.fields)}function Fy(i){if(i.territory)return i.territory;const t=i.identity;let n;return n=t&&t.territory?t.territory:function(i,e){const t=pt.supplemental.likelySubtags;let n=i.split("-");if(t){const o=t[i]||t[n[0]];o&&(n=o.split("-"))}if(e)for(let o=n.length-1;o>=1;o--){const r=n[o];(r===e.variant||r===e.script)&&n.splice(o,1)}const s=n.length;if(s>1)return n[s-1].toUpperCase()}(i.name,t),i.territory=n,n}const jT="duration-millisecond",Kae=/\{0\}\s?/;function UT(i){return(i["unitPattern-count-one"]||i["unitPattern-count-other"]).replace(Kae,"")}function Yae(i,e){i.calendar.dateFields.millisecond={narrow:UT(e.narrow[jT]),short:UT(e.short[jT]),wide:UT(e.long[jT])}}function Qae(i,e){for(let t in e)"numbers"===t?Lae(i,e[t]):"dates"===t&&$ae(i,e[t])}function DB(i,e){const{type:t,nameType:n,standAlone:s,lower:o}=e,l=(o?"lower-":"")+n,c=Nu(i).calendar[t][s?"stand-alone":"format"];let u=c[l];return!u&&o&&(u=c[l]=function(i){return Array.isArray(i)?function(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].toLowerCase());return e}(i):function(i){const e={};for(let t in i)e[t]=i[t].toLowerCase();return e}(i)}(c[n])),u}function $T(i){const e=i.split("-"),t=parseInt(e[0],10),n=parseInt(e[1],10)-1,s=parseInt(e[2],10);return new Date(t,n,s)}const{NoCurrency:nle,NoCurrencyDisplay:ile,NoSupplementalCurrency:sle,NoCurrencyRegion:ole,NoValidCurrency:rle}=Iu,GT="symbol",AB={"001":"USD",150:"EUR"};function MB(i,e,t){const s=Nu(i).numbers.currencies;if(!s){if(t)throw nle.error();return}const o=s[e];if(o)return o;if(t)throw ile.error()}function lle(i,e){return e.length-i.length}function PB(i,e){const t=Nu(i),n=t.numbers;if(!n.localeCurrency){const s=function(i,e=!0){if(AB[i])return AB[i];const t=pt.supplemental.currencyData;if(!t){if(e)throw sle.error();return}const n=t.region[i];if(n)return function(i){let e,t,n,s;for(let o=0;o<i.length;o++){const r=i[o],a=Object.keys(r)[0],l=r[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){const c=$T(l._from),u=$T(l._to);(!t||t.to<u||t.from<c)&&(e=a,t={from:c,to:u})}}else{const c=$T(l._from);(!s||s<c)&&(n=a,s=c)}}return n||e}(n);if(e)throw ole.error(i)}(Fy(t),e);if(!s&&e)throw rle.error(t.name);n.localeCurrency=s}return n.localeCurrency}const WT=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:fle,NoFirstDay:mle}=Iu;function IB(i){const e=Nu(i);if(!isNaN(e.firstDay))return e.firstDay;const t=pt.supplemental.weekData;if(!t)throw fle.error();const n=t.firstDay[Fy(e)]||t.firstDay["001"];if(!n)throw mle.error();return e.firstDay=WT.indexOf(n),e.firstDay}const{NoWeekData:gle}=Iu;function NB(i){return 1/i==-1/0}function kB(i,e={}){return e.currency||(e.currency=PB(i,!0)),function(i,e){const{value:t,currency:n,currencyDisplay:s=GT}=e;if("code"===s)return n;const o=MB(i,n,!0);let r;return r=s===GT?o["symbol-alt-narrow"]||o[GT]:void 0===t||1!==t?o["displayName-count-other"]:o["displayName-count-one"],r}(i,e)}function RB(i,e,t,n,s){const o=s.numbers.symbols,r=i.indexOf(o.decimal),a=n.groupSize.slice();let l=a.shift(),c=-1!==r?r:t+1,u=i.substring(e,c),h=i;const d=u.length;if(d>=l){let p=d,f=[];for(;p>-1;){let m=u.substring(p-l,p);m&&f.push(m),p-=l;let g=a.shift();if(l=void 0!==g?g:l,0===l){m=u.substring(0,p),m&&f.push(m);break}}u=f.reverse().join(o.group),h=i.substring(0,e)+u+i.substring(c)}return h}function KT(i){return i===vp||i===Ry}function Wn(i,e=2,t=!1){const n=e-String(i).length;let s=i;if(n>0){const o=new Array(n+1).join("0");s=t?i+o:o+i}return s}function xp(i,e){let t=i,n=e||0;return t=t.toString().split("e"),t=Math.round(Number(t[0]+"e"+(t[1]?Number(t[1])+n:n))),t=t.toString().split("e"),t=Number(t[0]+"e"+(t[1]?Number(t[1])-n:-n)),t.toFixed(Math.min(n,20))}const Cle=/0+$/;function Dle(i,e,t){const n=t.numbers.symbols,{style:s}=e,o=KT(s);if(s===vB)return(void 0!==e.minimumFractionDigits?i.toExponential(e.minimumFractionDigits):i.toExponential()).replace(dr,n.decimal);let a,r=i;o&&(e.value=r,a=kB(t,e)),s===ku&&(r*=100,a=n.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function(i){let{minimumFractionDigits:e,maximumFractionDigits:t,style:n}=i;const s=KT(n);let o;return s&&(o=function(i){let e=2,t=2;const n=((pt.supplemental.currencyData||{}).fractions||{})[i];return n&&n._digits&&(t=e=parseInt(n._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:t}}(i.currency)),void 0===e&&(e=s?o.minimumFractionDigits:0),void 0===t&&(t=n===ku?Math.max(e,0):s?Math.max(e,o.maximumFractionDigits):Math.max(e,3)),{minimumFractionDigits:e,maximumFractionDigits:t}}(e);r=xp(r,c);const u=r<0,h=NB(i),d=r.split(dr);let p=d[0],f=Wn(d[1]?d[1].replace(Cle,""):"",l,!0);u&&(p=p.substring(1)),e.minimumIntegerDigits&&(p=Wn(p,e.minimumIntegerDigits));let g,m=!1!==e.useGrouping?RB(p,0,p.length,e,t):p;if(f&&(m+=n.decimal+f),o&&"name"===e.currencyDisplay)g=function(i,e){const t=i.numbers.currency;let n=1!==e?t["unitPattern-count-other"]:t["unitPattern-count-one"];return e<0&&(n=n.replace("n","-n")),n}(t,i);else{const x=e.patterns;g=u||h?x[1]||"-"+x[0]:x[0]}return"n"!==g||u?function(i,e,t){let n="";for(let s=0,o=e.length;s<o;s++){let r=e.charAt(s);n+="n"===r?i:"$"===r||"%"===r?t:r}return n}(m,g,a):m}const Ele=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function LB(i,e){const t=i.format;-1!==t.indexOf("%")&&(i.style=ku,i.symbol=e.numbers.symbols.percentSign,i.number*=100),-1!==t.indexOf("$")&&(i.style=vp,i.symbol=kB(e))}function FB(i){let e=i.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){const t=i.literals=[];i.format=e.replace(Ele,function(n){const s=n.charAt(0).replace("\\",""),o=n.slice(1).replace(s,"");return t.push(o),"__??__"})}}const Mle=/(\.(?:[0-9]*[1-9])?)0+$/g,Ple=/\.$/,Ile=/,/g;function VB(i,e,t){let n;return n=-1===i&&-1!==e?e:-1!==i&&-1===e?i:t?Math.min(i,e):Math.max(i,e),n}function Hle(i,e,t){const n={negative:i<0,number:Math.abs(i),negativeZero:NB(i),format:e};return function(i){let{number:e,format:t}=i;if(t=t.split(";"),(i.negative||i.negativeZero)&&t[1])t=t[1],i.hasNegativeFormat=!0;else if(0===e){const n=t[2];t=n||t[0],n&&function(i){return-1===i.indexOf("#")&&-1===i.indexOf("0")}(n)&&(i.constant=n)}else t=t[0];i.format=t}(n),n.constant?n.constant:(FB(n),LB(n,t),function(i){i.hasGroup=i.format.indexOf(",")>-1,i.hasGroup&&(i.format=i.format.replace(Ile,""))}(n),function(i){let{number:e,format:t}=i,n=t.indexOf(dr);if(-1!==n){const s=t.lastIndexOf("0")-n,o=t.lastIndexOf("#")-n,r=s>-1,a=o>-1;let l=e.toString().split("e");l=l[1]?xp(e,Math.abs(l[1])):l[0],l=l.split(dr)[1]||"";let c=l.length,u=-1;r||a?r&&s>o?c=s:o>s&&(a&&c>o?c=o:r&&c<s&&(c=s),u=r?s:0):(i.format=t.substring(0,n)+t.substring(n+1),n=-1,c=0),c>-1&&(e=xp(e,c),u>-1&&(e=function(i,e){let t;return t=0===e?Mle:new RegExp(`(\\.[0-9]{${e}}[1-9]*)0+$`,"g"),i.replace(t,"$1").replace(Ple,"")}(e,u)))}else e=xp(e);i.negative&&-1*e>=0&&!i.negativeZero&&(i.negative=!1),i.number=e,i.decimalIndex=n}(n),function(i){const e=i.format;let t=e.indexOf("#"),n=e.indexOf("0"),s=VB(t,n,!0);t=e.lastIndexOf("#"),n=e.lastIndexOf("0");let o=VB(t,n);s===e.length&&(o=s),i.start=s,i.end=o,i.lastZeroIndex=n}(n),function(i,e){let t=i.number;return-1!==i.start&&(t=function(i,e){const{start:t,end:n,negative:s,negativeZero:o,format:r,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:c,hasGroup:u}=i;let h=i.number;const d=h.toString().split(dr),p=r.length,f=d[0],m=d[1]||"",g=f.length;let v="";h=r.substring(0,t),(s||o)&&!c&&(h+="-");for(let x=t;x<p;x++){let S=r.charAt(x);if(-1===a){if(n-x<g){h+=f;break}}else if(-1!==l&&l<x&&(v=""),a-x<=g&&a-x>-1&&(h+=f,x=a),a===x){h+=(m?e.numbers.symbols.decimal:"")+m,x+=n-a+1;continue}"0"===S?(h+=S,v=S):"#"===S&&(h+=v)}return u&&(h=RB(h,t+(s&&!c?1:0),Math.max(n,g+t),e.numbers.decimal,e)),n>=t&&(h+=r.substring(n+1)),h}(i,e),t=function(i,e,t){let n=i;if(e===vp||e===ku){n="";for(let s=0,o=i.length;s<o;s++){let r=i.charAt(s);n+="$"===r||"%"===r?t:r}}return n}(t,i.style,i.symbol),t=function(i,e){let t=i;if(e){const n=e.length;for(let s=0;s<n;s++)t=t.replace("__??__",e[s])}return t}(t,i.literals)),t}(n,t))}const jle=/^(n|c|p|e|a)(\d*)$/i;function BB(i){let e;return e=ky(i)?function(i){const e=jle.exec(i);if(e){const t={style:VT};let n=e[1].toLowerCase();return"c"===n?t.style=vp:"a"===n?t.style=Ry:"p"===n?t.style=ku:"e"===n&&(t.style=vB),e[2]&&(t.minimumFractionDigits=t.maximumFractionDigits=parseInt(e[2],10)),t}}(i):i,e}function zB(i,e="n",t=Ou){if(null==i)return"";if(!isFinite(i))return String(i);const n=gl(t),s=BB(e);let o;return o=s?Dle(i,Object.assign({},n.numbers[s.style||VT],s),n):Hle(i,e,n),o}function YT(i){return"number"==typeof i}const $le=/[eE][-+]?[0-9]+/,HB=/\u00A0/g;function jB(i,e){if(e.length>1){const t=(e[1]||"").replace("$","").split("n");if(i.indexOf(t[0])>-1&&i.indexOf(t[1])>-1)return i.replace(t[0],"").replace(t[1],"")}}const Yle=/\{(\d+)}/g;function QT(i){const e=arguments;return i.replace(Yle,(t,n)=>e[parseInt(n,10)+1])}const UB=[2,1,5,3,4],nce={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},ice={numeric:1,"2-digit":2,short:3,long:4,narrow:5},sce=/[hHmsSzZoOvVxX]/,$B=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(i){return i.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],GB={e:"c",E:"c",M:"L",Q:"q"},XT={},Lu={};function ZT(i){return XT[i]||(XT[i]=new RegExp(i+"+")),XT[i]}function Vy(i){const e=[];let t=i.charAt(0),n=t;for(let s=1;s<i.length;s++){let o=i.charAt(s);o===n?t+=o:(e.push(t),t=n=o)}return e.push(t),e}function JT(i,e){const t=i.length;let s,o,n=-Number.MAX_VALUE;for(let r in e){const a=[];let l=r.replace("v","z"),c=0;for(let u=0;u<t;u++){const h=i[u];let p=(ZT(h[0]).exec(l)||[])[0];if(p){if(l=l.replace(p,""),p.length!==h.length){let f=Math.max(Math.min(UB[p.length]-UB[h.length],2),-2);c-=nce[f]}}else c-=120;if(a.push(p),c<n)break}l.length&&(c-=20*Vy(l).length),c>n&&(n=c,s=a,o=e[r])}o=o.replace("v","z");for(let r=0;r<t;r++){const a=s[r];if(a&&a!==i[r]){const l=s[r][0];o=o.replace(ZT(l),i[r]),GB[l]&&(o=o.replace(ZT(GB[l]),i[r]))}}return o}function eS(i,e){const t=e.calendar;let n;if(ky(i))n=t.patterns[i]?t.patterns[i]:i;else if(i){if(i.pattern)return i.pattern;let s=i.skeleton;s||(i.datetime?n=QT(t.dateTimeFormats[i.datetime],t.timeFormats[i.datetime],t.dateFormats[i.datetime]):i.date?n=t.dateFormats[i.date]:i.time?n=t.timeFormats[i.time]:s=function(i){let e=[];for(let t=0;t<$B.length;t++){let n=$B[t],o=i[n.key];if(o){let r=n.specifier||n.getSpecifier(i);e.push(r.repeat(ice[o]))}}return e.join("")}(i)),s&&(n=function(i,e){const t=e.calendar.dateTimeFormats.availableFormats;if(t[i])return t[i];if(Lu[e.name]&&Lu[e.name][i])return Lu[e.name][i];const n=i.search(sce);let s;if(n>0){const o=i.substr(0,n),r=i.substr(n);s=QT(e.calendar.dateTimeFormats.short,t[r]||JT(Vy(r),t),t[o]||JT(Vy(o),t))}else s=JT(Vy(i),t);return function(i,e,t){Lu[t]||(Lu[t]={}),Lu[t][i]=e}(i,s,e.name),s}(s,e))}return n||(n=t.patterns.d),n}function WB(i){let e;return i<=3?e="abbreviated":4===i?e="wide":5===i?e="narrow":6===i&&(e="short"),e}function Us(i,e,t,n,s){return DB(i,{type:e,nameType:WB(t),standAlone:n,lower:s})}function qB(i){return"function"==typeof i}function tS(i){return Boolean(i)&&qB(i.getTime)&&qB(i.getMonth)}const By="hour",zy="zone",nS="weekday",YB="quarter",cce={G:"era",y:"year",q:YB,Q:YB,M:"month",L:"month",d:"day",E:nS,c:nS,e:nS,h:By,H:By,k:By,K:By,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:zy,X:zy,z:zy,Z:zy},wp=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function QB(i,e,t,n){return e<=2?Wn(i+1,e):Us(t,"months",e,n)[i]}function XB(i,e,t,n){const s=Math.floor(i.getMonth()/3);return e<3?s+1:Us(t,"quarters",e,n)[s]}function Hy(i,e,t){const{shortHours:n,optionalMinutes:s,separator:o,localizedName:r,zZeroOffset:a}=t,l=i.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0;let d=c+(n?u[0]:Wn(u[0],2));return(h||!s)&&(d+=(o?":":"")+Wn(h,2)),r&&(d=QT(0===l?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,d)),d}function ZB(i,e,t,n){let s;return s=e<3?function(i,e,t){const n=IB(t);let s;return s=i<n?7-n+i:i-n,s+1}(i.getDay(),0,t):Us(t,"days",e,n)[i.getDay()],s}const At={};function JB(i,e,t=Ou){if(!tS(i))return null==i?"":i;const n=gl(t);return eS(e,n).replace(wp,function(o){let a,r=o.length;return a=o.includes("'")||o.includes('"')?o.slice(1,r-1):At[o[0]](i,r,n),a})}function e3(i,e,t){const n=i.getTimezoneOffset(),s=new Date(i.getTime()+6e4*(e-t)),o=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(o-n))}At.d=function(i,e){return Wn(i.getDate(),e)},At.E=function(i,e,t){return Us(t,"days",e)[i.getDay()]},At.M=function(i,e,t){return QB(i.getMonth(),e,t,!1)},At.L=function(i,e,t){return QB(i.getMonth(),e,t,!0)},At.y=function(i,e){let t=i.getFullYear();return 2===e&&(t%=100),Wn(t,e)},At.h=function(i,e){return Wn(i.getHours()%12||12,e)},At.H=function(i,e){return Wn(i.getHours(),e)},At.k=function(i,e){return Wn(i.getHours()||24,e)},At.K=function(i,e){return Wn(i.getHours()%12,e)},At.m=function(i,e){return Wn(i.getMinutes(),e)},At.s=function(i,e){return Wn(i.getSeconds(),e)},At.S=function(i,e){const t=i.getMilliseconds();let n;return n=0!==t?Wn(String(t/1e3).split(".")[1].substr(0,e),e,!0):Wn("",e),n},At.a=function(i,e,t){return Us(t,"dayPeriods",e)[i.getHours()<12?"am":"pm"]},At.z=function(i,e,t){return Hy(i,t,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},At.Z=function(i,e,t){return Hy(i,t,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},At.x=function(i,e,t){return Hy(i,t,{optionalMinutes:1===e,separator:3===e||5===e})},At.X=function(i,e,t){return Hy(i,t,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},At.G=function(i,e,t){let n=i.getFullYear()>=0?1:0;return Us(t,"eras",e)[n]},At.e=ZB,At.c=function(i,e,t){return ZB(i,e,t,!0)},At.q=function(i,e,t){return XB(i,e,t,!0)},At.Q=XB;const dce=/([+|-]\d{1,2})(:?)(\d{2})?/,pce=/^\/Date\((.*?)\)\/$/,fce=/[+-]\d*/,mce={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},gce=/\d+/,yce=/^ */,_ce=/ *$/,vce=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],n3=["G","g","F","Y","y","M","m","D","d","y","T","t"];function os(i,e,t){return!(i>=e&&i<=t)}function yn(i,e){let{format:t,idx:n}=e,s=0;for(;t[n]===i;)s++,n++;return s>0&&(n-=1),e.idx=n,s}function xo(i,e){let t=i?mce[i]||new RegExp("^\\d{1,"+i+"}"):gce,n=e.value.substr(e.valueIdx,i).match(t);return n?(n=n[0],e.valueIdx+=n.length,parseInt(n,10)):null}function yl(i,e,t){let o,r,c,n=0,s=i.length,a=0,l=0;for(;n<s;n++)o=i[n],r=o.length,c=e.value.substr(e.valueIdx,r),t&&(c=c.toLowerCase()),c===o&&r>a&&(a=r,l=n);return a?(e.valueIdx+=a,l+1):null}function iS(i){let e=!1;return i.value.charAt(i.valueIdx)===i.format[i.idx]&&(i.valueIdx++,e=!0),e}function jy(i,e,t){const{shortHours:n,noSeparator:s,optionalMinutes:o,localizedName:r,zLiteral:a}=t;if(i.UTC=!0,a&&"Z"===i.value.charAt(i.valueIdx))return i.valueIdx++,!1;if(r&&!yl(function(i){const{gmtFormat:e,gmtZeroFormat:t}=i;if(!e)throw Iu.NoGMTInfo.error();return[e.replace("{0}","").toLowerCase(),t.replace("{0}","").toLowerCase()]}(e.calendar),i,!0))return!0;const l=dce.exec(i.value.substr(i.valueIdx,6));if(!l)return!r;const c=l[1],u=l[3],h=parseInt(c,10),d=l[2];let p=parseInt(u,10);if(isNaN(h)||!n&&3!==c.length||!o&&isNaN(p)||s&&d||(isNaN(p)&&(p=null),os(h,-12,13)||p&&os(p,0,59)))return!0;i.valueIdx+=l[0].length,i.hoursOffset=h,i.minutesOffset=p}function i3(i,e,t){const n=yn(i,e),s=Us(t,"months",n,"L"===i,!0),o=n<3?xo(2,e):yl(s,e,!0);if(null===o||os(o,1,12))return!0;e.month=o-1}function s3(i,e,t){const n=yn(i,e),s=Us(t,"days",n,"c"===i,!0);let o=n<3?xo(1,e):yl(s,e,!0);if(!o&&0!==o||os(o,1,7))return!0}const Nt={};function wce(i,e){return`${yce.exec(e)[0]}${i}${_ce.exec(e)[0]}`}function Tce(i,e,t){let n=eS(e,t).split("");const s={format:n,idx:0,value:wce(i,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},o=n.length;let r=!1;for(;s.idx<o;s.idx++){let a=n[s.idx];if(r)"'"===a&&(r=!1),iS(s);else if(Nt[a]){if(Nt[a](s,t))return null}else if("'"===a)r=!0,iS(s);else if(!iS(s))return null}return s.valueIdx<i.length?null:function(i){let{year:e,month:t,day:n,hours:s,minutes:o,seconds:r,milliseconds:a,pmHour:l,UTC:c,hoursOffset:u,minutesOffset:h}=i;const d=null!==s||null!==o||r||null,p=new Date;let f;return null===e&&null===t&&null===n&&d?(e=p.getFullYear(),t=p.getMonth(),n=p.getDate()):(null===e&&(e=p.getFullYear()),null===n&&(n=1)),l&&s<12&&(s+=12),c?(u&&(s+=-u),h&&(o+=-h*(u<0?-1:1)),f=new Date(Date.UTC(e,t,n,s,o,r,a))):(f=new Date(e,t,n,s,o,r,a),function(i,e){!e&&23===i.getHours()&&i.setHours(i.getHours()+2)}(f,s)),e<100&&f.setFullYear(e),f.getDate()!==n&&void 0===c?null:f}(s)||null}Nt.d=function(i){yn("d",i);const e=xo(2,i);if(null===e||os(e,1,31))return!0;null===i.day&&(i.day=e)},Nt.E=function(i,e){if(null===yl(Us(e,"days",yn("E",i),!1,!0),i,!0))return!0},Nt.M=function(i,e){return i3("M",i,e)},Nt.L=function(i,e){return i3("L",i,e)},Nt.y=function(i){const e=yn("y",i);let t=xo(1===e?void 0:e,i);if(null===t)return!0;if(2===e){const n=(new Date).getFullYear();t=n-n%100+t,t>2029&&(t-=100)}i.year=t},Nt.h=function(i){yn("h",i);let e=xo(2,i);if(12===e&&(e=0),null===e||os(e,0,11))return!0;i.hours=e},Nt.K=function(i){yn("K",i);let e=xo(2,i);if(null===e||os(e,0,11))return!0;i.hours=e},Nt.a=function(i,e){let n=Us(e,"dayPeriods",yn("a",i),!1,!0);const s=yl([n.pm],i,!0);if(!s&&!yl([n.am],i,!0))return!0;i.pmHour=s},Nt.H=function(i){yn("H",i);const e=xo(2,i);if(null===e||os(e,0,23))return!0;i.hours=e},Nt.k=function(i){yn("k",i);let e=xo(2,i);if(null===e||os(e,1,24))return!0;i.hours=24===e?0:e},Nt.m=function(i){yn("m",i);const e=xo(2,i);if(null===e||os(e,0,59))return!0;i.minutes=e},Nt.s=function(i){yn("s",i);const e=xo(2,i);if(null===e||os(e,0,59))return!0;i.seconds=e},Nt.S=function(i){const e=yn("S",i),t=i.value.substr(i.valueIdx,e);let n=null;if(isNaN(parseInt(t,10))||(n=parseFloat("0."+t,10),n=xp(n,3),n*=1e3,i.valueIdx+=e),null===n||os(n,0,999))return!0;i.milliseconds=n},Nt.z=function(i,e){const n=yn("z",i)<4,s=jy(i,e,{shortHours:n,optionalMinutes:n,localizedName:!0});if(s)return s},Nt.Z=function(i,e){const t=yn("Z",i),n=jy(i,e,{noSeparator:t<4,zLiteral:5===t,localizedName:4===t});if(n)return n},Nt.x=function(i,e){const t=yn("x",i),n=jy(i,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t});if(n)return n},Nt.X=function(i,e){const t=yn("X",i),n=jy(i,e,{noSeparator:3!==t&&5!==t,optionalMinutes:1===t,zLiteral:!0});if(n)return n},Nt.G=function(i,e){const n=Us(e,"eras",yn("G",i),!1,!0);if(null===yl([n[0],n[1]],i,!0))return!0},Nt.e=function(i,e){return s3("e",i,e)},Nt.c=function(i,e){return s3("c",i,e)};const Mce={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},o3="literal";function sS(i,e){const t=i[i.length-1];t&&t.type===o3?t.pattern+=e:i.push({type:o3,pattern:e})}function Pce(i){return"h"===i||"K"===i}const Nce=/\{(\d+)(:[^}]+)?\}/g;function r3(i,e,t){if(e){if(tS(i))return JB(i,e,t);if(YT(i))return zB(i,e,t)}return null!=i?i:""}const Rce={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698299,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},pr="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",a3={NoCurrency:`Solution: ${pr}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${pr}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${pr}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${pr}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${pr}#toc-no-first-day`,NoGMTInfo:`Solution: ${pr}#toc-no-gmt-info`,NoLocale:`Solution: ${pr}#toc-no-locale`,NoValidCurrency:`Solution: ${pr}#toc-no-valid-currency`,NoWeekData:`Solution: ${pr}#toc-no-week-data`};function Mi(i){return function(...e){try{return i.apply(null,e)}catch(t){throw t.message=function(i){const e=i.message,t=a3[Object.keys(a3).filter(n=>0===e.indexOf(n))[0]];return t?`${e} ${t}`:e}(t),t}}}const Oce=Mi(DB),Lce=Mi(function(i,e=Ou){const n=gl(e).calendar.dateFields;if(!n)throw Iu.NoDateFieldNames.error();const s=n[i.type]||{};return s[i.nameType]||s.wide}),Fce=Mi(IB),Vce=Mi(function(i,e,t){return i.replace(Nce,function(n,s,o){return r3(e[parseInt(s,10)],o?o.substring(1):"",t)})}),Bce=Mi(JB),zce=Mi(zB),Hce=(Mi(function(){const i=arguments.length;for(let e=0;e<i;e++){let t=arguments[e];if(t.main){let n=Object.keys(t.main)[0],s=t.main[n],o=pt[n]=pt[n]||{};s.units?Yae(o,s.units):(o.name=o.name||n,o.identity=o.identity||s.identity,Fy(o),Qae(n,s))}else if(t.supplemental)if(t.supplemental.weekData)pt.supplemental.weekData={firstDay:t.supplemental.weekData.firstDay,weekendStart:t.supplemental.weekData.weekendStart,weekendEnd:t.supplemental.weekData.weekendEnd};else if(t.supplemental.likelySubtags)pt.supplemental.likelySubtags=Object.assign(pt.supplemental.likelySubtags,t.supplemental.likelySubtags);else if(t.supplemental.currencyData){const n=pt.supplemental.currencyData;n.region=Object.assign(n.region||{},t.supplemental.currencyData.region),n.fractions=Object.assign(n.fractions||{},t.supplemental.currencyData.fractions)}}}),Mi(function(i){return Nu(i).numbers.symbols})),jce=Mi(function(i,e,t=Ou){if(!i)return null;if(tS(i))return i;let n=String(i).trim(),s=function(i){if(i&&0===i.indexOf("/D")){let e=pce.exec(i);if(e){e=e[1];let t=fce.exec(e.substring(1));return e=new Date(parseInt(e,10)),t&&(t=function(i){const e="-"===i.substr(0,1)?-1:1;let t=i.substring(1);return t=60*parseInt(t.substr(0,2),10)+parseInt(t.substring(2),10),e*t}(t[0]),e=e3(e,e.getTimezoneOffset(),0),e=e3(e,0,-1*t)),e}}}(n);if(s)return s;const o=gl(t);let r=e||function(i){const e=[],t=i.patterns,n=n3.length;for(let s=0;s<n;s++)e.push(t[n3[s]]);return e.concat(vce)}(o.calendar);r=Array.isArray(r)?r:[r];const a=r.length;for(let l=0;l<a;l++)if(s=Tce(n,r[l],o),s)return s;return s}),Uce=Mi(function(i,e=Ou,t={}){if(!i&&0!==i)return null;if(YT(i))return i;const n=gl(e),s=n.numbers.symbols;let a,o=i.toString(),r=t||{};if(ky(t)&&(r={format:t},FB(r),o=function(i,e){const t=e.literals;let n=i;if(t)for(let s=0;s<t.length;s++)n=n.replace(t[s],"");return n}(o,r),LB(r,n)),(r.style===ku||o.indexOf(s.percentSign)>-1)&&(o=o.replace(s.percentSign,""),a=!0),$le.test(o))return o=parseFloat(o.replace(s.decimal,dr)),isNaN(o)?null:o;const{negative:l,number:c}=function(i,e,t){const n=BB(t)||{};let r,s=KT(n.style),o=i;const a=n.currency||PB(e,s);if(a){const l=function(i,e,t=!0){const n=MB(i,e,t);if(n){if(!n.displays){const s=[e];for(let o in n)s.push(n[o]);s.sort(lle),n.displays=s}return n.displays}}(e,a,s);if(l)for(let c=0;c<l.length;c++){let u=l[c];if(o.includes(u)){o=o.replace(u,""),s=!0;break}}if(s){const c=jB(o,e.numbers.currency.patterns)||jB(o,e.numbers.accounting.patterns);c&&(r=!0,o=c)}}return{number:o,negative:r}}(o,n,r);o=String(c).trim();const u=o.indexOf("-");if(u>0)return null;let h=u>-1;return h=void 0!==l?l:h,o=o.replace("-","").replace(HB," ").split(s.group.replace(HB," ")).join("").replace(s.decimal,dr),o=parseFloat(o),isNaN(o)?o=null:h&&(o*=-1),o&&a&&(o=function(i){const e=String(i),t=e.indexOf(dr);let s=i/Math.pow(10,2);return-1===t||String(s).length<=e.length+2?s:parseFloat(s.toFixed(e.length-t+1+2))}(o)),o}),$ce=Mi(function(i,e=Ou){const n=eS(i,gl(e)),s=[];let o=wp.lastIndex=0,r=wp.exec(n);for(;r;){let a=r[0];if(o<r.index&&sS(s,n.substring(o,r.index)),a.startsWith('"')||a.startsWith("'"))sS(s,a);else{const l=a[0],c=cce[l],u={type:c,pattern:a};"hour"===c&&(u.hour12=Pce(a));const h=Mce[c];if(h){const d=YT(h.minLength)?h.minLength:h.minLength[l],p=a.length;p>=d&&(u.names={type:h.type,nameType:WB(p),standAlone:h.standAlone===l})}s.push(u)}o=wp.lastIndex,r=wp.exec(n)}return o<n.length&&sS(s,n.substring(o)),s}),Gce=Mi(r3),Wce=Mi(function(i){const e=Nu(i);if(e.weekendRange)return e.weekendRange;const t=pt.supplemental.weekData;if(!t)throw gle.error();const n=Fy(e),o=t.weekendEnd[n]||t.weekendEnd["001"];return e.weekendRange={start:WT.indexOf(t.weekendStart[n]||t.weekendStart["001"]),end:WT.indexOf(o)},e.weekendRange}),qce=/_/g;let fr=(()=>{class i{constructor(){this.changes=new ue,pp(Rce)}notify(){this.changes.emit()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:function(t){let n=null;return n=t?new t:function(i){return new Yce(i)}(F(_i)),n},providedIn:"root"}),i})(),Yce=(()=>{class i extends fr{constructor(t){super(),this.localeId=t}get localeId(){return this.locale}set localeId(t){const n=t.replace(qce,"-");n!==this.locale&&(this.locale=n,this.notify())}format(t,...n){return Vce(t,n,this.localeId)}toString(t,n,s){return Gce(t,n,s||this.localeId)}formatDate(t,n,s){return Bce(t,n,s||this.localeId)}parseDate(t,n,s){return jce(t,n,s||this.localeId)}parseNumber(t,n,s){return Uce(t,s||this.localeId,n)}formatNumber(t,n,s){return zce(t,n,s||this.localeId)}dateFieldName(t,n){return Lce(t,n||this.localeId)}dateFormatNames(t,n){return Oce(n||this.localeId,t)}splitDateFormat(t,n){return $ce(t,n||this.localeId)}numberSymbols(t){return Hce(t||this.localeId)}firstDay(t){return Fce(t||this.localeId)}weekendRange(t){return Wce(t||this.localeId)}}return i.\u0275fac=function(t){return new(t||i)(F(_i))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const c3=["content"];function Jce(i,e){if(1&i&&(ie(0,"div",1),bn(1),se()),2&i){const t=ye();z("ngStyle",t.style),Q(1),za(" ",t.value," ")}}function eue(i,e){if(1&i&&Zt(0,"kendo-chart-crosshair-tooltip",1),2&i){const t=e.$implicit,n=ye();z("key",t)("popupSettings",n.popupSettings)}}function tue(i,e){}function nue(i,e){if(1&i&&ae(0,tue,0,0,"ng-template",5),2&i){const t=ye(2);z("ngTemplateOutlet",t.seriesTooltipTemplateRef)("ngTemplateOutletContext",t.seriesTooltipContext)}}function iue(i,e){}function sue(i,e){if(1&i&&ae(0,iue,0,0,"ng-template",5),2&i){const t=ye(2);z("ngTemplateOutlet",t.seriesSharedTooltipTemplateRef)("ngTemplateOutletContext",t.seriesSharedTooltipContext)}}function oue(i,e){if(1&i&&(ie(0,"div",3),ae(1,nue,1,2,void 0,4),ae(2,sue,1,2,void 0,4),se()),2&i){const t=ye();z("ngClass",t.popupClasses)("ngStyle",t.style),Q(1),z("ngIf",!t.shared),Q(1),z("ngIf",t.shared)}}function rue(i,e){1&i&&Zt(0,"span",6),2&i&&z("innerHTML",e.formattedValue,bf)}function aue(i,e){if(1&i&&(ie(0,"td"),Zt(1,"span",8),se()),2&i){const t=ye().$implicit;Q(1),yx("background-color",t.series.color)}}function lue(i,e){if(1&i&&(Jn(0),bn(1),ei()),2&i){const t=ye(2).$implicit;Q(1),Cs(t.series.name)}}function cue(i,e){1&i&&(Jn(0),bn(1,"\xa0"),ei())}function uue(i,e){if(1&i&&(ie(0,"td"),ae(1,lue,2,1,"ng-container",4),ae(2,cue,2,0,"ng-container",4),se()),2&i){const t=ye().$implicit;Q(1),z("ngIf",void 0!==t.series.name),Q(1),z("ngIf",void 0===t.series.name)}}function hue(i,e){}function due(i,e){if(1&i&&(ie(0,"tr"),ae(1,aue,2,2,"td",4),ae(2,uue,3,2,"td",4),ie(3,"td"),ae(4,hue,0,0,"ng-template",5),se(),se()),2&i){const t=e.$implicit,n=ye(),s=n.colorMarker,o=n.nameColumn;Q(1),z("ngIf",s),Q(1),z("ngIf",o),Q(2),z("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t)}}function pue(i,e){if(1&i&&(ie(0,"table"),ie(1,"tr"),ie(2,"th"),bn(3),se(),se(),ae(4,due,5,4,"tr",7),se()),2&i){const t=e.points,n=e.categoryText,s=e.colspan;Q(2),Mr("colspan",s),Q(1),za(" ",n," "),Q(1),z("ngForOf",t)}}const fue=["surface"];function mue(i,e){}function gue(i,e){if(1&i&&(ie(0,"div",6),ae(1,mue,0,0,"ng-template",7),se()),2&i){const t=ye();z("ngStyle",t.donutCenterStyle),Q(1),z("ngTemplateOutlet",t.donutCenterTemplate.templateRef)}}const yue=i=>({x:{location:i.pageX},y:{location:i.pageY}});function vue(i,e){for(let t=0;t<i.length;t++)if(e[i[t]])return!0;return!1}const u3=[{end:"panend",move:"panmove",start:"panstart"},{gesturechange:"pinchmove",gestureend:"pinchend",gesturestart:"pinchstart"},{press:"press"},{tap:"tap"}];class xue{constructor(e,t){this.hammerInstance=e,this.eventHandlers={},this.tap=this.tap.bind(this),this.press=this.press.bind(this),this.panstart=this.panstart.bind(this),this.panmove=this.panmove.bind(this),this.panend=this.panend.bind(this),this.pinchstart=this.pinchstart.bind(this),this.pinchmove=this.pinchmove.bind(this),this.pinchend=this.pinchend.bind(this),t&&this.bind(t)}tap(e){this.trigger("tap",e)}press(e){this.trigger("press",e)}panstart(e){delete this.previous,this.previous=this.trigger("start",e)}panmove(e){this.previous=this.trigger("move",e)}panend(e){this.trigger("end",e),delete this.previous}pinchstart(e){this.trigger("gesturestart",e)}pinchmove(e){this.trigger("gesturechange",e)}pinchend(e){this.trigger("gestureend",e)}trigger(e,t){const n=((i,e)=>{const t=i.pointers,n=t[0],s=n.pageX,o=n.pageY;let r=0;if(t.length>1){const a=t[0],l=t[1];r=Math.sqrt(Math.pow(a.pageX-l.pageX,2)+Math.pow(a.pageY-l.pageY,2))}return{distance:r,event:i.srcEvent,preventDefault:function(){i.preventDefault()},target:i.target,touches:t.map(yue),type:i.type,x:{delta:e?s-e.x.location:0,initialDelta:i.deltaX,location:s,startLocation:s-i.deltaX},y:{delta:e?o-e.y.location:0,initialDelta:i.deltaY,location:o,startLocation:o-i.deltaY}}})(t,this.previous);return this.eventHandlers[e]&&this.eventHandlers[e](n),n}bind(e={}){this.unbind(),this.eventHandlers=e;for(let t=0;t<u3.length;t++){const n=u3[t],s=Object.keys(n);if(vue(s,e))for(let o=0;o<s.length;o++){const r=n[s[o]];this.hammerInstance.on(r,this[r])}}}unbind(){this.hammerInstance&&this.hammerInstance.off(),this.eventHandlers={}}destroy(){this.hammerInstance&&(this.hammerInstance.destroy(),delete this.hammerInstance),delete this.eventHandlers}toggleDrag(e){this.toggle("pan",e)}toggleZoom(e){this.toggle("pinch",e)}toggle(e,t){this.hammerInstance&&this.hammerInstance.get(e).set({enable:t})}}const Tue=FR.prototype.options.labels.dateFormats,h3={milliseconds:"HH:mm:ss.SSS",seconds:{time:"medium"},minutes:{time:"short"},hours:{time:"short"},days:{skeleton:"Md"},weeks:{skeleton:"Md"},months:{skeleton:"yyMMM"},years:{skeleton:"y"}};Object.assign(Id.prototype.options.labels.dateFormats,h3),Object.assign(Tue,h3),QC.register(class{static create(e,t){if("undefined"!=typeof window){const n=window.Hammer;if(!n){if(Zh())throw new Error("Hammerjs is not loaded.Solution: http://www.telerik.com/kendo-angular-ui/components/charts/troubleshooting/#toc-hammerjs-is-not-loaded");return}const s=new n(e,{recognizers:[[n.Tap],[n.Pan],[n.Pinch],[n.Press,{time:0}]]});return new xue(s,t)}}});let d3=(()=>{class i{constructor(t){this.templateRef=t}}return i.\u0275fac=function(t){return new(t||i)(b(Vn,8))},i.\u0275dir=xt({type:i,selectors:[["","kendoChartDonutCenterTemplate",""]]}),i})();class Sue{constructor(e,t){this.sender=e,this.options=t}}let kt=(()=>{class i{constructor(){this.source=new _r,this.onItemChange$=this.source.asObservable()}notify(t){this.source.next(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function oS(i,e){for(const t in i){if(!i.hasOwnProperty(t))continue;const n=i[t].currentValue;void 0===n?delete e[t]:e[t]=n}}function rS(i){const e={};for(const t in i)!i.hasOwnProperty(t)||(e[t]=new B_(null,i[t],!1));return e}const p3=1e3/60;class aS{constructor(e,t){this.key=e,this.value=t}}let A=(()=>{class i{constructor(t){this.ngZone=t,this.store={},this.source=new uC({}),this.initSource()}initSource(){this.onFastChange$=this.source.asObservable(),this.onChange$=this.onFastChange$.pipe(ud(p3))}push(t){this.store=t,this.next()}notify(t){this.set(t.key,t.value),this.next()}set(t,n){let s=this.store;const o=t.split(".");let r=o.shift();for(;o.length>0;)s=s[r]=s[r]||{},r=o.shift();s[r]=n}next(){this.ngZone.runOutsideAngular(()=>{this.source.next(this.store)})}}return i.\u0275fac=function(t){return new(t||i)(F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Fu=(()=>{class i{constructor(t,n){this.configurationService=t,this.collectionService=n,this.options={},this.subscription=t.onFastChange$.subscribe(s=>{this.options=s,this.notify()})}ngOnChanges(t){const n=this.configurationService.store;oS(t,n),this.configurationService.push(n)}notifyChanges(t){this.ngOnChanges(rS(t))}ngOnDestroy(){this.subscription.unsubscribe()}notify(){!this.collectionService||this.collectionService.notify(new Sue(this,this.options))}}return i.\u0275fac=function(t){return new(t||i)(b(A),b(kt))},i.\u0275dir=xt({type:i,features:[Xs]}),i})(),W=(()=>{class i{constructor(t,n){if(this.configKey=t,this.configurationService=n,this.store={},void 0===t)throw new Error("Configuration key not set")}ngOnDestroy(){this.store=void 0,this.notify()}ngOnChanges(t){oS(t,this.store),this.notify()}notifyChanges(t){this.ngOnChanges(rS(t))}markAsVisible(){this.store.visible=!0,this.notify()}notify(){this.configurationService.notify(new aS(this.configKey,this.store))}}return i.\u0275fac=function(t){Lf()},i.\u0275dir=xt({type:i,features:[Xs]}),i})(),lS=(()=>{class i extends W{constructor(t){super("tooltip",t),this.configurationService=t,this.markAsVisible()}get seriesTooltipTemplateRef(){return this.seriesTooltipTemplate}}return i.\u0275fac=function(t){return new(t||i)(b(A))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-series-item-tooltip"]],contentQueries:function(t,n,s){if(1&t&&ti(s,Vn,5),2&t){let o;yt(o=_t())&&(n.seriesTooltipTemplate=o.first)}},inputs:{background:"background",border:"border",color:"color",font:"font",format:"format",padding:"padding",visible:"visible"},features:[P],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})();const f3=i=>void 0!==i&&!i;let Tp=(()=>{class i extends Fu{constructor(t,n){super(t,n),this.configurationService=t,this.collectionService=n}toggleVisibility(){this.options.visible=f3(this.options.visible),this.notify()}togglePointVisibility(t){const n=this.options.pointVisibility=this.options.pointVisibility||{};n[t]=f3(n[t]),this.notify()}get seriesTooltipTemplateRef(){if(this.seriesTooltip)return this.seriesTooltip.seriesTooltipTemplateRef}}return i.\u0275fac=function(t){return new(t||i)(b(A),b(kt))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-series-item"]],contentQueries:function(t,n,s){if(1&t&&ti(s,lS,5),2&t){let o;yt(o=_t())&&(n.seriesTooltip=o.first)}},inputs:{aggregate:"aggregate",autoFit:"autoFit",axis:"axis",border:"border",categoryAxis:"categoryAxis",categoryField:"categoryField",closeField:"closeField",color:"color",colorField:"colorField",connectors:"connectors",currentField:"currentField",dashType:"dashType",data:"data",downColor:"downColor",downColorField:"downColorField",dynamicHeight:"dynamicHeight",dynamicSlope:"dynamicSlope",errorHighField:"errorHighField",errorLowField:"errorLowField",explodeField:"explodeField",field:"field",fromField:"fromField",gap:"gap",highField:"highField",holeSize:"holeSize",line:"line",lowField:"lowField",lowerField:"lowerField",margin:"margin",maxSize:"maxSize",mean:"mean",meanField:"meanField",median:"median",medianField:"medianField",minSize:"minSize",missingValues:"missingValues",name:"name",neckRatio:"neckRatio",negativeColor:"negativeColor",negativeValues:"negativeValues",noteTextField:"noteTextField",opacity:"opacity",openField:"openField",outliersField:"outliersField",overlay:"overlay",padding:"padding",q1Field:"q1Field",q3Field:"q3Field",segmentSpacing:"segmentSpacing",size:"size",sizeField:"sizeField",spacing:"spacing",stack:"stack",startAngle:"startAngle",style:"style",summaryField:"summaryField",target:"target",toField:"toField",type:"type",upperField:"upperField",visible:"visible",visibleInLegend:"visibleInLegend",visibleInLegendField:"visibleInLegendField",visual:"visual",width:"width",whiskers:"whiskers",xAxis:"xAxis",xErrorHighField:"xErrorHighField",xErrorLowField:"xErrorLowField",xField:"xField",yAxis:"yAxis",yErrorHighField:"yErrorHighField",yErrorLowField:"yErrorLowField",yField:"yField",zIndex:"zIndex",errorBars:"errorBars",extremes:"extremes",highlight:"highlight",labels:"labels",markers:"markers",notes:"notes",outliers:"outliers",tooltip:"tooltip"},features:[gt([A]),P],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})();const Eue={horizontal:"fit",vertical:"fit"};let m3=(()=>{class i{constructor(t,n){this.popupService=t,this.localizationService=n,this.style={},this.popupRef=null}get active(){return null!==this.popupRef}show(t){const n=t.anchor.align,s=this.position(t.anchor.point);if(this.style=t.style,this.popupRef){const o=this.popupRef.popup.instance;o.offset=s,o.popupAlign=n}else this.popupRef=this.popupService.open(Object.assign({offset:s,popupAlign:n,animate:this.animate,content:this.templateRef,collision:Eue,positionMode:"absolute"},this.popupSettings)),this.localizationService.rtl&&this.popupRef.popupElement.setAttribute("dir","rtl"),this.onInit()}hide(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}onInit(){}ngOnDestroy(){this.hide()}position(t){if(!this.popupSettings||!this.popupSettings.appendTo)return t;const n=this.popupSettings.appendTo.element.nativeElement,s=n.getBoundingClientRect(),{scrollLeft:o,scrollTop:r}=this.scrollOffset(n);return{left:t.left-s.left-o,top:t.top-s.top-r}}scrollOffset(t){if(!t)return null;let n=t.scrollLeft,s=t.scrollTop,o=t.parentElement;for(;o;)n+=o.scrollLeft,s+=o.scrollTop,o=o.parentElement;return{scrollLeft:n,scrollTop:s}}}return i.\u0275fac=function(t){return new(t||i)(b(Pu),b(zo))},i.\u0275dir=xt({type:i}),i})();function g3(){if(Yi())return new hn(document.body)}let cS=(()=>{class i extends m3{constructor(t,n){super(t,n),this.animate=!1}show(t){super.show(t),this.value=t.value,this.popupRef.popup.changeDetectorRef.detectChanges()}}return i.\u0275fac=function(t){return new(t||i)(b(Pu),b(zo))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-crosshair-tooltip"]],viewQuery:function(t,n){if(1&t&&Ds(c3,7),2&t){let s;yt(s=_t())&&(n.templateRef=s.first)}},inputs:{key:"key",popupSettings:"popupSettings"},features:[gt([Pu,{provide:LT,useFactory:g3}]),P],decls:2,vars:0,consts:[["content",""],[1,"k-chart-tooltip","k-chart-crosshair-tooltip",3,"ngStyle"]],template:function(t,n){1&t&&ae(0,Jce,2,2,"ng-template",null,0,Xx)},directives:[Tm],encapsulation:2}),i})();const y3=["categoryAxis","valueAxis","xAxis","yAxis"];let Sp=(()=>{class i{constructor(){this.tooltipKeys=[],this.tooltipsMap={}}show(t){const n=this.crossahirTooltipComponents.toArray(),s=t.axisName,o=t.axisIndex;for(let r=0;r<n.length;r++)if(n[r].key===s+o){n[r].show(t);break}}hide(){const t=this.crossahirTooltipComponents.toArray();for(let n=0;n<t.length;n++)t[n].hide()}get active(){return this.tooltipKeys.length>0}createCrosshairTooltips(t){const n=this.mapTooltips(t),s=this.tooltipsMap;for(let o in s)n[o]||(this.removeTooltip(o),delete s[o]);for(let o in n)s[o]||(s[o]=n[o],this.tooltipKeys.push(o))}removeTooltip(t){const n=this.tooltipKeys;for(let s=0;s<n.length;s++)if(n[s]===t){n.splice(s,1);break}}mapTooltips(t){const n={};for(let s=0;s<y3.length;s++){const o=this.axesCrosshairTooltipOptions(t,y3[s]);for(let r=0;r<o.length;r++){const a=o[r];n[a.name+a.index]=a}}return n}axesCrosshairTooltipOptions(t,n){const s=[];if(t[n]){const o=[].concat(t[n]);for(let r=0;r<o.length;r++){const a=(o[r].crosshair||{}).tooltip;a&&a.visible&&s.push({index:r,name:n})}}return s}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-crosshair-tooltips-container"]],viewQuery:function(t,n){if(1&t&&Ds(cS,5),2&t){let s;yt(s=_t())&&(n.crossahirTooltipComponents=s)}},inputs:{popupSettings:"popupSettings"},decls:1,vars:1,consts:[[3,"key","popupSettings",4,"ngFor","ngForOf"],[3,"key","popupSettings"]],template:function(t,n){1&t&&ae(0,eue,1,2,"kendo-chart-crosshair-tooltip",0),2&t&&z("ngForOf",n.tooltipKeys)},directives:[kr,cS],encapsulation:2}),i})(),Uy=(()=>{class i{constructor(t){this.templateRef=t}}return i.\u0275fac=function(t){return new(t||i)(b(Vn,8))},i.\u0275dir=xt({type:i,selectors:[["","kendoChartSeriesTooltipTemplate",""]]}),i})(),$y=(()=>{class i{constructor(t){this.templateRef=t}}return i.\u0275fac=function(t){return new(t||i)(b(Vn,8))},i.\u0275dir=xt({type:i,selectors:[["","kendoChartSharedTooltipTemplate",""]]}),i})();class _3{constructor(e,t,n){this.value=e.value,this.category=e.category,this.categoryIndex=e.categoryIx,this.series=e.series,this.dataItem=e.dataItem,this.percentage=e.percentage,this.runningTotal=e.runningTotal,this.total=e.total,this.low=e.low,this.high=e.high,this.xLow=e.xLow,this.xHigh=e.xHigh,this.yLow=e.yLow,this.yHigh=e.yHigh,this.template=n,this.point=e,this.format=t}get formattedValue(){return this.format?this.point.formatValue(this.format):String(this.value)}}function uS(i,e){let t=i;for(;t&&t!==e;)t=t.parentNode;return!!t}let _l=(()=>{class i{setTemplate(t){this.template=t}getTemplate(t){return this.seriesTemplates&&this.seriesTemplates[t]?this.seriesTemplates[t]:this.template}setSeriesTemplates(t){this.seriesTemplates=t}setSharedTemplate(t){this.sharedTemplate=t}getSharedTemplate(){return this.sharedTemplate}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Dp=(()=>{class i extends m3{constructor(t,n,s,o){super(t,s),this.popupService=t,this.templateService=n,this.localizationService=s,this.ngZone=o,this.seriesTooltipContext={},this.seriesSharedTooltipContext={},this.animate=!0,this.wrapperClass="k-chart-tooltip-wrapper",this.leave=new ue,this.popupClasses={}}show(t){this.shared=t.shared,this.popupClasses=Object.assign({"k-chart-shared-tooltip":t.shared,"k-chart-tooltip":!0,[t.className]:!!t.className},this.classNames),t.shared?(this.seriesSharedTooltipTemplateRef=this.templateService.getSharedTemplate()||this.defaultSharedTooltipTemplate.templateRef,this.seriesSharedTooltipContext=this.sharedTemplateContext(t)):(this.seriesTooltipContext=new _3(t.point,t.format),this.seriesTooltipTemplateRef=this.pointTemplateRef(t.point)),super.show(t)}containsElement(t){if(this.popupRef)return uS(t,this.popupRef.popupElement)}sharedTemplateContext(t){const s=t.points.filter(a=>void 0!==a.series.name).length>0,o=t.series.length>1;let r=1;return s&&r++,o&&r++,{category:t.category,categoryText:t.categoryText,colorMarker:o,colspan:r,nameColumn:s,points:this.wrapPoints(t.points,t.format)}}pointTemplateRef(t){return this.templateService.getTemplate(t.series.index)||this.defaultSeriesTooltipTemplate.templateRef}wrapPoints(t,n){const s=[];for(let o=0;o<t.length;o++){const r=t[o],a=this.pointTemplateRef(r);s.push(new _3(r,((r.options||{}).tooltip||{}).format||n,a))}return s}onInit(){this.ngZone.runOutsideAngular(()=>{this.mouseleaveSubscription=this.popupRef.popupElement.addEventListener("mouseleave",t=>{this.leave.emit(t)})}),this.popupRef.popupElement.className+=` ${this.wrapperClass}`}hide(){this.mouseleaveSubscription&&(this.mouseleaveSubscription(),this.mouseleaveSubscription=null),super.hide()}}return i.\u0275fac=function(t){return new(t||i)(b(Pu),b(_l),b(zo),b(Ke))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-tooltip-popup"]],viewQuery:function(t,n){if(1&t&&(Ds(Uy,5),Ds($y,5),Ds(c3,7)),2&t){let s;yt(s=_t())&&(n.defaultSeriesTooltipTemplate=s.first),yt(s=_t())&&(n.defaultSharedTooltipTemplate=s.first),yt(s=_t())&&(n.templateRef=s.first)}},inputs:{animate:"animate",classNames:"classNames",popupSettings:"popupSettings",wrapperClass:"wrapperClass"},outputs:{leave:"leave"},features:[gt([Pu,{provide:LT,useFactory:g3}]),P],decls:4,vars:0,consts:[["content",""],["kendoChartSeriesTooltipTemplate",""],["kendoChartSharedTooltipTemplate",""],[3,"ngClass","ngStyle"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"k-chart-shared-tooltip-marker"]],template:function(t,n){1&t&&(ae(0,oue,3,4,"ng-template",null,0,Xx),ae(2,rue,1,1,"ng-template",1),ae(3,pue,5,3,"ng-template",2))},directives:[Uy,$y,Rb,Tm,vi,Sm,kr],encapsulation:2}),i})();class Pue extends gC{constructor(e){super(e),this.handlerMap={hideTooltip:"onHideTooltip",legendItemClick:"onLegendItemClick",render:"onRender",showTooltip:"onShowTooltip",init:"onInit"}}}let Pi=(()=>{class i{constructor(t){this.sender=t}}return i.\u0275fac=function(t){Lf()},i.\u0275dir=xt({type:i}),i})(),ua=(()=>{class i extends Pi{constructor(){super(...arguments),this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Xl(i)))(n||i)}}(),i.\u0275dir=xt({type:i,features:[P]}),i})();class hS extends ua{constructor(e,t){super(t),this.series=e.series,this.seriesIndex=e.seriesIndex,this.pointIndex=e.pointIndex,this.text=e.text}}class dS extends Pi{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.series=e.series,this.value=e.value,this.visual=e.visual}}class v3 extends Pi{constructor(e,t){super(t)}}class pS extends ua{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}}const x3={axisLabelClick:class extends Pi{constructor(e,t){super(t),this.axis=e.axis,this.dataItem=e.dataItem,this.index=e.index,this.text=e.text,this.value=e.value}},drag:class extends ua{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragEnd:class extends Pi{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},dragStart:class extends ua{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},legendItemHover:class extends hS{preventDefault(){super.preventDefault()}},legendItemLeave:class extends hS{preventDefault(){}isDefaultPrevented(){return!1}},noteClick:class extends dS{},noteHover:class extends dS{},noteLeave:class extends dS{},paneRender:class extends Pi{constructor(e,t){super(t),Object.assign(this,e)}},plotAreaClick:class extends Pi{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaHover:class extends Pi{constructor(e,t){super(t),this.category=e.category,this.originalEvent=e.originalEvent,this.value=e.value,this.x=e.x,this.y=e.y}},plotAreaLeave:class extends Pi{},render:v3,select:class extends ua{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectEnd:class extends Pi{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},selectStart:class extends ua{constructor(e,t){super(t),this.axis=e.axis,this.from=e.from,this.to=e.to}},seriesClick:class extends Pi{constructor(e,t){super(t),this.category=e.category,this.dataItem=e.dataItem,this.originalEvent=e.originalEvent,this.percentage=e.percentage,this.point=e.point,this.series=e.series,this.stackValue=e.stackValue,this.value=e.value}},seriesHover:class extends pS{},seriesOver:class extends pS{},seriesLeave:class extends pS{},zoom:class extends ua{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.delta=e.delta,this.originalEvent=e.originalEvent}},zoomEnd:class extends Pi{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}},zoomStart:class extends ua{constructor(e,t){super(t),this.axisRanges=e.axisRanges,this.originalEvent=e.originalEvent}}};class Ep{create(e,t,n){if(x3[e])return new x3[e](t,n)}}class ehe extends hS{preventDefault(){super.preventDefault()}}const fS={name:"@progress/kendo-angular-charts",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1668698089,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Gy=i=>`${i.fontWeight} ${i.fontSize} ${i.fontFamily}`,b3=i=>window.getComputedStyle(i).backgroundColor;let Wy=(()=>{class i extends A{constructor(t){super(t),this.loaded=!1}loadTheme(){this.loaded||!Yi()||(this.readTheme()||this.readDefaultTheme(),this.loaded=!0,this.next())}readTheme(){this.createElement();const t=this.queryColor("accent")!==this.queryColor("accent-contrast");try{t&&(this.push(UV()),this.setColors(),this.setFonts(),this.setSeriesColors())}finally{this.destroyElement()}return t}readDefaultTheme(){this.push(Object.assign({},UV(),{axisDefaults:{crosshair:{color:"rgba(0, 0, 0, 0.5)"},labels:{color:"rgb(101, 101, 101)",font:"12px serif"},line:{color:"rgba(0, 0, 0, 0.08)"},majorGridLines:{color:"rgba(0, 0, 0, 0.08)"},minorGridLines:{color:"rgba(0, 0, 0, 0.04)"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},title:{color:"rgb(101, 101, 101)",font:"14px serif"}},chartArea:{background:"rgb(255, 255, 255)"},legend:{inactiveItems:{labels:{color:"rgba(102, 102, 102, 0.5)"},markers:{color:"rgba(102, 102, 102, 0.5)"}},labels:{color:"rgb(101, 101, 101)",font:"14px serif"}},seriesDefaults:{boxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},bullet:{target:{color:"rgb(101, 101, 101)"}},candlestick:{downColor:"rgb(101, 101, 101)",line:{color:"rgb(101, 101, 101)"}},errorBars:{color:"rgba(0, 0, 0, 0.5)"},horizontalWaterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},icon:{border:{color:"rgba(0, 0, 0, 0.08)"}},labels:{background:"rgb(255, 255, 255)",color:"rgb(101, 101, 101)",opacity:.8,font:"12px serif"},notes:{icon:{background:"rgba(0, 0, 0, 0.5)",border:{color:"rgba(0, 0, 0, 0.5)"}},line:{color:"rgba(0, 0, 0, 0.5)"},label:{font:"14px serif"}},overlay:{gradient:"none"},verticalBoxPlot:{downColor:"rgba(0, 0, 0, 0.08)",mean:{color:"rgb(246, 246, 246)"},median:{color:"rgb(246, 246, 246)"},whiskers:{color:"rgb(255, 99, 88)"}},verticalBullet:{target:{color:"rgb(101, 101, 101)"}},waterfall:{line:{color:"rgba(0, 0, 0, 0.08)"}},area:{opacity:.8}},title:{color:"rgb(101, 101, 101)",font:"16px serif"},seriesColors:["rgb(255, 99, 88)","rgb(255, 210, 70)","rgb(120, 210, 55)","rgb(40, 180, 200)","rgb(45, 115, 245)","rgb(170, 70, 190)"]}))}createElement(){const t=this.element=document.createElement("div");t.style.display="none",t.innerHTML=`\n    <div class="k-var--accent"></div>\n    <div class="k-var--accent-contrast"></div>\n    <div class="k-var--base"></div>\n    <div class="k-var--background"></div>\n\n    <div class="k-var--normal-background"></div>\n    <div class="k-var--normal-text-color"></div>\n    <div class="k-var--hover-background"></div>\n    <div class="k-var--hover-text-color"></div>\n    <div class="k-var--selected-background"></div>\n    <div class="k-var--selected-text-color"></div>\n    <div class="k-var--chart-error-bars-background"></div>\n    <div class="k-var--chart-notes-background"></div>\n    <div class="k-var--chart-notes-border"></div>\n    <div class="k-var--chart-notes-lines"></div>\n    <div class="k-var--chart-crosshair-background"></div>\n\n    <div class="k-var--chart-inactive"></div>\n    <div class="k-var--chart-major-lines"></div>\n    <div class="k-var--chart-minor-lines"></div>\n    <div class="k-var--chart-area-opacity"></div>\n    <div class="k-var--chart-area-inactive-opacity"></div>\n    <div class="k-var--chart-line-inactive-opacity"></div>\n\n    <div class="k-widget k-chart">\n        <div class="k-var--chart-font"></div>\n        <div class="k-var--chart-title-font"></div>\n        <div class="k-var--chart-pane-title-font"></div>\n        <div class="k-var--chart-label-font"></div>\n    </div>\n\n    <div class="k-var--series-unset"></div>\n    <div class="k-var--series">\n      ${(()=>{let i='\n      <div class="k-var--series-a"></div>\n      <div class="k-var--series-b"></div>\n      <div class="k-var--series-c"></div>\n      <div class="k-var--series-d"></div>\n      <div class="k-var--series-e"></div>\n      <div class="k-var--series-f"></div>\n  ';for(let e=0;e<30;e++)i+=`\n      <div class="k-var--series-${e+1}"></div>`;return i})()}\n    </div>\n`,document.body.appendChild(t)}destroyElement(){this.element&&(document.body.removeChild(this.element),this.element=void 0)}setStyle(t,n){this.set(t,n)}setColors(){this.mapColor("axisDefaults.crosshair.color","chart-crosshair-background"),this.mapColor("axisDefaults.labels.color","normal-text-color"),this.mapColor("axisDefaults.line.color","chart-major-lines"),this.mapColor("axisDefaults.majorGridLines.color","chart-major-lines"),this.mapColor("axisDefaults.minorGridLines.color","chart-minor-lines"),this.mapColor("axisDefaults.notes.icon.background","chart-notes-background"),this.mapColor("axisDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("axisDefaults.notes.line.color","chart-notes-lines"),this.mapColor("axisDefaults.title.color","normal-text-color"),this.mapColor("chartArea.background","background"),this.mapColor("legend.inactiveItems.labels.color","chart-inactive"),this.mapColor("legend.inactiveItems.markers.color","chart-inactive"),this.mapColor("legend.labels.color","normal-text-color"),this.mapColor("seriesDefaults.boxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.boxPlot.mean.color","base"),this.mapColor("seriesDefaults.boxPlot.median.color","base"),this.mapColor("seriesDefaults.boxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.bullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.candlestick.downColor","normal-text-color"),this.mapColor("seriesDefaults.candlestick.line.color","normal-text-color"),this.mapColor("seriesDefaults.errorBars.color","chart-error-bars-background"),this.mapColor("seriesDefaults.horizontalWaterfall.line.color","chart-major-lines"),this.mapColor("seriesDefaults.icon.border.color","chart-major-lines"),this.mapColor("seriesDefaults.labels.background","background"),this.mapColor("seriesDefaults.labels.color","normal-text-color"),this.mapColor("seriesDefaults.notes.icon.background","chart-notes-background"),this.mapColor("seriesDefaults.notes.icon.border.color","chart-notes-border"),this.mapColor("seriesDefaults.notes.line.color","chart-notes-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.downColor","chart-major-lines"),this.mapColor("seriesDefaults.verticalBoxPlot.mean.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.median.color","base"),this.mapColor("seriesDefaults.verticalBoxPlot.whiskers.color","accent"),this.mapColor("seriesDefaults.verticalBullet.target.color","normal-text-color"),this.mapColor("seriesDefaults.waterfall.line.color","chart-major-lines"),this.mapColor("title.color","normal-text-color"),this.mapColor("subtitle.color","normal-text-color");const t=parseFloat(this.queryStyle("chart-area-opacity").opacity);isNaN(t)||(this.setStyle("seriesDefaults.area.opacity",t),this.setStyle("seriesDefaults.radarArea.opacity",t),this.setStyle("seriesDefaults.verticalArea.opacity",t),this.setStyle("seriesDefaults.labels.opacity",t)),this.setInactiveOpacity(["area","verticalArea"],"chart-area-inactive-opacity"),this.setInactiveOpacity(["line","verticalLine"],"chart-line-inactive-opacity")}setInactiveOpacity(t,n){const s=parseFloat(this.queryStyle(n).opacity);!isNaN(s)&&s<1&&t.forEach(o=>this.setStyle(`seriesDefaults.${o}.highlight.inactiveOpacity`,s))}setFonts(){const t=Gy(this.queryStyle("chart-font")),n=Gy(this.queryStyle("chart-title-font")),s=Gy(this.queryStyle("chart-pane-title-font")),o=Gy(this.queryStyle("chart-label-font"));this.setStyle("axisDefaults.labels.font",o),this.setStyle("axisDefaults.notes.label.font",t),this.setStyle("axisDefaults.title.font",t),this.setStyle("legend.labels.font",t),this.setStyle("seriesDefaults.labels.font",o),this.setStyle("seriesDefaults.notes.label.font",t),this.setStyle("title.font",n),this.setStyle("subtitle.font",s),this.setStyle("paneDefaults.title.font",s)}setSeriesColors(){const t=this.element,n=[].slice.call(t.querySelectorAll(".k-var--series div")),s=b3(t.querySelector(".k-var--series-unset")),o=n.reduce((r,a)=>{const l=(i=>{const e=i.match(/series-([a-z])$/);if(null!==e)return(i=>i.toLowerCase().charCodeAt(0)-"a".charCodeAt(0))(e[1]);const t=i.split("--series-")[1];return parseInt(t,10)-1})(a.className),c=b3(a);return c!==s&&(r[l]=c),r},[]);this.setStyle("seriesColors",o)}mapColor(t,n){this.setStyle(t,this.queryColor(n))}queryColor(t){return this.queryStyle(t).backgroundColor}queryStyle(t){const n=this.element.querySelector(`.k-var--${t}`);return window.getComputedStyle(n)}}return i.\u0275fac=function(t){return new(t||i)(F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();function mS(i){return i.observers.length>0}let qy=(()=>{class i{constructor(t,n,s,o,r,a,l,c,u){this.configurationService=t,this.themeService=n,this.element=s,this.intl=o,this.localizationService=r,this.ngZone=a,this.instanceEventService=l,this.changeDetector=c,this.renderer=u,this.axisLabelClick=new ue,this.drag=new ue,this.dragEnd=new ue,this.dragStart=new ue,this.legendItemHover=new ue,this.legendItemLeave=new ue,this.noteClick=new ue,this.noteHover=new ue,this.noteLeave=new ue,this.paneRender=new ue,this.plotAreaClick=new ue,this.plotAreaHover=new ue,this.plotAreaLeave=new ue,this.render=new ue,this.select=new ue,this.selectEnd=new ue,this.selectStart=new ue,this.seriesClick=new ue,this.seriesHover=new ue,this.seriesOver=new ue,this.seriesLeave=new ue,this.zoom=new ue,this.zoomEnd=new ue,this.zoomStart=new ue,this.legendItemClick=new ue,this.resizeRateLimit=10,this.theme=null,this.suppressTransitions=!1,this.rtl=!1,this.hostClasses=["k-chart","k-widget"],pp(fS),this.themeService.loadTheme(),this.refreshWait()}ngOnInit(){this.element&&(this.hostClasses.forEach(t=>{this.renderer.addClass(this.element.nativeElement,t)}),this.renderer.setStyle(this.element.nativeElement,"position","relative"))}ngAfterViewInit(){this.canRender&&this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(this.surfaceElement.nativeElement,"mouseleave",this.chartMouseleave.bind(this));this.domSubscriptions=()=>{t()}}),this.setDirection(),this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.subscriptions.add(this.localizationService.changes.subscribe(this.rtlChange.bind(this)))}ngAfterViewChecked(){this.instance&&this.autoResize&&this.ngZone.runOutsideAngular(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resize()},0)})}ngOnChanges(t){const n=this.configurationService.store;oS(t,n),n.popupSettings=null,this.configurationService.push(n)}notifyChanges(t){this.ngOnChanges(rS(t))}ngOnDestroy(){this.destroyed=!0,this.optionsChange&&this.optionsChange.unsubscribe(),this.domSubscriptions&&(this.domSubscriptions(),this.domSubscriptions=null),this.instance&&(this.instance.destroy(),this.instance=null),this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.resizeTimeout),clearTimeout(this.redrawTimeout)}createInstance(t,n){this.instance=new kw(t,this.options,this.theme,{intlService:this.intl,observer:n,rtl:this.rtl,sender:this})}exportImage(t={}){return wL(this.exportVisual(t),t)}exportSVG(t={}){return TL(this.exportVisual(t),t)}exportVisual(t={}){return this.instance.exportVisual(t)}findAxisByName(t){if(this.instance)return this.instance.findAxisByName(t)}findPaneByIndex(t){if(this.instance)return this.instance.findPaneByIndex(t)}findPaneByName(t){if(this.instance)return this.instance.findPaneByName(t)}getPlotArea(){if(this.instance)return this.instance.plotArea()}toggleHighlight(t,n){this.instance&&this.instance.toggleHighlight(t,n)}hideTooltip(){this.instance&&this.instance.hideTooltip()}showTooltip(t){this.instance&&this.instance.showTooltip(t)}init(){if(!this.canRender)return;const t=this.surfaceElement.nativeElement,n=new Pue(this);this.createInstance(t,n)}resize(){this.instance&&this.instance.resize()}onResize(){this.autoResize&&this.resize()}onLegendItemClick(t){this.run(()=>{const n=new ehe(t,this);if(this.legendItemClick.emit(n),!n.isDefaultPrevented()){const s=this.seriesComponents.toArray()[t.series.index];if(!s)return;void 0===t.pointIndex?s.toggleVisibility():s.togglePointVisibility(t.pointIndex),this.suppressTransitions=!0}},mS(this.legendItemClick),this.seriesComponents.length>0)}onInit(t){this.instance=t.sender}onRender(t){const n=this.getDonutCenterStyle();this.run(()=>{const s=new v3(t,this);this.surface=t.sender.surface,this.render.emit(s),this.donutCenterStyle=n},mS(this.render),this.donutCenterStyle!==n)}onShowTooltip(t){this.run(()=>{t.crosshair?this.crossahirTooltips.show(t):this.tooltipInstance.show(t)},!t.crosshair,!0)}onHideTooltip(t){t.crosshair?this.crossahirTooltips.active&&(this.crossahirTooltips.hide(),this.detectChanges()):this.tooltipInstance.active&&(this.tooltipInstance.hide(),this.detectChanges())}trigger(t,n){if("resize"===t)return;const s=this.activeEmitter(t);if(s){const o=this.instanceEventService.create(t,n,this);return this.run(()=>{s.emit(o)}),o.isDefaultPrevented&&o.isDefaultPrevented()}}requiresHandlers(t){for(let n=0;n<t.length;n++)if(this.activeEmitter(t[n]))return!0;return!1}refresh(){if(clearTimeout(this.redrawTimeout),this.updateDirection(),this.crossahirTooltips.createCrosshairTooltips(this.options),this.setChartAreaSize(),!this.instance)return void this.init();const t=this.options.transitions;this.suppressTransitions&&(this.options.transitions=!1),this.updateOptions(),this.suppressTransitions&&(this.options.transitions=t,this.suppressTransitions=!1)}setChartAreaSize(){if(!this.element)return;const t=this.element.nativeElement,n=this.options.chartArea||{};n.width&&(t.style.width=`${n.width}px`),n.height&&(t.style.height=`${n.height}px`)}updateOptions(){this.instance.setOptions(this.options)}tooltipMouseleave(t){const n=t.relatedTarget;this.instance&&(!n||!uS(n,this.element.nativeElement))&&this.instance.hideElements()}chartMouseleave(t){const n=t.relatedTarget,s=this.element.nativeElement;this.instance&&(!n||!this.tooltipInstance.containsElement(n)&&!uS(n,s))&&!this.instance.handlingTap&&this.instance.hideElements()}get canRender(){return Yi()&&Boolean(this.surfaceElement)}get autoResize(){return this.resizeRateLimit>0}activeEmitter(t){const n=this[t];if(n&&n.emit&&mS(n))return n}getDonutCenterStyle(){if(!this.instance||!this.options||!this.options.series)return;const t=this.options.series[0],n=this.instance._plotArea.charts;if(!t||"donut"!==t.type||!n||0===n[0].points.length)return;const s=n[0].points[0],o=s.box.center(),r=s.sector.innerRadius,c=2*r;return{height:c+"px",left:o.x-r+"px",top:o.y-r+"px",width:c+"px"}}refreshWait(){this.ngZone.runOutsideAngular(()=>{this.optionsChange=function(...i){let e=null,t=null;return _a(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&yr(i[0])&&(i=i[0]),Ml(i,t).lift(new Dre(e))}(this.configurationService.onChange$,this.themeService.onChange$).pipe(Xb(t=>{this.options=t[0],this.theme=t[1]}),ud(p3)).subscribe(()=>{this.refresh()})})}run(t,n=!0,s){n?(s&&this.changeDetector.markForCheck(),this.ngZone.run(t)):(t(),s&&this.detectChanges())}detectChanges(){this.destroyed||this.changeDetector.detectChanges()}intlChange(){this.instance&&this.deferredRedraw()}rtlChange(){this.instance&&this.rtl!==this.isRTL&&this.deferredRedraw()}deferredRedraw(){this.ngZone.runOutsideAngular(()=>{clearTimeout(this.redrawTimeout),this.redrawTimeout=setTimeout(()=>{this.updateDirection(),this.instance.noTransitionsRedraw()},0)})}updateDirection(){const t=this.isRTL;this.rtl!==t&&(this.setDirection(),this.instance&&this.instance.setDirection(t))}setDirection(){this.rtl=this.isRTL,this.element&&this.renderer.setAttribute(this.element.nativeElement,"dir",this.rtl?"rtl":"ltr")}get isRTL(){return Boolean(this.localizationService.rtl)}}return i.\u0275fac=function(t){return new(t||i)(b(A),b(Wy),b(hn),b(fr),b(zo),b(Ke),b(Ep),b(Gf),b(Pc))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart"]],contentQueries:function(t,n,s){if(1&t&&(ti(s,d3,5),ti(s,Tp,5)),2&t){let o;yt(o=_t())&&(n.donutCenterTemplate=o.first),yt(o=_t())&&(n.seriesComponents=o)}},viewQuery:function(t,n){if(1&t&&(Ds(Dp,7),Ds(Sp,7),Ds(fue,7)),2&t){let s;yt(s=_t())&&(n.tooltipInstance=s.first),yt(s=_t())&&(n.crossahirTooltips=s.first),yt(s=_t())&&(n.surfaceElement=s.first)}},inputs:{pannable:"pannable",renderAs:"renderAs",seriesColors:"seriesColors",subtitle:"subtitle",title:"title",transitions:"transitions",zoomable:"zoomable",axisDefaults:"axisDefaults",categoryAxis:"categoryAxis",chartArea:"chartArea",legend:"legend",panes:"panes",paneDefaults:"paneDefaults",plotArea:"plotArea",series:"series",seriesDefaults:"seriesDefaults",tooltip:"tooltip",valueAxis:"valueAxis",xAxis:"xAxis",yAxis:"yAxis",resizeRateLimit:"resizeRateLimit",popupSettings:"popupSettings"},outputs:{axisLabelClick:"axisLabelClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",legendItemHover:"legendItemHover",legendItemLeave:"legendItemLeave",noteClick:"noteClick",noteHover:"noteHover",noteLeave:"noteLeave",paneRender:"paneRender",plotAreaClick:"plotAreaClick",plotAreaHover:"plotAreaHover",plotAreaLeave:"plotAreaLeave",render:"render",select:"select",selectEnd:"selectEnd",selectStart:"selectStart",seriesClick:"seriesClick",seriesHover:"seriesHover",seriesOver:"seriesOver",seriesLeave:"seriesLeave",zoom:"zoom",zoomEnd:"zoomEnd",zoomStart:"zoomStart",legendItemClick:"legendItemClick"},exportAs:["kendoChart"],features:[gt([A,_l,Ep,zo,{provide:zm,useValue:"kendo.chart"}]),Xs],decls:6,vars:4,consts:[[1,"k-chart-surface"],["surface",""],[3,"popupSettings"],[3,"popupSettings","leave"],[3,"rateLimit","resize"],["class","k-chart-donut-center",3,"ngStyle",4,"ngIf"],[1,"k-chart-donut-center",3,"ngStyle"],[3,"ngTemplateOutlet"]],template:function(t,n){1&t&&(Zt(0,"div",0,1),Zt(2,"kendo-chart-crosshair-tooltips-container",2),ie(3,"kendo-chart-tooltip-popup",3),Mn("leave",function(o){return n.tooltipMouseleave(o)}),se(),ie(4,"kendo-resize-sensor",4),Mn("resize",function(){return n.onResize()}),se(),ae(5,gue,2,2,"div",5)),2&t&&(Q(2),z("popupSettings",n.popupSettings),Q(1),z("popupSettings",n.popupSettings),Q(1),z("rateLimit",n.resizeRateLimit),Q(1),z("ngIf",n.donutCenterStyle&&n.donutCenterTemplate))},directives:[Sp,Dp,Wc,vi,Tm,Sm],encapsulation:2,changeDetection:0}),i})(),Vu=(()=>{class i{constructor(t,n,s){this.configKey=t,this.configurationService=n,this.collectionService=s,this.items=[],this.subscription=s.onItemChange$.subscribe(o=>this.processChanges(o))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterContentInit(){this.readItems(),this.children.changes.subscribe(()=>this.readItems())}processChanges(t){if(!this.children)return;const n=this.children.toArray().indexOf(t.sender);n<0||(this.items[n]=t.options,this.change())}readItems(){this.items=this.children.map(t=>t.options),this.change()}change(){this.configurationService.notify(new aS(this.configKey,0===this.items.length?void 0:this.items))}}return i.\u0275fac=function(t){Lf()},i.\u0275dir=xt({type:i}),i})(),vS=(()=>{class i extends Vu{constructor(t,n,s){super("series",t,n),this.configurationService=t,this.collectionService=n,this.tooltipTemplateService=s}ngAfterContentChecked(){this.readTooltipTemplates()}readTooltipTemplates(){const t=this.children.map(n=>n.seriesTooltipTemplateRef);this.tooltipTemplateService.setSeriesTemplates(t)}}return i.\u0275fac=function(t){return new(t||i)(b(A),b(kt),b(_l))},i.\u0275cmp=E({type:i,selectors:[["kendo-chart-series"]],contentQueries:function(t,n,s){if(1&t&&ti(s,Tp,4),2&t){let o;yt(o=_t())&&(n.children=o)}},features:[gt([kt]),P],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0}),i})();new Ne("configuration prefix");let Ap=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:[Wy],imports:[[jc,FT,Bm]]}),i})(),Ode=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({imports:[[Ap,jc,FT,Bm],Ap]}),i})(),Lde=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({imports:[[Ap,jc,FT,Bm],Ap]}),i})(),Fde=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({imports:[Ap,Lde,Ode]}),i})();function Bde(i,e){1&i&&Zt(0,"div",1),2&i&&z("innerHTML",ye().Model.Properties.Message,bf)}const K3={SitefinityContentBlock:gK,SitefinitySection:MN,SitefinityContentList:oY,SitefinityChart:(()=>{class i extends Uc{constructor(){super(...arguments),this.data=[]}ngOnInit(){this.data=[0,1,1,2,3,5,8,13,21,34,55,89,144,233,377,610,987,1597,2584,4181]}}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Xl(i)))(n||i)}}(),i.\u0275cmp=E({type:i,selectors:[["app-chart"]],features:[P],decls:3,vars:2,consts:[[3,"zoomable"],["name","Fibonacci"],[3,"data"]],template:function(t,n){1&t&&(ie(0,"kendo-chart",0),ie(1,"kendo-chart-series",1),Zt(2,"kendo-chart-series-item",2),se(),se()),2&t&&(z("zoomable",n.Model.Properties.Zoomable),Q(2),z("data",n.data))},directives:[qy,vS,Tp],encapsulation:2}),i})(),HelloWorld:(()=>{class i extends Uc{}return i.\u0275fac=function(){let e;return function(n){return(e||(e=Xl(i)))(n||i)}}(),i.\u0275cmp=E({type:i,selectors:[["app-hello"]],features:[P],decls:2,vars:1,consts:[[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(t,n){1&t&&(bn(0,"hello-world component html "),ae(1,Bde,1,1,"div",0)),2&t&&(Q(1),z("ngIf",n.Model))},directives:[vi],encapsulation:2}),i})()};let bS=(()=>{class i{constructor(t,n,s,o,r){this.appRef=t,this.resolver=n,this.renderContext=s,this.renderer=o,this.injector=r}createAndInjectComponent(t,n){let s=K3[t.model.Name],o=null;s||(s=EN,o=`No componenent with the name ${t.model.Name} found.`),t.context.LazyComponentMap&&t.context.LazyComponentMap.hasOwnProperty(t.model.Id)&&(t.model.Properties=t.context.LazyComponentMap[t.model.Id].Properties);const r=this.resolver.resolveComponentFactory(s),a=n.createComponent(r,void 0,n.injector),l=a.instance;return this.setProperties(t.model,l),this.setAttributes(a.location.nativeElement,t.model,l.Metadata,o),l.RequestContext=t.context,l}createComponent(t){let n=K3[t.Name],s=null;n||(n=EN,s=`No componenent with the name ${t.Name} found.`);const r=this.resolver.resolveComponentFactory(n).create(this.injector),a=r.instance;return this.setProperties(t,a),this.appRef.attachView(r.hostView),this.setAttributes(r.location.nativeElement,t,a.Metadata,s),new Promise(l=>{let c=0,u=setInterval(()=>{this.appRef.tick(),5==++c&&(clearInterval(u),l(r))},100)})}setAttributes(t,n,s,o){if(this.renderContext.isEdit()){const r=this.renderer.createRenderer(null,null);r.setAttribute(t,"data-sfname",n.Name),r.setAttribute(t,"data-sftitle",s.Title||n.Name),s.EmptyIconAction&&r.setAttribute(t,"data-sfemptyiconaction",s.EmptyIconAction),s.EmptyIcon&&r.setAttribute(t,"data-sfemptyicon",s.EmptyIcon),s.EmptyIconText&&r.setAttribute(t,"data-sfemptyicontext",s.EmptyIconText),r.setAttribute(t,"data-sfid",n.Id),r.setAttribute(t,"data-sfisorphaned","false"),r.setAttribute(t,"data-sfiscontentwidget",("SitefinitySection"!=n.Name).toString()),r.setAttribute(t,"data-sfisemptyvisualhidden","false"),o&&r.setAttribute(t,"data-sferror",o)}}setProperties(t,n){t&&n&&(Object.keys(t).forEach(s=>{n.Model[s]=t[s]}),Object.keys(n.Model.Properties).forEach(s=>{try{n.Model.Properties[s]=JSON.parse(n.Model.Properties[s])}catch(o){}}))}}return i.\u0275fac=function(t){return new(t||i)(F(Ga),F(Ro),F(cd),F(Oo),F(We))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Y3=(()=>{class i{constructor(t){this.renderWidgetService=t,this.metadataMap={SitefinityContentBlock:lK,SitefinitySection:cK,SitefinityContentList:uK,SitefinityChart:hK,HelloWorld:fK}}getWidgetMetadata(t){return Promise.resolve(this.metadataMap[t.widgetName]||{Name:t.widgetName,Caption:t.widgetName,PropertyMetadata:[],PropertyMetadataFlat:[]})}renderWidget(t){return this.renderWidgetService.createComponent(t.model).then(n=>new Promise(s=>{s({element:null==n?void 0:n.location.nativeElement,content:"",scripts:[]})}))}getCategories(t){return Promise.resolve(["Content","Layout"])}getWidgets(t){return Promise.resolve("Content"===t.category?dK:"Layout"===t.category?pK:{totalCount:0,dataItems:[]})}}return i.\u0275fac=function(t){return new(t||i)(F(bS))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),Q3=(()=>{class i{constructor(t,n){this.http=t,this.rootUrlService=n}get(t){return this.http.get(t,{headers:{"X-SFRENDERER-PROXY":"true","X-SF-WEBSERVICEPATH":"api/default"}})}getLazyComponents(t){var n={},s=document.referrer;s&&s.length>0?n.SF_URL_REFERER=s:n.SF_NO_URL_REFERER="true";let o=`${this.rootUrlService.getServiceUrl()}Default.LazyComponents(url=@param)?@param='${encodeURIComponent(t)}'`;return o+="&correlationId="+window.sfCorrelationId,this.http.get(o,{headers:n})}}return i.\u0275fac=function(t){return new(t||i)(F(Nm),F(km))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})(),CS=(()=>{class i{constructor(t,n){this.viewContainer=t,this.renderWidgetService=n}ngOnInit(){this.renderWidgetService.createAndInjectComponent(this.componentData,this.viewContainer)}}return i.\u0275fac=function(t){return new(t||i)(b(ws),b(bS))},i.\u0275dir=xt({type:i,selectors:[["","componentWrapper",""]],inputs:{componentData:["componentWrapper","componentData"]}}),i})();function zde(i,e){1&i&&px(0,1),2&i&&z("componentWrapper",e.$implicit)}let Hde=(()=>{class i{constructor(t,n,s,o,r){this.serviceMetadata=t,this.meta=n,this.renderContext=s,this.rendererService=o,this.layoutService=r,this.content=[]}ngOnInit(){this.serviceMetadata.fetch().subscribe(()=>{this.layoutService.get(window.location.href).subscribe(t=>{this.renderContext.cultureName=t.Culture,!this.renderContext.isEdit()&&t.ComponentContext.HasLazyComponents&&this.layoutService.getLazyComponents(window.location.href).subscribe(n=>{const s={};n.Components.forEach(o=>{s[o.Id]=o}),this.setContent(t,{DetailItem:t.DetailItem,LazyComponentMap:s})}),t.ComponentContext.HasLazyComponents||this.setContent(t,{DetailItem:t.DetailItem,LazyComponentMap:null}),t.UrlParameters.length>0&&!t.DetailItem?this.fireEventForEditor():(window.document.body.classList.add("container-fluid"),this.fireEventForEditor(),this.renderMetaInfo(t),this.renderScripts(t))})})}setContent(t,n){this.content=t.ComponentContext.Components.map(s=>({model:s,context:n}))}fireEventForEditor(){if(this.renderContext.isEdit()){window.document.body.setAttribute("data-sfcontainer","Body");const t=2e3,n=(new Date).getTime(),s=window.setInterval(()=>{const o=(new Date).getTime()-n;(this.content.length>0&&window.document.body.childElementCount>0||0===this.content.length||o>t)&&(window.clearInterval(s),window.rendererContract=this.rendererService,window.dispatchEvent(new Event("contractReady")))},100)}}renderScripts(t){t.Scripts.forEach(n=>{const s=document.createElement("script");n.Source&&s.setAttribute("src",n.Source),n.Attributes.forEach(o=>{s.setAttribute(o.Key,o.Value)}),n.Value&&(s.innerText=n.Value),document.body.appendChild(s)})}renderMetaInfo(t){if(t.MetaInfo){document.title=t.MetaInfo.Title;const n={"og:title":t.MetaInfo.OpenGraphTitle,"og:image":t.MetaInfo.OpenGraphImage,"og:video":t.MetaInfo.OpenGraphVideo,"og:type":t.MetaInfo.OpenGraphType,"og:description":t.MetaInfo.OpenGraphDescription,"og:site":t.MetaInfo.OpenGraphSite};if(Object.keys(n).forEach(s=>{const o=n[s];o&&this.meta.addTag({property:s,content:o})}),t.MetaInfo.Description&&this.meta.addTag({name:"description",content:t.MetaInfo.Description}),t.MetaInfo.CanonicalUrl){const s=document.createElement("link");s.setAttribute("rel","canonical"),s.setAttribute("href",t.MetaInfo.CanonicalUrl),document.head.appendChild(s)}}}}return i.\u0275fac=function(t){return new(t||i)(b(Rm),b(lN),b(cd),b(Y3),b(Q3))},i.\u0275cmp=E({type:i,selectors:[["body"]],decls:1,vars:1,consts:[[3,"componentWrapper",4,"ngFor","ngForOf"],[3,"componentWrapper"]],template:function(t,n){1&t&&ae(0,zde,1,1,"ng-container",0),2&t&&z("ngForOf",n.content)},directives:[kr,CS],styles:[""]}),i})();function X3(){return"undefined"!=typeof window&&void 0!==window.document}function wS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ha(i){switch(i.length){case 0:return new Du;case 1:return i[0];default:return new cB(i)}}function Z3(i,e,t,n,s={},o={}){const r=[],a=[];let l=-1,c=null;if(n.forEach(u=>{const h=u.offset,d=h==l,p=d&&c||{};Object.keys(u).forEach(f=>{let m=f,g=u[f];if("offset"!==f)switch(m=e.normalizePropertyName(m,r),g){case"!":g=s[f];break;case hr:g=o[f];break;default:g=e.normalizeStyleValue(f,m,g,r)}p[m]=g}),d||a.push(p),c=p,l=h}),r.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${r.join(u)}`)}return a}function TS(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&SS(t,"start",i)));break;case"done":i.onDone(()=>n(t&&SS(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&SS(t,"destroy",i)))}}function SS(i,e,t){const n=t.totalTime,o=DS(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==n?i.totalTime:n,!!t.disabled),r=i._data;return null!=r&&(o._data=r),o}function DS(i,e,t,n,s="",o=0,r){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:s,totalTime:o,disabled:!!r}}function Ii(i,e,t){let n;return i instanceof Map?(n=i.get(e),n||i.set(e,n=t)):(n=i[e],n||(n=i[e]=t)),n}function J3(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let ES=(i,e)=>!1,AS=(i,e)=>!1,ez=(i,e,t)=>[];const tz=wS();(tz||"undefined"!=typeof Element)&&(ES=X3()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),AS=(()=>{if(tz||Element.prototype.matches)return(i,e)=>i.matches(e);{const i=Element.prototype,e=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):AS}})(),ez=(i,e,t)=>{let n=[];if(t){const s=i.querySelectorAll(e);for(let o=0;o<s.length;o++)n.push(s[o])}else{const s=i.querySelector(e);s&&n.push(s)}return n});let vl=null,nz=!1;function MS(i){vl||(vl=("undefined"!=typeof document?document.body:null)||{},nz=!!vl.style&&"WebkitAppearance"in vl.style);let e=!0;return vl.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in vl.style,!e&&nz&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in vl.style)),e}const PS=AS,IS=ES,NS=ez;function iz(i){const e={};return Object.keys(i).forEach(t=>{const n=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=i[t]}),e}let sz=(()=>{class i{validateStyleProperty(t){return MS(t)}matchesElement(t,n){return PS(t,n)}containsElement(t,n){return IS(t,n)}query(t,n,s){return NS(t,n,s)}computeStyle(t,n,s){return s||""}animate(t,n,s,o,r,a=[],l){return new Du(s,o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class Yy{}Yy.NOOP=new sz;const kS="ng-enter",Qy="ng-leave",Xy="ng-trigger",Zy=".ng-trigger",rz="ng-animating",RS=".ng-animating";function xl(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OS(parseFloat(e[1]),e[2])}function OS(i,e){switch(e){case"s":return 1e3*i;default:return i}}function Jy(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let s,o=0,r="";if("string"==typeof i){const a=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=OS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=OS(parseFloat(l),a[4]));const c=a[5];c&&(r=c)}else s=i;if(!t){let a=!1,l=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:o,easing:r}}(i,e,t)}function Bu(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function da(i,e,t={}){if(e)for(let n in i)t[n]=i[n];else Bu(i,t);return t}function lz(i,e,t){return t?e+":"+t+";":""}function cz(i){let e="";for(let t=0;t<i.style.length;t++){const n=i.style.item(t);e+=lz(0,n,i.style.getPropertyValue(n))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lz(0,Yde(t),i.style[t]));i.setAttribute("style",e)}function bo(i,e,t){i.style&&(Object.keys(e).forEach(n=>{const s=FS(n);t&&!t.hasOwnProperty(n)&&(t[n]=i.style[s]),i.style[s]=e[n]}),wS()&&cz(i))}function bl(i,e){i.style&&(Object.keys(e).forEach(t=>{const n=FS(t);i.style[n]=""}),wS()&&cz(i))}function Mp(i){return Array.isArray(i)?1==i.length?i[0]:aB(i):i}const LS=new RegExp("{{\\s*(.+?)\\s*}}","g");function uz(i){let e=[];if("string"==typeof i){let t;for(;t=LS.exec(i);)e.push(t[1]);LS.lastIndex=0}return e}function e_(i,e,t){const n=i.toString(),s=n.replace(LS,(o,r)=>{let a=e[r];return e.hasOwnProperty(r)||(t.push(`Please provide a value for the animation param ${r}`),a=""),a.toString()});return s==n?i:s}function t_(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const Kde=/-+([a-z0-9])/g;function FS(i){return i.replace(Kde,(...e)=>e[1].toUpperCase())}function Yde(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hz(i,e){return 0===i||0===e}function dz(i,e,t){const n=Object.keys(t);if(n.length&&e.length){let o=e[0],r=[];if(n.forEach(a=>{o.hasOwnProperty(a)||r.push(a),o[a]=t[a]}),r.length)for(var s=1;s<e.length;s++){let a=e[s];r.forEach(function(l){a[l]=VS(i,l)})}}return e}function Ni(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function VS(i,e){return window.getComputedStyle(i)[e]}function Qde(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function(i,e,t){if(":"==i[0]){const l=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof l)return void e.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const s=n[1],o=n[2],r=n[3];e.push(pz(s,r));"<"==o[0]&&!("*"==s&&"*"==r)&&e.push(pz(r,s))}(n,t,e)):t.push(i),t}const i_=new Set(["true","1"]),s_=new Set(["false","0"]);function pz(i,e){const t=i_.has(i)||s_.has(i),n=i_.has(e)||s_.has(e);return(s,o)=>{let r="*"==i||i==s,a="*"==e||e==o;return!r&&t&&"boolean"==typeof s&&(r=s?i_.has(i):s_.has(i)),!a&&n&&"boolean"==typeof o&&(a=o?i_.has(e):s_.has(e)),r&&a}}const Jde=new RegExp("s*:selfs*,?","g");function BS(i,e,t){return new epe(i).build(e,t)}class epe{constructor(e){this._driver=e}build(e,t){const n=new ipe(t);return this._resetContextStyleTimingState(n),Ni(this,Mp(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,s=t.depCount=0;const o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);n+=l.queryCount,s+=l.depCount,r.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:n,depCount:s,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const o=new Set,r=s||{};if(n.styles.forEach(a=>{if(o_(a)){const l=a;Object.keys(l).forEach(c=>{uz(l[c]).forEach(u=>{r.hasOwnProperty(u)||o.add(u)})})}}),o.size){const a=t_(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Ni(this,Mp(e.animation),t);return{type:1,matchers:Qde(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Cl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>Ni(this,n,t)),options:Cl(e.options)}}visitGroup(e,t){const n=t.currentTime;let s=0;const o=e.steps.map(r=>{t.currentTime=n;const a=Ni(this,r,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:o,options:Cl(e.options)}}visitAnimate(e,t){const n=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return zS(Jy(i,e).duration,0,"");const n=i;if(n.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=zS(0,0,"");return o.dynamic=!0,o.strValue=n,o}return t=t||Jy(n,e),zS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let s,o=e.styles?e.styles:Py({});if(5==o.type)s=this.visitKeyframes(o,t);else{let r=e.styles,a=!1;if(!r){a=!0;const c={};n.easing&&(c.easing=n.easing),r=Py(c)}t.currentTime+=n.duration+n.delay;const l=this.visitStyle(r,t);l.isEmptyStep=a,s=l}return t.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(r=>{"string"==typeof r?r==hr?n.push(r):t.errors.push(`The provided style string value ${r} is not allowed.`):n.push(r)}):n.push(e.styles);let s=!1,o=null;return n.forEach(r=>{if(o_(r)){const a=r,l=a.easing;if(l&&(o=l,delete a.easing),!s)for(let c in a)if(a[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let s=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(r=>{"string"!=typeof r&&Object.keys(r).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(o!=s&&o>=c.startTime&&s<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${s}ms"`),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:s}),t.options&&function(i,e,t){const n=e.params||{},s=uz(i);s.length&&s.forEach(o=>{n.hasOwnProperty(o)||t.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(r[a],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let o=0;const r=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const x=this._makeStyleAst(v,t);let S=null!=x.offset?x.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(o_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(o_(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(x.styles),M=0;return null!=S&&(o++,M=x.offset=S),l=l||M<0||M>1,a=a||M<c,c=M,r.push(M),x});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const h=e.steps.length;let d=0;o>0&&o<h?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(d=1/(h-1));const p=h-1,f=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((v,x)=>{const S=d>0?x==p?1:d*x:r[x],M=S*g;t.currentTime=f+m.delay+M,m.duration=M,this._validateStyleAst(v,t),v.offset=S,n.styles.push(v)}),n}visitReference(e,t){return{type:8,animation:Ni(this,Mp(e.animation),t),options:Cl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cl(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[o,r]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(Jde,"")),[i=i.replace(/@\*/g,Zy).replace(/@\w+/g,t=>Zy+"-"+t.substr(1)).replace(/:animating/g,RS),e]}(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,Ii(t.collectedStyles,t.currentQuerySelector,{});const a=Ni(this,Mp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:s.limit||0,optional:!!s.optional,includeSelf:r,animation:a,originalSelector:e.selector,options:Cl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jy(e.timings,t.errors,!0);return{type:12,animation:Ni(this,Mp(e.animation),t),timings:n,options:null}}}class ipe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function o_(i){return!Array.isArray(i)&&"object"==typeof i}function Cl(i){return i?(i=Bu(i)).params&&(i.params=function(i){return i?Bu(i):null}(i.params)):i={},i}function zS(i,e,t){return{duration:i,delay:e,easing:t}}function HS(i,e,t,n,s,o,r=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:s,delay:o,totalTime:s+o,easing:r,subTimeline:a}}class r_{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lpe=new RegExp(":enter","g"),upe=new RegExp(":leave","g");function jS(i,e,t,n,s,o={},r={},a,l,c=[]){return(new hpe).buildKeyframes(i,e,t,n,s,o,r,a,l,c)}class hpe{buildKeyframes(e,t,n,s,o,r,a,l,c,u=[]){c=c||new r_;const h=new US(e,t,c,s,o,u,[]);h.options=l,h.currentTimeline.setStyles([r],null,h.errors,l),Ni(this,n,h);const d=h.timelines.filter(p=>p.containsAnimation());if(d.length&&Object.keys(a).length){const p=d[d.length-1];p.allowOnlyTimelineStyles()||p.setStyles([a],null,h.errors,l)}return d.length?d.map(p=>p.buildKeyframes()):[HS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const s=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,s,s.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime;const r=null!=n.duration?xl(n.duration):null,a=null!=n.delay?xl(n.delay):null;return 0!==r&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,r,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ni(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let s=t;const o=e.options;if(o&&(o.params||o.delay)&&(s=t.createSubContext(o),s.transformIntoNewTimeline(),null!=o.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=a_);const r=xl(o.delay);s.delayNextStep(r)}e.steps.length&&(e.steps.forEach(r=>Ni(this,r,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let s=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?xl(e.options.delay):0;e.steps.forEach(r=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ni(this,r,a),s=Math.max(s,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(r=>t.currentTimeline.mergeTimelineCollectedStyles(r)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Jy(t.params?e_(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),s.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,s=t.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const o=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,s=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+o),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,s=e.options||{},o=s.delay?xl(s.delay):0;o&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=a_);let r=n;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const h=t.createSubContext(e.options,c);o&&h.delayNextStep(o),c===t.element&&(l=h.currentTimeline),Ni(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,s=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),a=r*(t.currentQueryTotal-1);let l=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;Ni(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=s.currentTime-h+(s.startTime-n.currentTimeline.startTime)}}const a_={};class US{constructor(e,t,n,s,o,r,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=o,this.errors=r,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=a_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new l_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=xl(n.duration)),null!=n.delay&&(s.delay=xl(n.delay));const o=n.params;if(o){let r=s.params;r||(r=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!r.hasOwnProperty(a))&&(r[a]=e_(o[a],r,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(s=>{n[s]=t[s]})}}return e}createSubContext(e=null,t,n){const s=t||this.element,o=new US(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=a_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},o=new dpe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(o),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,s,o,r){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(lpe,"."+this._enterClassName)).replace(upe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&0==a.length&&r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class l_{constructor(e,t,n,s){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new l_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||hr,this._currentKeyframe[t]=hr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,s){t&&(this._previousKeyframe.easing=t);const o=s&&s.params||{},r=function(i,e){const t={};let n;return i.forEach(s=>{"*"===s?(n=n||Object.keys(e),n.forEach(o=>{t[o]=hr})):da(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(r).forEach(a=>{const l=e_(r[a],o,n);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:hr),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(n=>{this._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],s=e._styleSummary[t];(!n||s.time>n.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=da(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?e.add(u):h==hr&&t.add(u)}),n||(c.offset=l/this.duration),s.push(c)});const o=e.size?t_(e.values()):[],r=t.size?t_(t.values()):[];if(n){const a=s[0],l=Bu(a);a.offset=0,l.offset=1,s=[a,l]}return HS(this.element,s,o,r,this.duration,this.startTime,this.easing,!1)}}class dpe extends l_{constructor(e,t,n,s,o,r,a=!1){super(e,t,r.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],r=n+t,a=t/r,l=da(e[0],!1);l.offset=0,o.push(l);const c=da(e[0],!1);c.offset=gz(a),o.push(c);const u=e.length-1;for(let h=1;h<=u;h++){let d=da(e[h],!1);d.offset=gz((t+d.offset*n)/r),o.push(d)}n=r,t=0,s="",e=o}return HS(this.element,e,this.preStyleProps,this.postStyleProps,n,t,s,!0)}}function gz(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class $S{}class fpe extends $S{normalizePropertyName(e,t){return FS(e)}normalizeStyleValue(e,t,n,s){let o="";const r=n.toString().trim();if(mpe[t]&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${e}:${n}`)}return r+o}}const mpe=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yz(i,e,t,n,s,o,r,a,l,c,u,h,d){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:o,toState:n,toStyles:r,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const GS={};class _z{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,s){return function(i,e,t,n,s){return i.some(o=>o(e,t,n,s))}(this.ast.matchers,e,t,n,s)}buildStyles(e,t,n){const s=this._stateStyles["*"],o=this._stateStyles[e],r=s?s.buildStyles(t,n):{};return o?o.buildStyles(t,n):r}build(e,t,n,s,o,r,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||GS,f=this.buildStyles(n,a&&a.params||GS,h),m=l&&l.params||GS,g=this.buildStyles(s,m,h),v=new Set,x=new Map,S=new Map,M="void"===s,L={params:Object.assign(Object.assign({},d),m)},K=u?[]:jS(e,t,this.ast.animation,o,r,f,g,L,c,h);let J=0;if(K.forEach(Qe=>{J=Math.max(Qe.duration+Qe.delay,J)}),h.length)return yz(t,this._triggerName,n,s,M,f,g,[],[],x,S,J,h);K.forEach(Qe=>{const Ae=Qe.element,Rt=Ii(x,Ae,{});Qe.preStyleProps.forEach(_n=>Rt[_n]=!0);const zt=Ii(S,Ae,{});Qe.postStyleProps.forEach(_n=>zt[_n]=!0),Ae!==t&&v.add(Ae)});const we=t_(v.values());return yz(t,this._triggerName,n,s,M,f,g,K,we,x,S,J)}}class _pe{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},s=Bu(this.defaultParams);return Object.keys(e).forEach(o=>{const r=e[o];null!=r&&(s[o]=r)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const r=o;Object.keys(r).forEach(a=>{let l=r[a];l.length>1&&(l=e_(l,s,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),n[c]=l})}}),n}}class xpe{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new _pe(s.style,s.options&&s.options.params||{},n)}),vz(this.states,"true","1"),vz(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new _z(e,s,this.states))}),this.fallbackTransition=function(i,e,t){return new _z(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(r,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,s){return this.transitionFactories.find(r=>r.match(e,t,n,s))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function vz(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const Cpe=new r_;class wpe{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],s=BS(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,n){const s=e.element,o=Z3(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(s,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const s=[],o=this._animations[e];let r;const a=new Map;if(o?(r=jS(this._driver,t,o,kS,Qy,{},{},n,Cpe,s),r.forEach(u=>{const h=Ii(a,u.element,{});u.postStyleProps.forEach(d=>h[d]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),r=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((u,h)=>{Object.keys(u).forEach(d=>{u[d]=this._driver.computeStyle(h,d,hr)})});const c=ha(r.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,s){const o=DS(t,"","","");return TS(this._getPlayer(e),n,o,s),()=>{}}command(e,t,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n)return void this.create(e,t,s[0]||{});const o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const xz="ng-animate-queued",bz="ng-animate-disabled",Cz=".ng-animate-disabled",Epe=[],wz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ape={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rs="__ng_removed";class WS{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(n?e.value:e),n){const o=Bu(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(s=>{null==n[s]&&(n[s]=t[s])})}}}const Pp="void",qS=new WS(Pp);class Mpe{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,as(t,this._hostClassName)}listen(e,t,n,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);const o=Ii(this._elementListeners,e,[]),r={name:t,phase:n,callback:s};o.push(r);const a=Ii(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(as(e,Xy),as(e,Xy+"-"+t),a[t]=qS),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(r);l>=0&&o.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,s=!0){const o=this._getTrigger(t),r=new KS(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(as(e,Xy),as(e,Xy+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new WS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=qS),c.value!==Pp&&l.value===c.value){if(!function(i,e){const t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++){const o=t[s];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),v=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{bl(e,g),bo(e,v)})}return}const d=Ii(this._engine.playersByElement,e,[]);d.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),f=!1;if(!p){if(!s)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:r,isFallbackTransition:f}),f||(as(e,xz),r.onStart(()=>{zu(e,xz)})),r.onDone(()=>{let m=this.players.indexOf(r);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(r);v>=0&&g.splice(v,1)}}),this.players.push(r),d.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Zy,!0);n.forEach(s=>{if(s[rs])return;const o=this._engine.fetchNamespacesByElement(s);o.size?o.forEach(r=>r.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,n,s){const o=this._engine.statesByElement.get(e);if(o){const r=[];if(Object.keys(o).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Pp,s);l&&r.push(l)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&ha(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const s=new Set;t.forEach(o=>{const r=o.name;if(s.has(r))return;s.add(r);const l=this._triggers[r].fallbackTransition,c=n[r]||qS,u=new WS(Pp),h=new KS(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)s=!0;else{let r=e;for(;r=r.parentNode;)if(n.statesByElement.get(r)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)n.markElementAsRemoved(this.id,e,!1,t);else{const o=e[rs];(!o||o===wz)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){as(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const o=n.element,r=this._elementListeners.get(o);r&&r.forEach(a=>{if(a.name==n.triggerName){const l=DS(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,TS(n.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(n)}),this._queue=[],t.sort((n,s)=>{const o=n.transition.ast.depCount,r=s.transition.ast.depCount;return 0==o||0==r?o-r:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class Ppe{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new Mpe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let o=n;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let s=this._namespaceLookup[e];s&&s.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const s=Object.keys(n);for(let o=0;o<s.length;o++){const r=n[s[o]].namespaceId;if(r){const a=this._fetchNamespace(r);a&&t.add(a)}}}return t}trigger(e,t,n,s){if(c_(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,n,s),!0}return!1}insertNode(e,t,n,s){if(!c_(t))return;const o=t[rs];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),as(e,bz)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zu(e,bz))}removeNode(e,t,n,s){if(c_(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),n){const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,n,s){this.collectedLeaveElements.push(t),t[rs]={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,s,o){return c_(t)?this._fetchNamespace(e).listen(t,n,s,o):()=>{}}_buildInstruction(e,t,n,s,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Zy,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RS,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ha(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[rs];if(t&&t.setForRemoval){if(e[rs]=wz,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Cz)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Cz,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)as(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?ha(t).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new r_,s=[],o=new Map,r=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const Z=this.driver.query(j,".ng-animate-queued",!0);for(let fe=0;fe<Z.length;fe++)u.add(Z[fe])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Dz(d,this.collectedEnterElements),f=new Map;let m=0;p.forEach((j,Z)=>{const fe=kS+m++;f.set(Z,fe),j.forEach(Ge=>as(Ge,fe))});const g=[],v=new Set,x=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const Z=this.collectedLeaveElements[j],fe=Z[rs];fe&&fe.setForRemoval&&(g.push(Z),v.add(Z),fe.hasAnimation?this.driver.query(Z,".ng-star-inserted",!0).forEach(Ge=>v.add(Ge)):x.add(Z))}const S=new Map,M=Dz(d,Array.from(v));M.forEach((j,Z)=>{const fe=Qy+m++;S.set(Z,fe),j.forEach(Ge=>as(Ge,fe))}),e.push(()=>{p.forEach((j,Z)=>{const fe=f.get(Z);j.forEach(Ge=>zu(Ge,fe))}),M.forEach((j,Z)=>{const fe=S.get(Z);j.forEach(Ge=>zu(Ge,fe))}),g.forEach(j=>{this.processLeaveNode(j)})});const L=[],K=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(fe=>{const Ge=fe.player,vn=fe.element;if(L.push(Ge),this.collectedEnterElements.length){const To=vn[rs];if(To&&To.setForMove)return void Ge.destroy()}const wo=!h||!this.driver.containsElement(h,vn),ki=S.get(vn),pa=f.get(vn),Ot=this._buildInstruction(fe,n,pa,ki,wo);if(Ot.errors&&Ot.errors.length)K.push(Ot);else{if(wo)return Ge.onStart(()=>bl(vn,Ot.fromStyles)),Ge.onDestroy(()=>bo(vn,Ot.toStyles)),void s.push(Ge);if(fe.isFallbackTransition)return Ge.onStart(()=>bl(vn,Ot.fromStyles)),Ge.onDestroy(()=>bo(vn,Ot.toStyles)),void s.push(Ge);Ot.timelines.forEach(To=>To.stretchStartingKeyframe=!0),n.append(vn,Ot.timelines),r.push({instruction:Ot,player:Ge,element:vn}),Ot.queriedElements.forEach(To=>Ii(a,To,[]).push(Ge)),Ot.preStyleProps.forEach((To,Ip)=>{const f_=Object.keys(To);if(f_.length){let wl=l.get(Ip);wl||l.set(Ip,wl=new Set),f_.forEach(ZS=>wl.add(ZS))}}),Ot.postStyleProps.forEach((To,Ip)=>{const f_=Object.keys(To);let wl=c.get(Ip);wl||c.set(Ip,wl=new Set),f_.forEach(ZS=>wl.add(ZS))})}});if(K.length){const j=[];K.forEach(Z=>{j.push(`@${Z.triggerName} has failed due to:\n`),Z.errors.forEach(fe=>j.push(`- ${fe}\n`))}),L.forEach(Z=>Z.destroy()),this.reportError(j)}const J=new Map,we=new Map;r.forEach(j=>{const Z=j.element;n.has(Z)&&(we.set(Z,Z),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,J))}),s.forEach(j=>{const Z=j.element;this._getPreviousPlayers(Z,!1,j.namespaceId,j.triggerName,null).forEach(Ge=>{Ii(J,Z,[]).push(Ge),Ge.destroy()})});const Qe=g.filter(j=>Az(j,l,c)),Ae=new Map;Sz(Ae,this.driver,x,c,hr).forEach(j=>{Az(j,l,c)&&Qe.push(j)});const zt=new Map;p.forEach((j,Z)=>{Sz(zt,this.driver,new Set(j),l,"!")}),Qe.forEach(j=>{const Z=Ae.get(j),fe=zt.get(j);Ae.set(j,Object.assign(Object.assign({},Z),fe))});const _n=[],$s=[],Co={};r.forEach(j=>{const{element:Z,player:fe,instruction:Ge}=j;if(n.has(Z)){if(u.has(Z))return fe.onDestroy(()=>bo(Z,Ge.toStyles)),fe.disabled=!0,fe.overrideTotalTime(Ge.totalTime),void s.push(fe);let vn=Co;if(we.size>1){let ki=Z;const pa=[];for(;ki=ki.parentNode;){const Ot=we.get(ki);if(Ot){vn=Ot;break}pa.push(ki)}pa.forEach(Ot=>we.set(Ot,vn))}const wo=this._buildAnimation(fe.namespaceId,Ge,J,o,zt,Ae);if(fe.setRealPlayer(wo),vn===Co)_n.push(fe);else{const ki=this.playersByElement.get(vn);ki&&ki.length&&(fe.parentPlayer=ha(ki)),s.push(fe)}}else bl(Z,Ge.fromStyles),fe.onDestroy(()=>bo(Z,Ge.toStyles)),$s.push(fe),u.has(Z)&&s.push(fe)}),$s.forEach(j=>{const Z=o.get(j.element);if(Z&&Z.length){const fe=ha(Z);j.setRealPlayer(fe)}}),s.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<g.length;j++){const Z=g[j],fe=Z[rs];if(zu(Z,Qy),fe&&fe.hasAnimation)continue;let Ge=[];if(a.size){let wo=a.get(Z);wo&&wo.length&&Ge.push(...wo);let ki=this.driver.query(Z,RS,!0);for(let pa=0;pa<ki.length;pa++){let Ot=a.get(ki[pa]);Ot&&Ot.length&&Ge.push(...Ot)}}const vn=Ge.filter(wo=>!wo.destroyed);vn.length?Rpe(this,Z,vn):this.processLeaveNode(Z)}return g.length=0,_n.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const Z=this.players.indexOf(j);this.players.splice(Z,1)}),j.play()}),_n}elementContainsData(e,t){let n=!1;const s=t[rs];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,s,o){let r=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(r=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Pp;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||r.push(c)})}}return(n||s)&&(r=r.filter(a=>!(n&&n!=a.namespaceId||s&&s!=a.triggerName))),r}_beforeAnimationBuild(e,t,n){const o=t.element,r=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,h=Ii(n,c,[]);this._getPreviousPlayers(c,u,r,a,t.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),h.push(p)})}bl(o,t.fromStyles)}_buildAnimation(e,t,n,s,o,r){const a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map(f=>{const m=f.element;u.add(m);const g=m[rs];if(g&&g.removedBeforeQueried)return new Du(f.duration,f.delay);const v=m!==l,x=function(i){const e=[];return Ez(i,e),e}((n.get(m)||Epe).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===m),S=o.get(m),M=r.get(m),L=Z3(0,this._normalizer,0,f.keyframes,S,M),K=this._buildPlayer(f,L,x);if(f.subTimeline&&s&&h.add(m),v){const J=new KS(e,a,m);J.setRealPlayer(K),c.push(J)}return K});c.forEach(f=>{Ii(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function(i,e,t){let n;if(i instanceof Map){if(n=i.get(e),n){if(n.length){const s=n.indexOf(t);n.splice(s,1)}0==n.length&&i.delete(e)}}else if(n=i[e],n){if(n.length){const s=n.indexOf(t);n.splice(s,1)}0==n.length&&delete i[e]}return n}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>as(f,rz));const p=ha(d);return p.onDestroy(()=>{u.forEach(f=>zu(f,rz)),bo(l,t.toStyles)}),h.forEach(f=>{Ii(s,f,[]).push(p)}),p}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Du(e.duration,e.delay)}}class KS{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Du,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>TS(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ii(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function c_(i){return i&&1===i.nodeType}function Tz(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function Sz(i,e,t,n,s){const o=[];t.forEach(l=>o.push(Tz(l)));const r=[];n.forEach((l,c)=>{const u={};l.forEach(h=>{const d=u[h]=e.computeStyle(c,h,s);(!d||0==d.length)&&(c[rs]=Ape,r.push(c))}),i.set(c,u)});let a=0;return t.forEach(l=>Tz(l,o[a++])),r}function Dz(i,e){const t=new Map;if(i.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),o=new Map;function r(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:s.has(c)?1:r(c),o.set(a,l),l}return e.forEach(a=>{const l=r(a);1!==l&&t.get(l).push(a)}),t}const u_="$$classes";function as(i,e){if(i.classList)i.classList.add(e);else{let t=i[u_];t||(t=i[u_]={}),t[e]=!0}}function zu(i,e){if(i.classList)i.classList.remove(e);else{let t=i[u_];t&&delete t[e]}}function Rpe(i,e,t){ha(t).onDone(()=>i.processLeaveNode(e))}function Ez(i,e){for(let t=0;t<i.length;t++){const n=i[t];n instanceof cB?Ez(n.players,e):e.push(n)}}function Az(i,e,t){const n=t.get(i);if(!n)return!1;let s=e.get(i);return s?n.forEach(o=>s.add(o)):e.set(i,n),t.delete(i),!0}class h_{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new Ppe(e,t,n),this._timelineEngine=new wpe(e,t,n),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,n,s,o){const r=e+"-"+s;let a=this._triggerCache[r];if(!a){const l=[],c=BS(this._driver,o,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(i,e,t){return new xpe(i,e,t)}(s,c,this._normalizer),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,s){this._transitionEngine.insertNode(e,t,n,s)}onRemove(e,t,n,s){this._transitionEngine.removeNode(e,t,s||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,s){if("@"==n.charAt(0)){const[o,r]=J3(n);this._timelineEngine.command(o,t,r,s)}else this._transitionEngine.trigger(e,t,n,s)}listen(e,t,n,s,o){if("@"==n.charAt(0)){const[r,a]=J3(n);return this._timelineEngine.listen(r,t,a,o)}return this._transitionEngine.listen(e,t,n,s,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Mz(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=YS(e[0]),e.length>1&&(n=YS(e[e.length-1]))):e&&(t=YS(e)),t||n?new Hu(i,t,n):null}class Hu{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let s=Hu.initialStylesByElement.get(e);s||Hu.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&bo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bo(this._element,this._initialStyles),this._endStyles&&(bo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Hu.initialStylesByElement.delete(this._element),this._startStyles&&(bl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),bo(this._element,this._initialStyles),this._state=3)}}function YS(i){let e=null;const t=Object.keys(i);for(let n=0;n<t.length;n++){const s=t[n];Fpe(s)&&(e=e||{},e[s]=i[s])}return e}function Fpe(i){return"display"===i||"position"===i}Hu.initialStylesByElement=new WeakMap;const Pz="animation",Iz="animationend";class zpe{constructor(e,t,n,s,o,r,a){this._element=e,this._name=t,this._duration=n,this._delay=s,this._easing=o,this._fillMode=r,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(i,e){const t=XS(i,"").trim();let n=0;t.length&&(function(i,e){let t=0;for(let n=0;n<i.length;n++)","===i.charAt(n)&&t++;return t}(t)+1,e=`${t}, ${e}`),d_(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Rz(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Nz(this._element,this._name,"paused")}resume(){Nz(this._element,this._name,"running")}setPosition(e){const t=kz(this._element,this._name);this._position=e*this._duration,d_(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Rz(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const n=XS(i,"").split(","),s=QS(n,e);s>=0&&(n.splice(s,1),d_(i,"",n.join(",")))}(this._element,this._name))}}function Nz(i,e,t){d_(i,"PlayState",t,kz(i,e))}function kz(i,e){const t=XS(i,"");return t.indexOf(",")>0?QS(t.split(","),e):QS([t],e)}function QS(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function Rz(i,e,t){t?i.removeEventListener(Iz,e):i.addEventListener(Iz,e)}function d_(i,e,t,n){const s=Pz+e;if(null!=n){const o=i.style[s];if(o.length){const r=o.split(",");r[n]=t,t=r.join(",")}}i.style[s]=t}function XS(i,e){return i.style[Pz+e]||""}class Oz{constructor(e,t,n,s,o,r,a,l){this.element=e,this.keyframes=t,this.animationName=n,this._duration=s,this._delay=o,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=s+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new zpe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:VS(this.element,n))})}this.currentSnapshot=e}}class Wpe extends Du{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=iz(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Fz{constructor(){this._count=0}validateStyleProperty(e){return MS(e)}matchesElement(e,t){return PS(e,t)}containsElement(e,t){return IS(e,t)}query(e,t,n){return NS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(a=>iz(a));let s=`@keyframes ${t} {\n`,o="";n.forEach(a=>{o=" ";const l=parseFloat(a.offset);s+=`${o}${100*l}% {\n`,o+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(s+=`${o}animation-timing-function: ${u};\n`));default:return void(s+=`${o}${c}: ${u};\n`)}}),s+=`${o}}\n`}),s+="}\n";const r=document.createElement("style");return r.textContent=s,r}animate(e,t,n,s,o,r=[],a){const l=r.filter(g=>g instanceof Oz),c={};hz(n,s)&&l.forEach(g=>{let v=g.currentSnapshot;Object.keys(v).forEach(x=>c[x]=v[x])});const u=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(s=>{"offset"==s||"easing"==s||(e[s]=n[s])})}),e}(t=dz(e,t,c));if(0==n)return new Wpe(e,u);const h="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,h,t);(function(i){var e;const t=null===(e=i.getRootNode)||void 0===e?void 0:e.call(i);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(d);const f=Mz(e,t),m=new Oz(e,t,h,n,s,o,u,f);return m.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(d)),m}}class Bz{constructor(e,t,n,s){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:VS(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class Xpe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zz().toString()),this._cssKeyframesDriver=new Fz}validateStyleProperty(e){return MS(e)}matchesElement(e,t){return PS(e,t)}containsElement(e,t){return IS(e,t)}query(e,t,n){return NS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,s,o,r=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,s,o,r);const u={duration:n,delay:s,fill:0==s?"both":"forwards"};o&&(u.easing=o);const h={},d=r.filter(f=>f instanceof Bz);hz(n,s)&&d.forEach(f=>{let m=f.currentSnapshot;Object.keys(m).forEach(g=>h[g]=m[g])});const p=Mz(e,t=dz(e,t=t.map(f=>da(f,!1)),h));return new Bz(e,t,u,p)}}function zz(){return X3()&&Element.prototype.animate||{}}let Jpe=(()=>{class i extends NT{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:I.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?aB(t):t;return Hz(this._renderer,null,n,"register",[s]),new efe(n,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(F(Oo),F(Gt))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class efe extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tfe(this._id,e,t||{},this._renderer)}}class tfe{constructor(e,t,n,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Hz(i,e,t,n,s){return i.setProperty(e,`@@${t}:${n}`,s)}const jz="@.disabled";let nfe=(()=>{class i{constructor(t,n,s){this.delegate=t,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,r)=>{r&&r.parentNode(o)&&r.removeChild(o.parentNode,o)}}createRenderer(t,n){const o=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let u=this._rendererCache.get(o);return u||(u=new Uz("",o,this.engine),this._rendererCache.set(o,u)),u}const r=n.id,a=n.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(r,a,t,u.name,u)};return n.data.animation.forEach(l),new ife(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,s){t>=0&&t<this._microtaskId?this._zone.run(()=>n(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[r,a]=o;r(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(F(Oo),F(h_),F(Ke))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();class Uz{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,s=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==jz?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ife extends Uz{constructor(e,t,n,s){super(t,n,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jz?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let o=t.substr(1),r="";return"@"!=o.charAt(0)&&([o,r]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,s,o,r,a=>{this.factory.scheduleListenerCallback(a._data||-1,n,a)})}return this.delegate.listen(e,t,n)}}let rfe=(()=>{class i extends h_{constructor(t,n,s){super(t.body,n,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(F(Gt),F(Yy),F($S))},i.\u0275prov=H({token:i,factory:i.\u0275fac}),i})();const $z=new Ne("AnimationModuleType"),Gz=[{provide:NT,useClass:Jpe},{provide:$S,useFactory:function(){return new fpe}},{provide:h_,useClass:rfe},{provide:Oo,useFactory:function(i,e,t){return new nfe(i,e,t)},deps:[Pm,h_,Ke]}],Wz=[{provide:Yy,useFactory:function(){return"function"==typeof zz()?new Xpe:new Fz}},{provide:$z,useValue:"BrowserAnimations"},...Gz],qz=[{provide:Yy,useClass:sz},{provide:$z,useValue:"NoopAnimations"},...Gz];let ufe=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?qz:Wz}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i}),i.\u0275inj=jt({providers:Wz,imports:[Yb]}),i})();on(524);let hfe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=Nn({type:i,bootstrap:[Hde]}),i.\u0275inj=jt({providers:[km,Q3,Rm,$c,AN,cd,bS,Y3,CS,Gc,TN],imports:[[Yb,jc,aK,Fde,ufe]]}),i})();(function(i,e,t){const n=i.\u0275cmp;n.directiveDefs=()=>e.map(c1),n.pipeDefs=()=>t.map(u1)})(MN,[vi,Gc,kr,CS],[Fb]),function(){if(eI)throw new Error("Cannot enable prod mode after platform setup.");JP=!1}(),R9().bootstrapModule(hfe).catch(i=>console.error(i))}},mr=>{mr(mr.s=442)}]);